
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://piakocode.github.io/Web%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/Spring/SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89SpringSecurity%E5%9F%BA%E7%A1%80/">
      
      
        <link rel="prev" href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89Spring%E5%9F%BA%E7%A1%80/">
      
      
        <link rel="next" href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89SpringMvc%E5%9F%BA%E7%A1%80/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>SSMÁ¨îËÆ∞Ôºà‰∏âÔºâSpringSecurityÂü∫Á°Ä - Piako's notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#springsecurity" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Piako&#39;s notebook" class="md-header__button md-logo" aria-label="Piako's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Piako's notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SSMÁ¨îËÆ∞Ôºà‰∏âÔºâSpringSecurityÂü∫Á°Ä
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Read%20List/" class="md-tabs__link">
        
  
    
  
  Read List

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../%E5%AD%A6%E4%B9%A0%E7%BB%8F%E9%AA%8C/" class="md-tabs__link">
        
  
    
  
  Â≠¶‰π†ÁªèÈ™å

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" class="md-tabs__link">
        
  
    
  
  ÊØï‰∏öËÆæËÆ°

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="md-tabs__link">
          
  
  AI

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Algorithm/ICPC%20%E6%A8%A1%E6%9D%BF/" class="md-tabs__link">
          
  
  Algorithm

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Misc/RPC%E5%AD%A6%E4%B9%A0/" class="md-tabs__link">
          
  
  Misc

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../System/System/" class="md-tabs__link">
          
  
  System

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../Linux%E7%BC%96%E7%A8%8B/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" class="md-tabs__link">
          
  
  WebÂºÄÂèë

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E5%85%B6%E4%BB%96/CMU15445/CMU-15-445-spring2023%E9%80%9A%E5%85%B3%E8%AE%B0%E5%BD%95/" class="md-tabs__link">
          
  
  ÂÖ∂‰ªñ

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Bash%20%E8%84%9A%E6%9C%AC/" class="md-tabs__link">
          
  
  Â∑•ÂÖ∑‰ΩøÁî®

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/C%2B%2B%E4%BB%A3%E7%A0%81%E6%A0%B7%E4%BE%8B/" class="md-tabs__link">
          
  
  ÁºñÁ®ãËØ≠Ë®Ä

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Piako&#39;s notebook" class="md-nav__button md-logo" aria-label="Piako's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Piako's notebook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Read%20List/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Read List
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%AD%A6%E4%B9%A0%E7%BB%8F%E9%AA%8C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â≠¶‰π†ÁªèÈ™å
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊØï‰∏öËÆæËÆ°
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Êú∫Âô®Â≠¶‰π†
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàò
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†Ôºà‰∫åÔºâ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Â∏∏Áî®Â∫ì
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Â∏∏Áî®Â∫ì
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/Keras/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keras
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    numpy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/opencv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    opencv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/pandas%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pandas Âü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4_5" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4_5" id="__nav_5_1_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Matplotlib
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4_5">
            <span class="md-nav__icon md-icon"></span>
            Matplotlib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/matplotlib/matplotlib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    matplotlib
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4_6" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4_6" id="__nav_5_1_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Seaborn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4_6">
            <span class="md-nav__icon md-icon"></span>
            Seaborn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/seaborn/seaborn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    seaborn
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4_7" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4_7" id="__nav_5_1_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4_7">
            <span class="md-nav__icon md-icon"></span>
            Sklearn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/sklearn/sklearn%20%E5%85%A5%E9%97%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn ÂÖ•Èó®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/sklearn/sklearn%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SKlearn Â∏∏Áî®‰ª£Á†Å
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ê∑±Â∫¶Â≠¶‰π†
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Ê∑±Â∫¶Â≠¶‰π†
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Code-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code-‰∫∫Â∑•Êô∫ËÉΩ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Pytorch%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch ‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê∑±Â∫¶Â≠¶‰π†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CV
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            CV
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4_1" id="__nav_5_2_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Yolo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4_1">
            <span class="md-nav__icon md-icon"></span>
            Yolo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/CV/yolo/yolo%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    yoloV5Âü∫Êú¨‰ªãÁªç
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_5" id="__nav_5_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Âç∑ÁßØÁ•ûÁªèÁΩëÁªú
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_5">
            <span class="md-nav__icon md-icon"></span>
            Âç∑ÁßØÁ•ûÁªèÁΩëÁªú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âç∑ÁßØÁ•ûÁªèÁΩëÁªúÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÈÅáÂà∞ÁöÑÈóÆÈ¢ò
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            ÈÅáÂà∞ÁöÑÈóÆÈ¢ò
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/%E7%BC%96%E7%A8%8B%E7%BB%86%E8%8A%82%E7%9B%B8%E5%85%B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÁºñÁ®ãÁªÜËäÇÁõ∏ÂÖ≥
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Algorithm
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Algorithm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/ICPC%20%E6%A8%A1%E6%9D%BF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ICPC Ê®°Êùø
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âä®ÊÄÅËßÑÂàí
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%F0%9F%A7%90%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂÅöÈ¢òËÆ∞ÂΩïüí≠üí°üéà
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            ÂÅöÈ¢òËÆ∞ÂΩïüí≠üí°üéà
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/ACwing%E9%A2%98%E9%9B%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ACwingÈ¢òÈõÜ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_2" >
        
          
          <label class="md-nav__link" for="__nav_6_4_2" id="__nav_6_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ACwing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_2">
            <span class="md-nav__icon md-icon"></span>
            ACwing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/ACwing/1499%20%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê†ëÁöÑÈÅçÂéÜ 1499
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/ACwing/284%20%E7%9F%B3%E5%AD%90%E5%90%88%E5%B9%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    284 Áü≥Â≠êÂêàÂπ∂
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_3" >
        
          
          <label class="md-nav__link" for="__nav_6_4_3" id="__nav_6_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Codeforces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_3">
            <span class="md-nav__icon md-icon"></span>
            Codeforces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/Codeforces/1307D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BFS #ÂõæËÆ∫ #Codeforces
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4_4" id="__nav_6_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ê¥õË∞∑
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_4">
            <span class="md-nav__icon md-icon"></span>
            Ê¥õË∞∑
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/%E6%B4%9B%E8%B0%B7/P1119%20%E7%81%BE%E5%90%8E%E9%87%8D%E5%BB%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    P1119 ÁÅæÂêéÈáçÂª∫
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/%E6%B4%9B%E8%B0%B7/P5076%20%E6%99%AE%E9%80%9A%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E7%AE%80%E5%8C%96%E7%89%88%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ‰∫åÂèâÊ†ë #‰∫åÂèâÊêúÁ¥¢Ê†ë
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/RPC%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPCÂ≠¶‰π†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/Record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/Todo%20List/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TODO LIST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/mermaid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mermaid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/obsidian%20%E5%A5%BD%E7%94%A8%E7%9A%84%E6%8F%92%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Obsidian Â•ΩÁî®ÁöÑÊèí‰ª∂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/%E5%90%84%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂêÑÁßçÈÖçÁΩÆÊñá‰ª∂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/%E5%B0%8F%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∞èËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/%E8%80%83%E7%A0%94%E9%99%A2%E6%A0%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËÄÉÁ†îÈô¢Ê†°ËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/System/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/%E5%B9%B6%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âπ∂Âèë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RISC V
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            RISC V
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/RISC-V/RISC-V/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RISC-V
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/RISC-V/%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RISC-VÂü∫Êú¨Êåá‰ª§
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/RISC-V/%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊµãËØï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    rCore
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            rCore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/ch0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/ch1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/ch5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ch5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4" id="__nav_8_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    rCoreÂ≠¶‰π†ËÆ∞ÂΩï
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4">
            <span class="md-nav__icon md-icon"></span>
            rCoreÂ≠¶‰π†ËÆ∞ÂΩï
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/rCore%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/rCore%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â≠¶‰π†ËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    WebÂºÄÂèë
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            WebÂºÄÂèë
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LinuxÁºñÁ®ã
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            LinuxÁºñÁ®ã
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    epoll
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux ÁΩëÁªúÁºñÁ®ã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/connect%E3%80%81listen%E5%92%8Caccept/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    connect„ÄÅlistenÂíåaccept
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/epoll/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    epoll
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/io_uring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    io_uring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_6" >
        
          
          <label class="md-nav__link" for="__nav_9_1_6" id="__nav_9_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux UnixÁºñÁ®ãÊâãÂÜå
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_6">
            <span class="md-nav__icon md-icon"></span>
            Linux UnixÁºñÁ®ãÊâãÂÜå
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/Linux-Unix%E7%BC%96%E7%A8%8B%E6%89%8B%E5%86%8C/1.%20%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âü∫Êú¨Ê¶ÇÂøµ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2" >
        
          
          <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂâçÁ´Ø
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2">
            <span class="md-nav__icon md-icon"></span>
            ÂâçÁ´Ø
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%89%8D%E7%AB%AF/CSS%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSSÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%89%8D%E7%AB%AF/HTML%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTMLÁ¨îËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂâçÁ´ØÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3" checked>
        
          
          <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂêéÁ´ØÂºÄÂèë
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            ÂêéÁ´ØÂºÄÂèë
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Java%E7%9A%84%E5%9D%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaÁöÑÂùë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jwt%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JwtÁªìÊûÑ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËΩØ‰ª∂Êû∂ÊûÑ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_9_3_4" id="__nav_9_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Spring
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_3_4">
            <span class="md-nav__icon md-icon"></span>
            Spring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mybatis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mybatis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89Spring%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSMÁ¨îËÆ∞Ôºà‰∏ÄÔºâSpringÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    SSMÁ¨îËÆ∞Ôºà‰∏âÔºâSpringSecurityÂü∫Á°Ä
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    SSMÁ¨îËÆ∞Ôºà‰∏âÔºâSpringSecurityÂü∫Á°Ä
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      ÁΩëÁªúÂÆâÂÖ®Âü∫Á°Ä
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÁΩëÁªúÂÆâÂÖ®Âü∫Á°Ä">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ÊµãËØïÁéØÂ¢ÉÊê≠Âª∫
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csrf" class="md-nav__link">
    <span class="md-ellipsis">
      CSRFË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÊîªÂáª
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sfa" class="md-nav__link">
    <span class="md-ellipsis">
      SFA‰ºöËØùÂõ∫ÂÆöÊîªÂáª
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xss" class="md-nav__link">
    <span class="md-ellipsis">
      XSSË∑®Á´ôËÑöÊú¨ÊîªÂáª
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆ§ËØÅ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ËÆ§ËØÅ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éÂÜÖÂ≠òÈ™åËØÅ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éÊï∞ÊçÆÂ∫ìÈ™åËØÅ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      Ëá™ÂÆö‰πâÈ™åËØÅ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÖ∂‰ªñÈÖçÁΩÆ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÂÖ∂‰ªñÈÖçÁΩÆ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      Ëá™ÂÆö‰πâÁôªÂΩïÁïåÈù¢
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆ∞‰ΩèÊàëÂäüËÉΩ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      ÊéàÊùÉ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÊéàÊùÉ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éËßíËâ≤ÊéàÊùÉ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éÊùÉÈôêÊéàÊùÉ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî®Ê≥®Ëß£ÊùÉÈôêÂà§Êñ≠
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÈÉ®Êú∫Âà∂Êé¢Á©∂
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÂÜÖÈÉ®Êú∫Âà∂Êé¢Á©∂">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      ÊéàÊùÉÊ†°È™åÊµÅÁ®ã
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆâÂÖ®‰∏ä‰∏ãÊñá
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆâÂÖ®‰∏ä‰∏ãÊñáÊåÅ‰πÖÂåñËøáÊª§Âô®
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆûÊàòÔºöÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªü
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89SpringMvc%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringMVCÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SpringMVC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringMVC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SpringSecurity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringSecurity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªü
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_5" >
        
          
          <label class="md-nav__link" for="__nav_9_3_5" id="__nav_9_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SpringBoot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_5">
            <span class="md-nav__icon md-icon"></span>
            SpringBoot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBoot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%E6%A0%B8%E5%BF%83%E5%86%85%E5%AE%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBootÁ¨îËÆ∞Ôºà‰∏ÄÔºâÊ†∏ÂøÉÂÜÖÂÆπ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBootÁ¨îËÆ∞Ôºà‰∏âÔºâÂâçÂêéÁ´ØÂàÜÁ¶ª
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBootÁ¨îËÆ∞Ôºà‰∫åÔºâÊï∞ÊçÆ‰∫§‰∫í
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_6" >
        
          
          <label class="md-nav__link" for="__nav_9_3_6" id="__nav_9_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SpringCloud
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_6">
            <span class="md-nav__icon md-icon"></span>
            SpringCloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCloud%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringCloudÁ¨îËÆ∞Ôºà‰∏ÄÔºâ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCloud%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂæÆÊúçÂä°Â∫îÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCloud%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringCloudÁ¨îËÆ∞ÔºàÂõõÔºâ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCould%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringCouldÁ¨îËÆ∞Ôºà‰∫åÔºâ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_7" >
        
          
          <label class="md-nav__link" for="__nav_9_3_7" id="__nav_9_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Etcd
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_7">
            <span class="md-nav__icon md-icon"></span>
            Etcd
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etcd/etcd%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    etcdÂü∫Êú¨‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_8" >
        
          
          <label class="md-nav__link" for="__nav_9_3_8" id="__nav_9_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_8">
            <span class="md-nav__icon md-icon"></span>
            Gin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin%20%2B%20Gorm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gin + Gorm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin-Gorm-Todo_List/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Todo-List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin%E6%A0%B7%E4%BE%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GinÊ†∑‰æã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gorm%E6%A0%B7%E4%BE%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GormÊ†∑‰æã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/%E4%B8%8A%E4%BC%A0%E3%80%81%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ‰∏ä‰º†„ÄÅ‰∏ãËΩΩÊñá‰ª∂
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4" >
        
          
          <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Êï∞ÊçÆÂ∫ì
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            Êï∞ÊçÆÂ∫ì
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/build%20a%20simple%20database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    build a simple database
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂÖ∂‰ªñ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            ÂÖ∂‰ªñ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_1" >
        
          
          <label class="md-nav__link" for="__nav_10_1" id="__nav_10_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CMU15445
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_1">
            <span class="md-nav__icon md-icon"></span>
            CMU15445
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CMU15445/CMU-15-445-spring2023%E9%80%9A%E5%85%B3%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMU15445ÈÄöÂÖ≥ËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2" >
        
          
          <label class="md-nav__link" for="__nav_10_2" id="__nav_10_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSAPP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2">
            <span class="md-nav__icon md-icon"></span>
            CSAPP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/3.%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Á®ãÂ∫èÁöÑÊú∫Âô®Á∫ßË°®Á§∫
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/bomb%20lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bomb lab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/data%20lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data lab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/%E5%BC%82%E5%B8%B8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂºÇÂ∏∏
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËôöÊãüÂÜÖÂ≠ò
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/%E9%93%BE%E6%8E%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÈìæÊé•
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_7" >
        
          
          <label class="md-nav__link" for="__nav_10_2_7" id="__nav_10_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CMU15 455
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_7">
            <span class="md-nav__icon md-icon"></span>
            CMU15 455
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/CMU15-455/CMU15-455/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMU15-455
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3" >
        
          
          <label class="md-nav__link" for="__nav_10_3" id="__nav_10_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MIT6.S081 Êìç‰ΩúÁ≥ªÁªü
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3">
            <span class="md-nav__icon md-icon"></span>
            MIT6.S081 Êìç‰ΩúÁ≥ªÁªü
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/1.%20Lab%20Utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Lab Utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/2.%20Lab%20system%20calls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab: system calls
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/3.%20Lab%20page%20tables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab: page tables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/4.%20Lab%20Traps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab: Traps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/7.%20Lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Lab
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4" >
        
          
          <label class="md-nav__link" for="__nav_10_4" id="__nav_10_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NJU OS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4">
            <span class="md-nav__icon md-icon"></span>
            NJU OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/NJU%20OS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êìç‰ΩúÁ≥ªÁªü
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5" >
        
          
          <label class="md-nav__link" for="__nav_10_5" id="__nav_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OSTEP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5">
            <span class="md-nav__icon md-icon"></span>
            OSTEP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/OSTEP/OSTEP%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OSTEPËØª‰π¶Á¨îËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6" >
        
          
          <label class="md-nav__link" for="__nav_10_6" id="__nav_10_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ËÆ°ÁÆóÊú∫ÁΩëÁªú
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6">
            <span class="md-nav__icon md-icon"></span>
            ËÆ°ÁÆóÊú∫ÁΩëÁªú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%20%E6%A6%82%E8%AE%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê¶ÇËÆ∫
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/CS144/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS144
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËÆ°ÁÆóÊú∫ÁΩëÁªú
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Â∑•ÂÖ∑‰ΩøÁî®
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Â∑•ÂÖ∑‰ΩøÁî®
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Bash%20%E8%84%9A%E6%9C%AC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bash ËÑöÊú¨
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/CMake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMake
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Doxygen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Doxygen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Helix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Hyprland%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hyprlandÈÖçÁΩÆ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Linux%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LinuxÁ¨îËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Make/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Make‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/MongoDB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/MySQL%E6%8C%87%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySQLÊåá‰ª§
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Nginx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nginx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docker ‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/gdb%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gdbÂ∏∏Áî®ÂëΩ‰ª§
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/tmux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tmux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/%E5%B8%B8%E7%94%A8Latex%E7%AC%A6%E5%8F%B7%E5%85%AC%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∏∏Áî®LatexÁ¨¶Âè∑ÂÖ¨Âºè
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/%E5%B8%B8%E7%94%A8git%E6%8C%87%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∏∏Áî®gitÊåá‰ª§
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÁºñÁ®ãËØ≠Ë®Ä
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            ÁºñÁ®ãËØ≠Ë®Ä
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1" >
        
          
          <label class="md-nav__link" for="__nav_12_1" id="__nav_12_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_1">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/C%2B%2B%E4%BB%A3%E7%A0%81%E6%A0%B7%E4%BE%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++-Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/C%2B%2B%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reactor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/GTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GTest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/Google%20benchmark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google benchmark
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/clang-format%20%20%26%20clang-tidy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clang-format &amp; clang-tidy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1_6" >
        
          
          <label class="md-nav__link" for="__nav_12_1_6" id="__nav_12_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ËØ≠Ê≥ï
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_12_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_1_6">
            <span class="md-nav__icon md-icon"></span>
            ËØ≠Ê≥ï
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/%E8%AF%AD%E6%B3%95/C%2B%2B%20Template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++ Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/%E8%AF%AD%E6%B3%95/C%2B%2B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/%E8%AF%AD%E6%B3%95/C%2B%2B%E5%BA%93%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++ Â∫ìÂáΩÊï∞
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_2" >
        
          
          <label class="md-nav__link" for="__nav_12_2" id="__nav_12_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CËØ≠Ë®Ä
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_2">
            <span class="md-nav__icon md-icon"></span>
            CËØ≠Ë®Ä
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CËØ≠Ë®Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CËØ≠Ë®ÄÂπ∂ÂèëÁºñÁ®ã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E7%9A%84%E7%BC%96%E8%AF%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CÁöÑÁºñËØë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/ELF%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ELFÊñá‰ª∂ÁªìÊûÑ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_3" >
        
          
          <label class="md-nav__link" for="__nav_12_3" id="__nav_12_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Go
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_3">
            <span class="md-nav__icon md-icon"></span>
            Go
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go-tricks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go-tricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoÂü∫Á°ÄËØ≠Ê≥ï
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go%E5%B9%B6%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âπ∂Âèë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E8%A7%84%E8%8C%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standard Go Project Layout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/jwt-go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jwt-go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/protobuf%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    protobuf‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_4" >
        
          
          <label class="md-nav__link" for="__nav_12_4" id="__nav_12_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Java
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_4">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/Java-OI%E6%B5%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaOIÊµÅ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/linux%E5%AE%89%E8%A3%85mysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LinuxÂÆâË£Ömysql
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_5" >
        
          
          <label class="md-nav__link" for="__nav_12_5" id="__nav_12_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rust
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_5">
            <span class="md-nav__icon md-icon"></span>
            Rust
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/Cargo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cargo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/Rust-Code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/rust%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RustËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/simple%20but%20useful%20code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ‰ª£Á†Å
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_5_5" >
        
          
          <label class="md-nav__link" for="__nav_12_5_5" id="__nav_12_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ËØ≠Ê≥ï
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_12_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_5_5">
            <span class="md-nav__icon md-icon"></span>
            ËØ≠Ê≥ï
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/0.%E5%AE%89%E8%A3%85Rust%E5%92%8CHello%2CWorld/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂÆâË£ÖRustÂíåHello,World
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/1.Rust%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RustÂü∫Êú¨ËØ≠Ê≥ï
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/10.%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÁîüÂëΩÂë®Êúü
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/11.%E9%97%AD%E5%8C%85%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Èó≠ÂåÖÂíåËø≠‰ª£Âô®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/12.%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êô∫ËÉΩÊåáÈíà
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/13.%E5%B9%B6%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âπ∂Âèë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/14.%20%E8%BF%9B%E9%98%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËøõÈò∂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/2.%E6%89%80%E6%9C%89%E6%9D%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊâÄÊúâÊùÉ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/3.%E7%BB%93%E6%9E%84%E4%BD%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÁªìÊûÑ‰Ωì
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/4.%E6%9E%9A%E4%B8%BE%E5%92%8C%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êûö‰∏æÂíåÊ®°ÂºèÂåπÈÖç
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/5.%E5%B8%B8%E8%A7%81%E9%9B%86%E5%90%88%28Vec%E3%80%81string%E3%80%81map%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∏∏ËßÅÈõÜÂêà
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/6.%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê®°Âùó Crate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/7.%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÈîôËØØÂ§ÑÁêÜ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/8.%E6%B3%9B%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê≥õÂûã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/9.Trait/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trait
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/%E6%9E%84%E5%BB%BA%E5%A4%9A%E7%BA%BF%E7%A8%8Bweb%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊûÑÂª∫Â§öÁ∫øÁ®ãwebÊúçÂä°Âô®
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      ÁΩëÁªúÂÆâÂÖ®Âü∫Á°Ä
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÁΩëÁªúÂÆâÂÖ®Âü∫Á°Ä">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ÊµãËØïÁéØÂ¢ÉÊê≠Âª∫
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csrf" class="md-nav__link">
    <span class="md-ellipsis">
      CSRFË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÊîªÂáª
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sfa" class="md-nav__link">
    <span class="md-ellipsis">
      SFA‰ºöËØùÂõ∫ÂÆöÊîªÂáª
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xss" class="md-nav__link">
    <span class="md-ellipsis">
      XSSË∑®Á´ôËÑöÊú¨ÊîªÂáª
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆ§ËØÅ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ËÆ§ËØÅ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éÂÜÖÂ≠òÈ™åËØÅ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éÊï∞ÊçÆÂ∫ìÈ™åËØÅ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      Ëá™ÂÆö‰πâÈ™åËØÅ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÖ∂‰ªñÈÖçÁΩÆ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÂÖ∂‰ªñÈÖçÁΩÆ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      Ëá™ÂÆö‰πâÁôªÂΩïÁïåÈù¢
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆ∞‰ΩèÊàëÂäüËÉΩ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      ÊéàÊùÉ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÊéàÊùÉ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éËßíËâ≤ÊéàÊùÉ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      Âü∫‰∫éÊùÉÈôêÊéàÊùÉ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî®Ê≥®Ëß£ÊùÉÈôêÂà§Êñ≠
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÜÖÈÉ®Êú∫Âà∂Êé¢Á©∂
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÂÜÖÈÉ®Êú∫Âà∂Êé¢Á©∂">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      ÊéàÊùÉÊ†°È™åÊµÅÁ®ã
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆâÂÖ®‰∏ä‰∏ãÊñá
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆâÂÖ®‰∏ä‰∏ãÊñáÊåÅ‰πÖÂåñËøáÊª§Âô®
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆûÊàòÔºöÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªü
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/FyOIH7ZU5sE2gen.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701170904832" src="https://s2.loli.net/2023/07/01/FyOIH7ZU5sE2gen.png" /></a></p>
<h1 id="springsecurity">SpringSecurity<a class="headerlink" href="#springsecurity" title="Permanent link">&para;</a></h1>
<p>Âü∫‰∫éSpring6ÁöÑÈáçÂà∂ÁâàÔºåÊà™Ê≠¢ÁõÆÂâçÔºåÊúÄÊñ∞ÁöÑÁâàÊú¨ÊòØ6.1.1ÁâàÊú¨„ÄÇ</p>
<p>ÂâçÁΩÆËØæÁ®ãÔºö„ÄäSpringÊ†∏ÂøÉÂÜÖÂÆπ„Äã„ÄäSpringMvc„Äã„ÄäJavaWeb„Äã„ÄäJava9-17Êñ∞ÁâπÊÄß„Äã</p>
<p>ÂÆâÂÖ®ÊòØÂºÄÂèëËÄÖÊ∞∏ËøúÁªï‰∏çÂºÄÁöÑËØùÈ¢òÔºå‰∏Ä‰∏™‰∏çÂÆâÂÖ®ÁöÑÁΩëÁ´ôÔºåÂæÄÂæÄÂ≠òÂú®ÁùÄÂêÑÁßçËá¥ÂëΩÊºèÊ¥ûÔºåÂè™Ë¶ÅË¢´‰∏çÊ≥ïÂàÜÂ≠êÁ®çÂä†Âà©Áî®ÔºåÂ∞±ËÉΩÁõ¥Êé•ÂáªÊ∫ÉÊï¥‰∏™ÁΩëÁ´ôÔºåÁîöËá≥Á†¥ÂùèÁΩëÁ´ôÂÆùË¥µÁöÑÁî®Êà∑Êï∞ÊçÆ„ÄÇËÄåÁî®Êà∑ÁöÑÊéàÊùÉÊ†°È™åÔºåÂàôÊòØÁΩëÁ´ôÂÆâÂÖ®Á≥ªÁªüÁöÑÂÖ∏Âûã‰ª£Ë°®ÔºåËøô‰πüÊòØÁî®Êà∑ËÆøÈóÆÁΩëÁ´ôÁöÑÁ¨¨‰∏ÄÂÖ≥ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™Êõ¥Âä†ÂÆâÂÖ®ÂíåÂèØÈù†ÁöÑÊéàÊùÉÊ†°È™åÊ°ÜÊû∂ÔºåÊâçËÉΩËÆ©Êàë‰ª¨ÁöÑÁΩëÁ´ôÊõ¥Âä†Á®≥ÂÆö„ÄÇ</p>
<p>SpringSecurityÊòØ‰∏Ä‰∏™Âü∫‰∫éSpringÂºÄÂèëÁöÑÈùûÂ∏∏Âº∫Â§ßÁöÑÊùÉÈôêÈ™åËØÅÊ°ÜÊû∂ÔºåÂÖ∂Ê†∏ÂøÉÂäüËÉΩÂåÖÊã¨Ôºö</p>
<ul>
<li>ËÆ§ËØÅ ÔºàÁî®Êà∑ÁôªÂΩïÔºâ</li>
<li>ÊéàÊùÉ ÔºàÊ≠§Áî®Êà∑ËÉΩÂ§üÂÅöÂì™‰∫õ‰∫ãÊÉÖÔºâ</li>
<li>ÊîªÂáªÈò≤Êä§ ÔºàÈò≤Ê≠¢‰º™ÈÄ†Ë∫´‰ªΩÊîªÂáªÔºâ</li>
</ul>
<p>Êú¨Á´†ÔºåÊàë‰ª¨‰ºö‰ªéÂ§ö‰∏™ÊñπÈù¢ÂØπÊ≠§Ê°ÜÊû∂ËøõË°å‰ªãÁªçÔºåËÆ©ÂêÑ‰ΩçÂ∞è‰ºô‰º¥ËÉΩÂ§üÂú®Ëá™Â∑±ÁöÑÈ°πÁõÆ‰∏≠‰ΩøÁî®Êõ¥Âä†ÂÆâÂÖ®ÂíåÂèØÈù†ÁöÑË∫´‰ªΩÊ†°È™åÊñπÊ°à„ÄÇ</p>
<h2 id="_1">ÁΩëÁªúÂÆâÂÖ®Âü∫Á°Ä<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>ÁΩëÁªúÂÆâÂÖ®ÊòØÂΩì‰ªä‰∫íËÅîÁΩëÊó∂‰ª£ÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∏Ä‰∏™ËÆÆÈ¢ò„ÄÇÂú®‰ø°ÊÅØÁàÜÁÇ∏ÁöÑ‰ªäÂ§©ÔºåÁΩëÁªúÂÆâÂÖ®ÈóÆÈ¢òÈ¢ëÈ¢ëÂèëÁîüÔºåÁªô‰∏™‰∫∫ÂíåÁªÑÁªáÂ∏¶Êù•‰∫Ü‰∏•ÈáçÁöÑÊçüÂ§±ÂíåÂ®ÅËÉÅÔºåÈöèÁùÄÊäÄÊúØÁöÑÂèëÂ±ïÂíå‰∫íËÅîÁΩëÁöÑÊôÆÂèäÔºåÊàë‰ª¨Ë∂äÊù•Ë∂äÊÑèËØÜÂà∞ÁΩëÁªúÂÆâÂÖ®Â∑≤ÁªèÊàê‰∏∫‰∏Ä‰∏™ÂÖ®ÁêÉÊÄßÁöÑÊåëÊàò„ÄÇÊú¨ÈÉ®ÂàÜÔºåÊàë‰ª¨‰ºöÁªôÂêÑ‰ΩçÂ∞è‰ºô‰º¥‰ªãÁªçÁΩëÁªúÂÆâÂÖ®ÁöÑÁõ∏ÂÖ≥Ê¶ÇÂøµÔºå‰ª•ÂèäÂ∏∏ËßÅÁöÑWebÊúçÂä°Âô®ÊîªÂáªÂΩ¢ÂºèÔºåÂ¶ÇÊûú‰Ω†Â∑≤Áªè‰∫ÜËß£Áõ∏ÂÖ≥ÂÜÖÂÆπÔºåÂèØ‰ª•Áõ¥Êé•Ë∑≥ËøáÊú¨ÊùøÂùó„ÄÇ</p>
<p>ÂÖ∂‰∏≠ÊØîËæÉÂÖ∏ÂûãÁöÑÊ°à‰æãÊúâ‰ª•‰∏ãÂá†‰∏™Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/W3oCIbqvLUn492J.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701174518205" src="https://s2.loli.net/2023/07/01/W3oCIbqvLUn492J.png" /></a></p>
<p>Âú®2017Âπ¥Ôºå‰∏ÄÊ¨æÂêçÂè´WannaCryÁöÑÂãíÁ¥¢ËΩØ‰ª∂Â∏≠Âç∑ÂÖ®ÁêÉÔºåÂØºËá¥ÂÖ®ÁêÉÂ§ßÈáèËÆ°ÁÆóÊú∫ÂèóÂà∞ÂΩ±ÂìçÔºåÂæóÁõä‰∫éÂÖ®ÁêÉÁΩëÁªúÁöÑÂèëËææÔºåËøôÊ¨æÁóÖÊØí‰ªéÂ∞èËßÑÊ®°ÂæàÂø´ÂèëÂ±ïËá≥ÂÖ®ÁêÉËåÉÂõ¥ÔºåÂãíÁ¥¢ÁóÖÊØíÊòØËá™ÁÜäÁå´ÁÉßÈ¶ô‰ª•Êù•ÂΩ±ÂìçÂäõÊúÄÂ§ßÁöÑÁóÖÊØí‰πã‰∏Ä„ÄÇ</p>
<blockquote>
<p>WannaCryÔºàÂèàÂè´Wanna DecryptorÔºâÔºå‰∏ÄÁßç‚ÄúË†ïËô´Âºè‚ÄùÁöÑ<a href="https://baike.baidu.com/item/ÂãíÁ¥¢ÁóÖÊØí/16623990?fromModule=lemma_inlink">ÂãíÁ¥¢ÁóÖÊØí</a>ËΩØ‰ª∂ÔºåÂ§ßÂ∞è3.3MBÔºåÁî±‰∏çÊ≥ïÂàÜÂ≠êÂà©Áî®<a href="https://baike.baidu.com/item/NSA/1128824?fromModule=lemma_inlink">NSA</a>ÔºàNational Security AgencyÔºå<a href="https://baike.baidu.com/item/ÁæéÂõΩÂõΩÂÆ∂ÂÆâÂÖ®Â±Ä/300052?fromModule=lemma_inlink">ÁæéÂõΩÂõΩÂÆ∂ÂÆâÂÖ®Â±Ä</a>ÔºâÊ≥ÑÈú≤ÁöÑÂç±Èô©ÊºèÊ¥û‚ÄúEternalBlue‚ÄùÔºàÊ∞∏ÊÅí‰πãËìùÔºâËøõË°å‰º†Êí≠ [1] „ÄÇÂãíÁ¥¢ÁóÖÊØíËÇÜËôêÔºå‰ø®ÁÑ∂ÊòØ‰∏ÄÂú∫ÂÖ®ÁêÉÊÄß‰∫íËÅîÁΩëÁÅæÈöæÔºåÁªôÂπøÂ§ßÁîµËÑëÁî®Êà∑ÈÄ†Êàê‰∫ÜÂ∑®Â§ßÊçüÂ§±„ÄÇÊúÄÊñ∞ÁªüËÆ°Êï∞ÊçÆÊòæÁ§∫Ôºå100Â§ö‰∏™ÂõΩÂÆ∂ÂíåÂú∞Âå∫Ë∂ÖËøá10‰∏áÂè∞ÁîµËÑëÈÅ≠Âà∞‰∫ÜÂãíÁ¥¢ÁóÖÊØíÊîªÂáª„ÄÅÊÑüÊüì„ÄÇ [2] ÂãíÁ¥¢ÁóÖÊØíÊòØËá™ÁÜäÁå´ÁÉßÈ¶ô‰ª•Êù•ÂΩ±ÂìçÂäõÊúÄÂ§ßÁöÑ<a href="https://baike.baidu.com/item/ÁóÖÊØí/4811584?fromModule=lemma_inlink">ÁóÖÊØí</a>‰πã‰∏Ä„ÄÇWannaCryÂãíÁ¥¢ÁóÖÊØíÂÖ®ÁêÉÂ§ßÁàÜÂèëÔºåËá≥Â∞ë150‰∏™ÂõΩÂÆ∂„ÄÅ30‰∏áÂêçÁî®Êà∑‰∏≠ÊãõÔºåÈÄ†ÊàêÊçüÂ§±Ëææ80‰∫øÁæéÂÖÉÔºåÂ∑≤ÁªèÂΩ±ÂìçÂà∞ÈáëËûçÔºåËÉΩÊ∫êÔºåÂåªÁñóÁ≠â‰ºóÂ§öË°å‰∏öÔºåÈÄ†Êàê‰∏•ÈáçÁöÑÂç±Êú∫ÁÆ°ÁêÜÈóÆÈ¢ò„ÄÇ</p>
</blockquote>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/wBdynQcKU2g7LjN.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701175101126" src="https://s2.loli.net/2023/07/01/wBdynQcKU2g7LjN.png" /></a></p>
<p>Èô§‰∫ÜÁóÖÊØíÂú®ÁΩëÁªú‰∏ä‰º†Êí≠Â§ñÔºåËøòÊúâÈùûÂ∏∏ÊÅ∂ÂøÉÁöÑDDOSÊîªÂáªÔºåËøôÁßçÊîªÂáªÊñπÂºèÊàêÊú¨‰ΩéÔºåÊïàÁéáÈ´òÔºåÂè™Ë¶ÅÊåÅÁª≠‰∏ÄÊÆµÊó∂Èó¥Â∞±ËÉΩÂØºËá¥Ê≤°ÊúâÁâπÊÆäÈò≤Âæ°ÁöÑÁΩëÁ´ôÊó†Ê≥ïÊ≠£Â∏∏Ëøê‰ΩúÔºö</p>
<blockquote>
<p>2022Âπ¥4ÊúàÔºåÈÉëÂ∑ûË≠¶ÊñπÊé•Âà∞Êä•Ë≠¶Áß∞ÔºåÊüêÊîøÂ∫úÁΩëÁ´ôÂπ≥Âè∞‰∫éËøëÊó•ÈÅ≠ÂèóÂ§öÊ¨°DDoSÊîªÂáªÔºåÂØºËá¥Âπ≥Âè∞ËÆøÈóÆÈáèÁû¨Èó¥Êö¥Â¢ûÂ§öÂÄçÔºåÈÄ†ÊàêÊï∞ÂçÅÂÆ∂ÊîøÂ∫úÁΩëÁ´ôÂíåÊîøÂä°Êñ∞Â™í‰ΩìË¥¶Âè∑Êó†Ê≥ïÊ≠£Â∏∏ËÆøÈóÆ„ÄÇÊé•Âà∞Êä•Ë≠¶ÂêéÔºåÈÉëÂ∑ûË≠¶ÊñπÁ´ãÂç≥ÂºÄÂ±ï‰æ¶Êü•Ë∞ÉÊü•ÔºåÁ¨¨‰∏ÄÊó∂Èó¥ÈîÅÂÆöÁäØÁΩ™Â´åÁñë‰∫∫Âº†ÊüêÊüêÔºå‰ªÖ22Â∞èÊó∂Â∞±Â∞ÜÁäØÁΩ™Â´åÁñë‰∫∫Âº†ÊüêÊüêÊäìÊçïÂà∞Ê°à„ÄÇ</p>
<p>ÁªèÂÆ°Êü•ÔºåÂº†ÊüêÊüê‰∏∫ÊüêÂåªÈô¢ÁΩëÁªúÂÆâÂÖ®ÈÉ®ÊäÄÊúØÁª¥Êä§‰∫∫ÂëòÔºå2022Âπ¥4Êúà2Êó•ÔºåÂÖ∂‰∏™‰∫∫ÁΩëÁ´ôË¢´DDoSÊîªÂáªÔºåÂØºËá¥ÁΩëÁ´ôÊó†Ê≥ïÁôªÈôÜ„ÄÇ‰∏∫ÂáèÂ∞ëÊîªÂáªÂØπÂÖ∂‰∏™‰∫∫ÁΩëÁ´ôÁöÑÂΩ±ÂìçÔºåÂº†ÊüêÊüêÁßÅËá™Â∞Ü‰∏™‰∫∫ÁΩëÁ´ôÂüüÂêçËß£ÊûêÂú∞ÂùÄÂèòÊõ¥‰∏∫ÊüêÊîøÂ∫úÁΩëÁ´ôÂπ≥Âè∞Âú∞ÂùÄÔºå‚ÄúËΩ¨Â´Å‚ÄùÊîªÂáªÊµÅÈáèÔºåËá¥‰ΩøËØ•ÊîøÂ∫úÁΩëÁ´ôÂπ≥Âè∞Ë¢´ÊÅ∂ÊÑèÁΩëÁªúÊµÅÈáèÊîªÂáªÔºåÂ§öÂÆ∂ÊîøÂ∫úÁΩëÁ´ô„ÄÅÊîøÂä°Êñ∞Â™í‰ΩìË¥¶Âè∑‰∏çËÉΩÊ≠£Â∏∏‰ΩøÁî®„ÄÇ</p>
<p>ÁõÆÂâçÔºåÂº†ÊüêÊüêÂõ†Ê∂âÂ´åÁ†¥ÂùèËÆ°ÁÆóÊú∫‰ø°ÊÅØÁ≥ªÁªüÁäØÁΩ™Ë¢´ÂÖ¨ÂÆâÊú∫ÂÖ≥ÁßªÈÄÅËµ∑ËØâÔºåÊ°à‰ª∂Ê≠£Âú®Ëøõ‰∏ÄÊ≠•‰æ¶Âäû‰∏≠„ÄÇ</p>
</blockquote>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/5aHJDMTiLOSzERn.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701175235964" src="https://s2.loli.net/2023/07/01/5aHJDMTiLOSzERn.png" /></a></p>
<p>‰ø°ÊÅØÊ≥ÑÈú≤‰πüÊòØÈùûÂ∏∏‰∏•ÈáçÁöÑÁΩëÁªúÂÆâÂÖ®ÈóÆÈ¢òÔºåÊàë‰ª¨ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÊòØÊàë‰ª¨ÁöÑÈöêÁßÅÔºåËÄåÂú®ÁΩëÁªúÂèëËææÁöÑ‰ªäÂ§©ÔºåÂú®ÂêÑÂ§ßAPP‰∏äÂ°´ÂÜôÁöÑ‰ø°ÊÅØÂæàÊúâÂèØËÉΩ‰ºöË¢´Á¨¨‰∏âÊñπËé∑ÂèñÔºå‰ªé‰∏≠Ë∞ãÂèñÂà©Áõä„ÄÇ</p>
<blockquote>
<p>‰ªäÂπ¥Êó©‰∫õÊó∂ÂÄô‰æøÂ∑≤ÂèëÁé∞Áõ∏ÂÖ≥ÂÆâÂÖ®ÊºèÊ¥ûÁöÑÁΩëÁªúÂÆâÂÖ®‰∏ìÂÆ∂Áß∞Ôºå ‰∏Ä‰∏™Â∏∏ËßÅÊºèÊ¥ûÂØºËá¥‰∫ÜËøôÂú∫ÊúâËÆ∞ÂΩï‰ª•Êù•ÊúÄÂ§ßËßÑÊ®°ÁöÑ‰∏™‰∫∫Êï∞ÊçÆÊ≥ÑÈú≤Ôºå‰πüÊòØ‰∏≠ÂõΩÊâÄÈÅ≠ÈÅáÊúÄÂ§ßËßÑÊ®°ÁöÑÁΩëÁªúÂÆâÂÖ®‰∫ã‰ª∂ÔºåÈÄ†ÊàêÊï∞ÊçÆË¢´ÂÖ¨ÂºÄÂú®‰∫íËÅîÁΩë‰∏äÔºå‰æõ‰∫∫ÂèñÁî®„ÄÇ</p>
<p>ÊçÆËøô‰∫õÁΩëÁªúÂÆâÂÖ®‰∏ìÂÆ∂Áß∞Ôºå‰∏äÊµ∑Ë≠¶ÊñπÁöÑËøô‰∫õËÆ∞ÂΩïÊòØË¢´ÂÆâÂÖ®Â≠òÂÇ®ÁöÑÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∏™‰∫∫ÂßìÂêç„ÄÅË∫´‰ªΩËØÅÂè∑Á†Å„ÄÅÁîµËØùÂè∑Á†Å‰ª•ÂèäË≠¶ÊÉÖ‰ø°ÊÅØÔºåÊ∂âÂèäËøë10‰∫ø‰∏≠ÂõΩÂÖ¨Ê∞ëÁöÑÊï∞ÊçÆ„ÄÇ‰ªñ‰ª¨ËØ¥Ôºå‰ΩÜ‰∏Ä‰∏™Áî®‰∫éÁÆ°ÁêÜÂíåËÆøÈóÆËØ•Êï∞ÊçÆÂ∫ìÁöÑÊòæÁ§∫ÁïåÈù¢(dashboard)Ë¢´ËÆæÁΩÆÂú®‰∏Ä‰∏™ÂÖ¨ÂºÄÁΩëÂùÄ‰∏äÔºåÊ≤°ÊúâÂä†ËÆæÂØÜÁ†ÅÔºå‰ªª‰ΩïÊúâÁõ∏ÂØπÂü∫Êú¨ÊäÄÊúØÁü•ËØÜÁöÑ‰∫∫ÈÉΩÂèØ‰ª•ËΩªÊùæËÆøÈóÆ„ÄÅÂ§çÂà∂ÊàñÁ™ÉÂèñÂ∫ì‰∏≠ÁöÑÊµ∑Èáè‰ø°ÊÅØ„ÄÇ</p>
<p>ÊöóÁΩëÊÉÖÊä•ÂÖ¨Âè∏ShadowbyteÁöÑÂàõÂßã‰∫∫Vinny TroiaËØ¥Ôºö‚Äú‰ªñ‰ª¨ÊääËøô‰πàÂ§öÊï∞ÊçÆÊö¥Èú≤Âú®Â§ñÔºåËøôÂ§™ÁñØÁãÇ‰∫Ü„ÄÇ‚ÄùËøôÂÆ∂ÂÖ¨Âè∏‰∏ìÈó®Âú®ÁΩë‰∏äÊâ´ÊèèÊêúÂØªÂ≠òÂú®ÂÆâÂÖ®ÊºèÊ¥ûÁöÑÊï∞ÊçÆÂ∫ìÔºåÊó©Âú®‰ªäÂπ¥1ÊúàÊâ´ÊèèÊó∂ÂèëÁé∞‰∫Ü‰∏äÊµ∑Ë≠¶ÊñπÁöÑËøô‰∏™Êï∞ÊçÆÂ∫ì„ÄÇ</p>
</blockquote>
<p>‰∏™‰∫∫‰ø°ÊÅØÊï∞ÊçÆ‰∏ÄÊó¶Ê≥ÑÈú≤ÔºåÁõ∏ÂΩì‰∫éÂà´‰∫∫ÂèØ‰ª•ÈÄöËøáÁΩëÁªúÁõ¥Êé•ÂÆö‰Ωç‰Ω†ÁöÑ‰ΩèÂùÄ„ÄÅÁîµËØùÂè∑Á†Å„ÄÅÂêÑÁßçÁ§æ‰∫§Ë¥¶Âè∑„ÄÅË∫´‰ªΩËØÅ‰ø°ÊÅØÁîöËá≥ÊòØÊú∫Á•®„ÄÅÁÅ´ËΩ¶Á•®„ÄÅÈÖíÂ∫óÂºÄÊàø‰ø°ÊÅØÁ≠âÔºåÂÅöÁöÑÂÜçÁªù‰∏ÄÂÆöÔºåÂ¶ÇÊûúËøô‰∏™ÈÖíÂ∫óË¢´‰∫∫ÂÅ∑ÂÅ∑Êîæ‰∫ÜÈíàÂ≠îÊëÑÂÉèÂ§¥ÔºåÁîöËá≥ËøòËÉΩÊ†πÊçÆËÆ∞ÂΩïÊü•Âà∞‰Ω†ÂºÄÊàøËßÜÈ¢ëÔºåËøô‰∫õ‰∫ãÊÉÖÂÖâÊòØÊÉ≥ÊÉ≥ÈÉΩÂèØÊÄïÔºåËøôÁ≠âÂêå‰∫éÂú®‰∫íËÅîÁΩë‰∏ä‚ÄúË£∏Â•î‚Äù„ÄÇ</p>
<p>ÁΩëÁªúÂÆâÂÖ®ÈóÆÈ¢òÈùûÂêåÂ∞èÂèØÔºåËÄåÊàë‰ª¨‰Ωú‰∏∫ÁΩëÁ´ôÁöÑÂºÄÂèëËÄÖÔºåÊõ¥Â∫îËØ•È¶ñÂΩìÂÖ∂ÂÜ≤Ëß£ÂÜ≥Ëøô‰∫õÊΩúÂú®ÈóÆÈ¢ò„ÄÇÊé•‰∏ãÊù•ÔºåÊàë‰ª¨‰ºö‰ªãÁªçÂá†‰∏™Â∏∏ËßÅÁöÑWebÁΩëÁ´ôÊîªÂáªÊñπÂºèÔºå‰ª•ÂèäÂú®ÂêéÁª≠‰ΩøÁî®SpringSecurityÊó∂Â¶Ç‰ΩïÂéªÈò≤ËåÉËøô‰∫õÊîªÂáªË°å‰∏∫„ÄÇ</p>
<h3 id="_2">ÊµãËØïÁéØÂ¢ÉÊê≠Âª∫<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>‰∏∫‰∫ÜÊµãËØïÊàë‰ª¨‰πãÂâçÁöÑÁΩëÁ´ôÂÆâÂÖ®ÊÄßÔºåËøôÈáåÊàë‰ª¨Âü∫‰∫éMvcÊ°ÜÊû∂ÈáçÊñ∞Êê≠Âª∫‰∏Ä‰∏™ÈááÁî®‰πãÂâçÁöÑÈ™åËØÅÊñπÂºèÁöÑÁÆÄÊòìÁΩëÁ´ôÔºåÈ¶ñÂÖàÊòØÁôªÂΩïÁïåÈù¢ÈÉ®ÂàÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>ÁôªÂΩïÁôΩÈ©¨Èì∂Ë°å<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;login&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
      Áî®Êà∑ÂêçÔºö
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;username&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
      ÂØÜÁ†ÅÔºö
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>ÁôªÂΩï<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">th:if</span><span class="o">=</span><span class="s">&quot;${status}&quot;</span><span class="p">&gt;</span>ÁôªÂΩïÂ§±Ë¥•ÔºåÁî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØÔºÅ<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊòØÁôªÂΩï‰πãÂêéÁöÑÈ¶ñÈ°µÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>ÁôΩÈ©¨Èì∂Ë°å - È¶ñÈ°µ<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊòØControllerÈÉ®ÂàÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HelloController</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Â§ÑÁêÜÁôªÂΩïÊìç‰ΩúÂπ∂Ë∑≥ËΩ¨</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/login&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">,</span>
<span class="w">                        </span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">,</span>
<span class="w">                        </span><span class="n">HttpSession</span><span class="w"> </span><span class="n">session</span><span class="p">,</span>
<span class="w">                        </span><span class="n">Model</span><span class="w"> </span><span class="n">model</span><span class="p">){</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">username</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="s">&quot;123456&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">password</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">session</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="s">&quot;login&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;redirect:/&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="s">&quot;status&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;login&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//Â§ÑÁêÜÈ¶ñÈ°µÊàñÊòØÁôªÂΩïÁïåÈù¢Ë∑≥ËΩ¨</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(</span><span class="n">HttpSession</span><span class="w"> </span><span class="n">session</span><span class="p">){</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&quot;login&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;login&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•ËøõË°åÁÆÄÂçïÁôªÂΩï‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/7jW5Nzki8urUhaf.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701184920238" src="https://s2.loli.net/2023/07/01/7jW5Nzki8urUhaf.png" /></a></p>
<p>Êé•ÁùÄÊàë‰ª¨Âú®È¶ñÈ°µÂä†‰∏Ä‰∏™ËΩ¨Ë¥¶Êìç‰ΩúÔºåË¶ÅÊ±ÇÂ°´ÂÜôËΩ¨Ë¥¶‰∫∫Ë¥¶Âè∑ÂêçÁß∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@ResponseBody</span>
<span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/pay&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">JSONObject</span><span class="w"> </span><span class="nf">pay</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">account</span><span class="p">,</span>
<span class="w">                      </span><span class="n">HttpSession</span><span class="w"> </span><span class="n">session</span><span class="p">){</span>
<span class="w">    </span><span class="n">JSONObject</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JSONObject</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//ÁôªÂΩï‰πãÂêéÊâçËÉΩËΩ¨Ë¥¶</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="s">&quot;login&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ËΩ¨Ë¥¶Áªô&quot;</span><span class="o">+</span><span class="n">account</span><span class="o">+</span><span class="s">&quot;ÊàêÂäüÔºå‰∫§ÊòìÂ∑≤ÂÆåÊàêÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;success&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ËΩ¨Ë¥¶Áªô&quot;</span><span class="o">+</span><span class="n">account</span><span class="o">+</span><span class="s">&quot;Â§±Ë¥•ÔºåÁî®Êà∑Êú™ÁôªÂΩïÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;success&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">object</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Âú®È°µÈù¢‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÁÆÄÂçïÁöÑËΩ¨Ë¥¶Êìç‰ΩúÊåâÈîÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>ÁôΩÈ©¨Èì∂Ë°å - È¶ñÈ°µ<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/axios@1.1.2/dist/axios.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
            ËΩ¨Ë¥¶Ë¥¶Âè∑Ôºö
            <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;account&quot;</span><span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;pay()&quot;</span><span class="p">&gt;</span>Á´ãÂç≥ËΩ¨Ë¥¶<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">pay</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;account&quot;</span><span class="p">).</span><span class="nx">value</span>
<span class="w">    </span><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/mvc/pay&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="nx">account</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/x-www-form-urlencoded&#39;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}).</span><span class="nx">then</span><span class="p">(({</span><span class="nx">data</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span>
<span class="w">            </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;ËΩ¨Ë¥¶ÊàêÂäü&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;ËΩ¨Ë¥¶Â§±Ë¥•&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑Êàë‰ª¨Â∞±ÊàêÂäüÊê≠Âª∫Â•ΩÁΩëÁªúÂÆâÂÖ®ÁöÑÊµãËØïÈ°πÁõÆ‰∫ÜÔºåÂêÑ‰ΩçÂ∞è‰ºô‰º¥ËØ∑Â∞ÜËøô‰∏™È°πÁõÆËøõË°å‰øùÂ≠òÔºåÂêéÈù¢ÈúÄË¶ÅÈáçÂ§ç‰ΩøÁî®„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/khHj6YqSJimGKec.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701224909319" src="https://s2.loli.net/2023/07/01/khHj6YqSJimGKec.png" /></a></p>
<h3 id="csrf">CSRFË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÊîªÂáª<a class="headerlink" href="#csrf" title="Permanent link">&para;</a></h3>
<p>CSRFÊòØÊàë‰ª¨Ë¶Å‰ªãÁªçÁöÑÁ¨¨‰∏ÄÁßçÊîªÂáªÂΩ¢ÂºèÔºåËøôÁßçÊîªÂáªÊñπÂºèÈùûÂ∏∏Â•ΩÁêÜËß£„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/4ibrwFIPnSE81lx.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701181244150" src="https://s2.loli.net/2023/07/01/4ibrwFIPnSE81lx.png" /></a></p>
<p>Êàë‰ª¨Êó∂Â∏∏‰ºöÂú®QQ‰∏äÊî∂Âà∞Âà´‰∫∫ÂèëÈÄÅÁöÑÈíìÈ±ºÁΩëÁ´ôÈìæÊé•ÔºåÂè™Ë¶Å‰Ω†Âú®‰∏äÈù¢ÁôªÈôÜ‰∫Ü‰Ω†ÁöÑQQË¥¶Âè∑ÔºåÈÇ£‰πà‰∏çÂá∫ÊÑèÂ§ñÔºå‰Ω†ÁöÑÂè∑Â∑≤ÁªèÂú®Âà´‰∫∫Êâã‰∏≠‰∫Ü„ÄÇÂÆûÈôÖ‰∏äËøô‰∏ÄÁ±ªÁΩëÁ´ôÈÉΩÂ±û‰∫éÊÅ∂ÊÑèÁΩëÁ´ôÔºå‰∏ìÈó®Áî®‰∫éÁõóÂèñ‰ªñ‰∫∫‰ø°ÊÅØÔºåÊâßË°åÈùûÊ≥ïÊìç‰ΩúÔºåÁîöËá≥Ëé∑Âèñ‰ªñ‰∫∫Ë¥¶Êà∑‰∏≠ÁöÑË¥¢‰∫ßÔºåÈùûÊ≥ïËΩ¨Ë¥¶Á≠â„ÄÇËÄåËøôÈáåÔºåÊàë‰ª¨ÈúÄË¶Å‰∫ÜËß£‰∏ÄÁßçÊØîËæÉÂÆπÊòìÂèëÁîüÁöÑÊÅ∂ÊÑèÊìç‰ΩúÔºå‰ªé‰∏çÊ≥ïÂàÜÂ≠êÁöÑËßíÂ∫¶Âéª‰∫ÜËß£Êï¥‰∏™ÊµÅÁ®ã„ÄÇ</p>
<p>Êàë‰ª¨Âú®JavaWebÈò∂ÊÆµÂ∑≤Áªè‰∫ÜËß£‰∫ÜSessionÂíåCookieÁöÑÊú∫Âà∂ÔºåÂú®‰∏ÄÂºÄÂßãÁöÑÊó∂ÂÄôÔºåÊúçÂä°Á´Ø‰ºöÁªôÊµèËßàÂô®‰∏Ä‰∏™Âêç‰∏∫JSESSIONIDÁöÑCookie‰ø°ÊÅØ‰Ωú‰∏∫‰ºöËØùÁöÑÂîØ‰∏ÄÂá≠ÊçÆÔºåÂè™Ë¶ÅÁî®Êà∑Êê∫Â∏¶Ê≠§CookieËÆøÈóÆÊàë‰ª¨ÁöÑÁΩëÁ´ôÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÂèØ‰ª•ËÆ§ÂÆöÊ≠§‰ºöËØùÂ±û‰∫éÂì™‰∏™ÊµèËßàÂô®Áî®Êà∑„ÄÇÂõ†Ê≠§ÔºåÂè™Ë¶ÅÊ≠§‰ºöËØùÁöÑÁî®Êà∑ÊâßË°å‰∫ÜÁôªÂΩïÊìç‰ΩúÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ÈöèÊÑèËÆøÈóÆ‰∏™‰∫∫‰ø°ÊÅØÁ≠âÂÜÖÂÆπ„ÄÇ</p>
<p>Êàë‰ª¨Êù•Â∞ùËØïÊ®°Êãü‰∏Ä‰∏ãËøôÁßçÊìç‰ΩúÔºåÊù•ÁºñÂÜô‰∏Ä‰∏™ÈíìÈ±ºÁΩëÁ´ôÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Âù§Âù§ÁÇíÁ≤âÊîæÈ∏°Á≤æËßÜÈ¢ëÂú®Á∫øËßÇÁúã<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/axios@1.1.2/dist/axios.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;hiddenIframe&quot;</span> <span class="na">hidden</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;http://localhost:8080/mvc/pay&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">target</span><span class="o">=</span><span class="s">&quot;hiddenIframe&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;account&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;ÈªëÂÆ¢&quot;</span> <span class="na">hidden</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>ÁÇπÂáª‰∏ãËΩΩÂÖ®Â•óËßÜÈ¢ë<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Ëøô‰∏™È°µÈù¢Âπ∂‰∏çÊòØÊàë‰ª¨ÂÆòÊñπÊèê‰æõÁöÑÈ°µÈù¢ÔºåËÄåÊòØ‰∏çÊ≥ïÂàÜÂ≠êÊê≠Âª∫ÁöÑÊÅ∂ÊÑèÁΩëÁ´ô„ÄÇÊàë‰ª¨ÂèëÁé∞Ê≠§È°µÈù¢‰∏≠Êúâ‰∏Ä‰∏™Ë°®ÂçïÔºå‰ΩÜÊòØË°®Âçï‰∏≠ÁöÑËæìÂÖ•Ê°ÜË¢´ÈöêËóè‰∫ÜÔºåËÄåÊàë‰ª¨ÁúãÂà∞ÁöÑÂè™Êúâ‰∏Ä‰∏™ÊåâÈíÆÔºåÊàë‰ª¨‰∏çÁü•ÈÅìËøôÊòØ‰∏Ä‰∏™Ë°®ÂçïÔºå‰πü‰∏çÁü•ÈÅìË°®Âçï‰ºöÊèê‰∫§ÁªôÈÇ£‰∏™Âú∞ÂùÄÔºåËøôÊó∂Êï¥‰∏™È°µÈù¢Â∞±ÈùûÂ∏∏ÊúâËø∑ÊÉëÊÄß‰∫Ü„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÁÇπÂáªÊ≠§ÊåâÈíÆÔºåÈÇ£‰πàÊï¥‰∏™Ë°®ÂçïÁöÑÊï∞ÊçÆ‰ºö‰ª•POSTÁöÑÂΩ¢ÂºèÂèëÈÄÅÁªôÊàë‰ª¨ÁöÑÊúçÂä°Á´ØÔºà‰ºöÊê∫Â∏¶‰πãÂâçÁôªÈôÜÊàë‰ª¨ÁΩëÁ´ôÁöÑCookie‰ø°ÊÅØÔºâÔºå‰ΩÜÊòØËøôÈáåÂæàÊòéÊòæÊòØÂè¶‰∏Ä‰∏™ÁΩëÁ´ôË∑≥ËΩ¨ÔºåÈÄöËøáËøôÊ†∑ÁöÑÊñπÂºèÔºåÊÅ∂ÊÑèÁΩëÁ´ôÂ∞±ÊàêÂäüÂú∞Âú®Êàë‰ª¨ÊØ´‰∏çÁü•ÊÉÖÁöÑÊÉÖÂÜµ‰∏ãÂºïÂØºÊàë‰ª¨ÊâßË°å‰∫ÜËΩ¨Ë¥¶Êìç‰ΩúÔºåÂΩì‰Ω†ÂèëÁé∞‰∏äÂΩìÂèóÈ™óÊó∂ÔºåÈí±Â∑≤ÁªèË¢´ËΩ¨Ëµ∞‰∫Ü„ÄÇ</p>
<p>Êàë‰ª¨È¶ñÂÖà‰Ωú‰∏∫Áî®Êà∑ÔºåÂÖàÂú®Ê≠£Â∏∏ÁöÑÁΩëÁ´ôËøõË°åÁôªÂΩïÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/4wQ2iB5uhcLMJHa.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701233127287" src="https://s2.loli.net/2023/07/01/4wQ2iB5uhcLMJHa.png" /></a></p>
<p>Êé•ÁùÄÊàë‰ª¨ÂÅáË£ÖËá™Â∑±‰∏äÂΩìÔºåËøõÂÖ•Âà∞Êàë‰ª¨ÁöÑÈíìÈ±ºÁΩëÁ´ôÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/OstNZg4doCz6S5G.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701233202016" src="https://s2.loli.net/2023/07/01/OstNZg4doCz6S5G.png" /></a></p>
<p>Áé∞Âú®Êàë‰ª¨ÊØ´‰∏çÁü•ÊÉÖÔºåÂ¶ÇÊûúÊòØÊ≠£Â∏∏‰∫∫ÊÄùÁª¥ÁöÑËØùÔºåÂ∞±‰ºöÁõ¥Êé•ÁÇπÂáª‰∏ãËΩΩÂÖ®Â•óËßÜÈ¢ëÔºåÊÅ≠ÂñúÔºåÊ≠§Êó∂ÂêéÂè∞Â∑≤ÁªèËΩ¨Ë¥¶ÊàêÂäü‰∫ÜÔºåÁïô‰∏ã‰∏ÄËÑ∏ÊáµÈÄºÁöÑ‰Ω†Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/mtGLhuNHxPUr6Os.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230701233317019" src="https://s2.loli.net/2023/07/01/mtGLhuNHxPUr6Os.png" /></a></p>
<p>ËÄåËøôÁßçÊûÑÂª∫ÊÅ∂ÊÑèÈ°µÈù¢ÔºåÂºïÂØºÁî®Êà∑ËÆøÈóÆÂØπÂ∫îÁΩëÁ´ôÊâßË°åÊìç‰ΩúÁöÑÊñπÂºèÁß∞‰∏∫Ôºö<strong>Ë∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†</strong>ÔºàCSRFÔºåCross Site Request ForgeryÔºâ</p>
<p>ÊòæÁÑ∂ÔºåÊàë‰ª¨‰πãÂâçÁºñÂÜôÁöÑÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªüÂ∞±Â≠òÂú®ËøôÊ†∑ÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåËÄåSpringSecurityÂ∞±Ëß£ÂÜ≥‰∫ÜËøôÊ†∑ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p>ÂΩìÁÑ∂ÔºåÈô§‰∫ÜÈÄöËøáÊàë‰ª¨Ëá™Â∑±SpringSecurity‰ΩøÁî®ÂéªËß£ÂÜ≥‰πãÂ§ñÔºåÈöèÁùÄÁé∞Âú®ÁöÑÊµèËßàÂô®‰∏çÊñ≠ÂèëÂ±ïÔºåÂÆâÂÖ®ÊÄßË∂äÊù•Ë∂äÂèóÂà∞ÈáçËßÜÔºåÂæàÂ§öÊµèËßàÂô®ÈÉΩÊúâSameSite‰øùÊä§Êú∫Âà∂ÔºåÂΩìÁî®Êà∑Âú®‰∏§‰∏™‰∏çÂêåÂüüÂêçÁöÑÁ´ôÁÇπÊìç‰ΩúÊó∂ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãCookieÂ∞±‰ºöË¢´Ëá™Âä®Â±èËîΩÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/01/qiLDnrFyQxpt3UB.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="a3421f74c3cee6b67d214809adb743a5" src="https://s2.loli.net/2023/07/01/qiLDnrFyQxpt3UB.png" /></a></p>
<p>SameSiteÊòØ‰∏ÄÁßçÂÆâÂÖ®Êú∫Âà∂ÔºåÊó®Âú®Èò≤Ê≠¢Ë∑®Á´ôÁÇπËØ∑Ê±Ç‰º™ÈÄ†ÔºàCSRFÔºâÊîªÂáªÔºåÂÆÉÈÄöËøáÈôêÂà∂Á¨¨‰∏âÊñπCookieÁöÑ‰ΩøÁî®Êù•ÂÆûÁé∞Ëøô‰∏ÄÁõÆÁöÑ„ÄÇÂú®ChromeÊµèËßàÂô®‰∏≠ÔºåSameSiteÈªòËÆ§‰∏∫LaxÔºåËøôÊÑèÂë≥ÁùÄÁ¨¨‰∏âÊñπCookieÂè™ËÉΩÂú®Áî®Êà∑ÂØºËà™Âà∞‰∏éÂéüÂßãÁ´ôÁÇπÁõ∏ÂêåÁöÑÁ´ôÁÇπÊó∂ÂèëÈÄÅ„ÄÇËøôÂêåÊ†∑Â§ßÂ§ßÊèêÂçá‰∫ÜÁî®Êà∑ÁöÑÂÆâÂÖ®ÊÄßÔºåËÆ©ÈªëÂÆ¢Â∞ë‰∫ÜËÆ∏Â§öÂèØ‰πò‰πãÊú∫Ôºå‰∏çËøáËøô‰∏™Êú∫Âà∂ÂØπÂÅöÂÆûÊñΩÁöÑÂêåÂ≠¶ÔºàÂèØËÉΩÔºâ‰∏çÂ§™ÂèãÂ•Ω„ÄÇ</p>
<h3 id="sfa">SFA‰ºöËØùÂõ∫ÂÆöÊîªÂáª<a class="headerlink" href="#sfa" title="Permanent link">&para;</a></h3>
<p>ËøôÂêåÊ†∑ÊòØÂà©Áî®Cookie‰∏≠Áõ∏ÂêåÁöÑJSESSIONIDËøõË°åÁöÑÊîªÂáªÔºå‰ºöËØùÂõ∫ÂÆöÊîªÂáªÔºàSession fixation attackÔºâÊòØ‰∏ÄÁßçÈíàÂØπWebÂ∫îÁî®Á®ãÂ∫èÁöÑÂÆâÂÖ®ÊºèÊ¥ûÊîªÂáªÔºåÊîªÂáªËÄÖÂà©Áî®ËøôÁßçÊºèÊ¥ûÔºåÂ∞Ü‰∏Ä‰∏™ÊúâÊïàÁöÑ‰ºöËØùIDÂàÜÈÖçÁªôÁî®Êà∑ÔºåÂπ∂ËØ±‰ΩøÁî®Êà∑Âú®ËØ•‰ºöËØù‰∏≠ËøõË°åÊìç‰ΩúÔºåÁÑ∂ÂêéÊîªÂáªËÄÖÂèØ‰ª•Âà©Áî®ËØ•‰ºöËØùIDËé∑ÂèñÁî®Êà∑ÁöÑÊùÉÈôêÔºåÊàñËÄÖÈÄöËøáÊ≠§‰ºöËØùÁªßÁª≠ËøõË°åÂÖ∂‰ªñÊîªÂáª„ÄÇ</p>
<p>ÁÆÄÂçïÊù•ËØ¥ÔºåÂ∞±ÊòØÈªëÂÆ¢Êää‰ªñÁöÑJSESSIONIDÁõ¥Êé•Áªô‰Ω†Ôºå‰Ω†‰∏ÄÊó¶‰ΩøÁî®Ëøô‰∏™IDÁôªÂΩïÔºåÈÇ£‰πàÂú®ÂêéÁ´ØËøô‰∏™IDÂ∞±Ë¢´ËÆ§ÂÆö‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåÈÇ£‰πà‰πüÂ∞±Á≠âÂêå‰∫é‰ªñÁõ¥Êé•ËøõÂÖ•‰∫ÜÂ∑≤ÁôªÂΩïÁä∂ÊÄÅÔºå‰ªéËÄåÁõ¥Êé•ËÆøÈóÆ‰Ω†Ë¥¶Âè∑ÁöÑ‰ªªÊÑèÂÜÖÂÆπÔºåÊâßË°å‰ªªÊÑèÊìç‰Ωú„ÄÇ</p>
<p>ÊîªÂáªËÄÖÈÄöÂ∏∏‰ΩøÁî®‰ª•‰∏ãÂá†ÁßçÊñπÂºèËøõË°å‰ºöËØùÂõ∫ÂÆöÊîªÂáªÔºö</p>
<ol>
<li>‰ºöËØù‰º†ÈÄíÔºöÊîªÂáªËÄÖÈÄöËøáURLÂèÇÊï∞„ÄÅË°®ÂçïÈöêËóèÂ≠óÊÆµ„ÄÅcookieÁ≠âÊñπÂºèÂ∞Ü‰ºöËØùID‰º†ÈÄíÁªôÁî®Êà∑„ÄÇÂΩìÁî®Êà∑‰ΩøÁî®ËØ•‰ºöËØùIDÁôªÂΩïÊó∂ÔºåÊîªÂáªËÄÖÂ∞±ËÉΩÂà©Áî®ËØ•‰ºöËØùIDËé∑ÂèñÁî®Êà∑ÁöÑÊùÉÈôê„ÄÇ</li>
<li>‰ºöËØùÂä´ÊåÅÔºöÊîªÂáªËÄÖÂà©Áî®Âä´ÊåÅÁî®Êà∑‰∏éÊúçÂä°Âô®‰πãÈó¥ÁöÑÈÄö‰ø°ÊµÅÈáèÔºåËé∑ÂèñÂà∞Áî®Êà∑ÁöÑ‰ºöËØùIDÔºåÁÑ∂ÂêéÂà©Áî®ËØ•‰ºöËØùIDÂÜíÂÖÖÁî®Êà∑ËøõË°åÊìç‰Ωú„ÄÇ</li>
<li>‰ºöËØùÂä´ÊåÅÔºöÊîªÂáªËÄÖ‰∫ãÂÖàËé∑ÂèñÂà∞‰ºöËØùIDÔºåÂπ∂Â∞ÜÂÖ∂ÂàÜÈÖçÁªôÁî®Êà∑Ôºå‰πãÂêéÈÄöËøáÂÖ∂‰ªñÊñπÂºèÊ¨∫È™óÁî®Êà∑ÁôªÂΩïËØ•‰ºöËØù„ÄÇËøôÊ†∑ÔºåÊîªÂáªËÄÖÂ∞±ÂèØ‰ª•Âà©Áî®‰ºöËØùIDËé∑ÂèñÁî®Êà∑ÁöÑÊùÉÈôê„ÄÇ</li>
</ol>
<p>ËøôÈáåÊàë‰ª¨Êù•Â∞ùËØï‰∏Ä‰∏ãÁ¨¨‰∏ÄÁßçÊñπÊ°àÔºåËøôÈáåÊàë‰ª¨È¶ñÂÖàÁî®Âè¶‰∏Ä‰∏™ÊµèËßàÂô®ËÆøÈóÆÁõÆÊ†áÁΩëÁ´ôÔºåÊ≠§Êó∂ÈúÄË¶ÅÁôªÂΩïÔºåÂºÄÂßã‰πãÂâçËÆ∞ÂæóÂÖàÊ∏ÖÁêÜ‰∏Ä‰∏ã‰∏§‰∏™ÊµèËßàÂô®ÁöÑÁºìÂ≠òÔºåÂê¶ÂàôÂèØËÉΩÊó†Ê≥ïÁîüÊïàÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/LFchsWkevUwb58E.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702001501063" src="https://s2.loli.net/2023/07/02/LFchsWkevUwb58E.png" /></a></p>
<p>ËøôÈáåÊàë‰ª¨Áõ¥Êé•ËÆ∞ÂΩï‰∏ãËøô‰∏™JSESSIONIDÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÁºñÂÜôÂà∞Êàë‰ª¨ÁöÑËØàÈ™óÁΩëÁ´ô‰∏≠ÔºåËøôÈáåÊúâ‰∏Ä‰∏™ÊÅ∂ÊÑèËÑöÊú¨Ôºå‰ºöËá™Âä®Â∞ÜÂØπÂ∫îÁî®Êà∑ÁöÑCookieËøõË°åÊõøÊç¢ÔºåÂèòÊàêÊàë‰ª¨ÁöÑJSESSIONIDÂÄºÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>ÂÜ†Â∏åÂì•ÂÖ®Â•óËßÜÈ¢ë<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/axios@1.1.2/dist/axios.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">    </span><span class="c1">//Á¨¨‰∏âÊñπÁΩëÁ´ôÊÅ∂ÊÑèËÑöÊú¨ÔºåËá™Âä®‰øÆÊîπCookie‰ø°ÊÅØ</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;JSESSIONID=6AAF677EC2B630704A80D36311F08E01; path=/mvc; domain=localhost&quot;</span>
<span class="w">    </span><span class="c1">//ÁÑ∂ÂêéÁªô‰Ω†ÂºÑÂà∞ÂéüÊù•ÁöÑÁΩëÁ´ô</span>
<span class="w">    </span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://localhost:8080/mvc/&#39;</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ËÆøÈóÆËøô‰∏™ÊÅ∂ÊÑèÁΩëÁ´ôÔºåÁÑ∂ÂêéÂÜç‰Ωú‰∏∫Áî®Êà∑ÔºåÂéªÊ≠£Â∏∏ËÆøÈóÆÁõÆÊ†áÁΩëÁ´ôËøõË°åÁôªÂΩïÊìç‰ΩúÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/d4YSeut3xQ7rRqh.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702001831904" src="https://s2.loli.net/2023/07/02/d4YSeut3xQ7rRqh.png" /></a></p>
<p>ÂèØ‰ª•ÁúãÂà∞Ê≠§Êó∂Áî®Êà∑ÁöÑÊµèËßàÂô®JSESSIONIDÂÄº‰∏∫ÂàöÂàöÊÅ∂ÊÑèÁΩëÁ´ô‰º™ÈÄ†ÁöÑÂÄºÔºåÁé∞Âú®Êàë‰ª¨Êù•ËøõË°åÁôªÂΩïÊìç‰ΩúÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/aDwTcW6d58tPLBG.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702002007450" src="https://s2.loli.net/2023/07/02/aDwTcW6d58tPLBG.png" /></a></p>
<p>Ê≠§Êó∂Êàë‰ª¨ÂõûÂà∞‰∏ÄÂºÄÂßãÁöÑÊµèËßàÂô®ÔºåÂà∑Êñ∞‰πãÂêéÔºåÊàë‰ª¨ÂèëÁé∞Ëøô‰∏™ÊµèËßàÂô®ÂêåÊ†∑Â∑≤ÁªèÁôªÂΩïÊàêÂäü‰∫ÜÔºåÂéüÁêÜÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåÁõ∏ÂΩì‰∫éËÆ©Áî®Êà∑Áõ¥Êé•Â∏ÆÊàë‰ª¨ÁôªÂΩï‰∫ÜÔºåÊòØ‰∏çÊòØÊÑüËßâÁâπÂà´Âç±Èô©Ôºü</p>
<p>ÂΩìÁÑ∂ÔºåÁé∞Âú®ÁöÑÊµèËßàÂô®ÂêåÊ†∑ÊúâÁùÄÂØπÂ∫îÁöÑ‰øùÊä§Êú∫Âà∂ÔºåTomcatÂèëÈÄÅÁöÑSESSIONIDÈªòËÆ§ÊòØÂãæÈÄâ‰∫ÜHttpOnlyÈÄâÈ°πÁöÑÔºå‰∏ÄÊó¶Ë¢´ËÆæÂÆöÊòØÊó†Ê≥ïË¢´ÈöèÊÑè‰øÆÊîπÁöÑÔºåÂΩìÁÑ∂ÂâçÊèêÊòØÂÖàÂæóÊ≠£Â∏∏ËÆøÈóÆ‰∏ÄÊ¨°ÁΩëÁ´ôÊâçË°åÔºåÂê¶Âàô‰ªçÁÑ∂Â≠òÂú®ÂÆâÂÖ®ÈöêÊÇ£„ÄÇ</p>
<blockquote>
<p>HttpOnlyÊòØCookie‰∏≠‰∏Ä‰∏™Â±ûÊÄßÔºåÁî®‰∫éÈò≤Ê≠¢ÂÆ¢Êà∑Á´ØËÑöÊú¨ÈÄöËøádocument.cookieÂ±ûÊÄßËÆøÈóÆCookieÔºåÊúâÂä©‰∫é‰øùÊä§Cookie‰∏çË¢´Ë∑®Á´ôËÑöÊú¨ÊîªÂáªÁ™ÉÂèñÊàñÁØ°Êîπ„ÄÇ‰ΩÜÊòØÔºåHttpOnlyÁöÑÂ∫îÁî®‰ªçÂ≠òÂú®Â±ÄÈôêÊÄßÔºå‰∏Ä‰∫õÊµèËßàÂô®ÂèØ‰ª•ÈòªÊ≠¢ÂÆ¢Êà∑Á´ØËÑöÊú¨ÂØπCookieÁöÑËØªÊìç‰ΩúÔºå‰ΩÜÂÖÅËÆ∏ÂÜôÊìç‰ΩúÔºõÊ≠§Â§ñÂ§ßÂ§öÊï∞ÊµèËßàÂô®‰ªçÂÖÅËÆ∏ÈÄöËøáXMLHTTPÂØπË±°ËØªÂèñHTTPÂìçÂ∫î‰∏≠ÁöÑSet-CookieÂ§¥„ÄÇ</p>
</blockquote>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/8IaHk2FEMwyoXem.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702002624508" src="https://s2.loli.net/2023/07/02/8IaHk2FEMwyoXem.png" /></a></p>
<p>‰∏∫‰∫ÜÂΩªÂ∫ïÊùúÁªùËøô‰∏™ÈóÆÈ¢òÔºåÁôªÂΩïÊàêÂäü‰πãÂêéÂ∫îËØ•ÈáçÊñ∞ÁªôÁî®Êà∑ÂàÜÈÖç‰∏Ä‰∏™Êñ∞ÁöÑJSESSIONIDÊâçË°åÔºåËÄåËøô‰∫õÈÉΩÁî±SpringSecurityÂ∏ÆÊàë‰ª¨ÂÆûÁé∞‰∫Ü„ÄÇ</p>
<h3 id="xss">XSSË∑®Á´ôËÑöÊú¨ÊîªÂáª<a class="headerlink" href="#xss" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫Ü‰∏§ÁßçÊîªÂáªÊñπÂºèÔºå‰∏çËøáÈÉΩÊòØ‰ªéÂ§ñÈÉ®Âπ≤Ê∂âÔºåÂú®Â§ñÈÉ®Êó†Ê≥ïÂπ≤Ê∂âÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ªéÂÜÖÈÉ®ÂáªÊ∫ÉÁΩëÁ´ôÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÈöÜÈáç‰ªãÁªçXSSË∑®Á´ôËÑöÊú¨ÊîªÂáªÊñπÂºè„ÄÇ</p>
<p>XSSÔºàË∑®Á´ôËÑöÊú¨ÊîªÂáªÔºâÊòØ‰∏ÄÁßçÂ∏∏ËßÅÁöÑÁΩëÁªúÂÆâÂÖ®ÊºèÊ¥ûÔºåÊîªÂáªËÄÖÈÄöËøáÂú®ÂêàÊ≥ïÁΩëÁ´ô‰∏≠Ê≥®ÂÖ•ÊÅ∂ÊÑèËÑöÊú¨‰ª£Á†ÅÊù•ÊîªÂáªÁî®Êà∑„ÄÇÂΩìÁî®Êà∑ËÆøÈóÆÂèóÂà∞Ê≥®ÂÖ•ÊîªÂáªÁöÑÈ°µÈù¢Êó∂ÔºåÊÅ∂ÊÑè‰ª£Á†Å‰ºöÂú®Áî®Êà∑ÁöÑÊµèËßàÂô®‰∏≠ÊâßË°åÔºå‰ªéËÄåÂØºËá¥ÊîªÂáªËÄÖËÉΩÂ§üÁ™ÉÂèñÁî®Êà∑ÁöÑÊïèÊÑü‰ø°ÊÅØ„ÄÅËØ±ÂØºÁî®Êà∑Êìç‰Ωú„ÄÅÁîöËá≥ÊéßÂà∂Áî®Êà∑ÁöÑË¥¶Âè∑„ÄÇ</p>
<p>XSSÊîªÂáªÂ∏∏ËßÅÁöÑÊñπÂºèÊúâ‰∏âÁßçÔºö</p>
<ol>
<li>Â≠òÂÇ®ÂûãXSSÊîªÂáªÔºöÊîªÂáªËÄÖÂ∞ÜÊÅ∂ÊÑè‰ª£Á†ÅÂ≠òÂÇ®Âà∞ÁõÆÊ†áÁΩëÁ´ôÁöÑÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂΩìÂÖ∂‰ªñÁî®Êà∑ËÆøÈóÆÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÁöÑÈ°µÈù¢Êó∂ÔºåÊÅ∂ÊÑè‰ª£Á†Å‰ºöË¢´ÊâßË°å„ÄÇ</li>
<li>ÂèçÂ∞ÑÂûãXSSÊîªÂáªÔºöÊîªÂáªËÄÖÂ∞ÜÊÅ∂ÊÑè‰ª£Á†ÅÂµåÂÖ•Âà∞URL‰∏≠ÔºåÂΩìÁî®Êà∑ÁÇπÂáªÂåÖÂê´ÊÅ∂ÊÑè‰ª£Á†ÅÁöÑURLÊó∂ÔºåÊÅ∂ÊÑè‰ª£Á†Å‰ºöË¢´ÊâßË°å„ÄÇ</li>
<li>DOM-based XSSÊîªÂáªÔºöÊîªÂáªËÄÖÂà©Áî®ÂâçÁ´ØJavaScript‰ª£Á†ÅÁöÑÊºèÊ¥ûÔºåÈÄöËøá‰øÆÊîπÈ°µÈù¢ÁöÑDOMÁªìÊûÑÊù•ÊâßË°åÊÅ∂ÊÑè‰ª£Á†Å„ÄÇ</li>
</ol>
<p>Âú®‰∏Ä‰∫õÁ§æ‰∫§ÁΩëÁ´ô‰∏äÔºåÁî®Êà∑ÂèØ‰ª•Ëá™Áî±ÂèëÂ∏ñÔºåËÄåÂ∏ñÂ≠êÊòØ‰ª•ÂØåÊñáÊú¨ÂΩ¢ÂºèËøõË°åÁºñËæëÂíå‰∏ä‰º†ÁöÑÔºåÂèëÈÄÅÁªôÂêéÂè∞ÁöÑÂ∏ñÂ≠êÂæÄÂæÄÊòØÁõ¥Êé•‰ª•HTML‰ª£Á†ÅÁöÑÂΩ¢ÂºèÔºåËøô‰∏™Êó∂ÂÄôÂ∞±‰ºöÁªôÈªëÂÆ¢ÂèØ‰πò‰πãÊú∫‰∫Ü„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/jTcOaNdwDeP9qB2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702003831742" src="https://s2.loli.net/2023/07/02/jTcOaNdwDeP9qB2.png" /></a></p>
<p>Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÁî®Êà∑ÂèëÂ∏ñ‰ºöÂêëÂêéÁ´Ø‰∏ä‰º†‰ª•‰∏ãÂÜÖÂÆπÔºåËøô‰∫õÊòØÁªèËøáËΩ¨Êç¢ÂæóÂà∞ÁöÑÊ≠£Â∏∏HTML‰ª£Á†ÅÔºåÊñπ‰æøÂêéÁª≠Áõ¥Êé•Â±ïÁ§∫Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;content ql-editor&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>Ëê®ËææÁù°Ëßâ‰∫ÜÂ§ßÊï∞ÊçÆ<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>ÊííÂ§ßÂ§ßÊííÂ§ßÂ£∞Âú∞<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>ËÄåÁé∞Âú®ÔºåÈªëÂÆ¢‰∏çËµ∞Â∏∏ËßÑÁöÑÊñπÂºèÂèëÂ∏ñÔºåËÄåÊòØÂèëÈÄÅ‰ª•‰∏ãÂÜÖÂÆπÁªôÊúçÂä°Á´ØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;content ql-editor&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span> <span class="na">ŒønlŒøad</span><span class="o">=</span><span class="s">&quot;alert(&#39;xss&#39;)&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>Ëê®ËææÁù°Ëßâ‰∫ÜÂ§ßÊï∞ÊçÆ<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>ÊííÂ§ßÂ§ßÊííÂ§ßÂ£∞Âú∞<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>ÂèØ‰ª•ÁúãÂà∞<code>p</code>Ê†áÁ≠æ‰∏äÊ∑ªÂä†‰∫Ü‰∏ÄÊÆµJSÊÅ∂ÊÑèËÑöÊú¨ÔºåÈªëÂÆ¢ÂèØ‰ª•Âà©Áî®ËøôÁßçÁâπÊÄßÔºåËé∑ÂèñÁî®Êà∑ÁöÑÂêÑÁßç‰ø°ÊÅØÔºåÁîöËá≥Áõ¥Êé•ÂèëÈÄÅÂà∞‰ªñÁöÑÂêéÂè∞ÔºåËøôÊ†∑ÔºåÊàë‰ª¨ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÂ∞±‰ªéÁΩëÁ´ôÂÜÖÈÉ®Ë¢´Ê≥ÑÈú≤‰∫Ü„ÄÇ</p>
<p>XSSÊºèÊ¥ûÊúÄÊó©Ë¢´ÂèëÁé∞ÊòØÂú®1996Âπ¥ÔºåÁî±‰∫éJavaScriptÁöÑÂá∫Áé∞ÔºåÂØºËá¥Âú®WebÂ∫îÁî®Á®ãÂ∫è‰∏≠Â≠òÂú®‰∫Ü‰∏Ä‰∫õÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇÂú®1997Âπ¥ÔºåÈ´òÊô∫Êñá(Gareth Owen)‰πüÂ∞±ÊòØ‚ÄúXSS‰πãÁà∂‚ÄùÔºåÂú®‰ªñÁöÑÂçöÂÆ¢‰∏≠ÊèèËø∞‰∫Ü‰∏ÄÁßçÁß∞‰∏∫‚ÄúËÑöÊú¨Ê≥®ÂÖ•‚Äù(script injection)ÁöÑÊîªÂáªÊäÄÊúØÔºåËøôÂ∞±ÊòØXSSÊºèÊ¥ûÁöÑÂâçË∫´„ÄÇ‰ªéÈÇ£Êó∂Ëµ∑ÔºåXSSÊºèÊ¥û‰æøÊàê‰∏∫‰∫ÜWebÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑ‰∏ÄÁßçÂ∏∏ËßÅÂÆâÂÖ®ÊºèÊ¥û„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/DkzJWPxQ5BUl2tC.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702004827194" src="https://s2.loli.net/2023/07/02/DkzJWPxQ5BUl2tC.png" /></a></p>
<p>ËøôÁßçÊîªÂáª‰∏ÄËà¨ÈúÄË¶ÅÂâçÁ´ØÈÖçÂêàÂêéÁ´ØËøõË°åÈò≤Âæ°ÔºåÊàñËÄÖÂêéÁ´ØÂØπÂâçÁ´ØÂèëÈÄÅÁöÑÂÜÖÂÆπËøõË°åÂÆâÂÖ®Êâ´ÊèèÂπ∂Â§ÑÁêÜÔºåÊúâÊú∫‰ºöÊàë‰ª¨‰ºöÂàÜ‰∫´Â¶Ç‰ΩïÈò≤ËåÉÊ≠§Á±ªÊîªÂáª„ÄÇ</p>
<p>Âú®‰∫ÜËß£Ëøô‰πàÂ§öÊîªÂáªÊñπÂºè‰πãÂêéÔºåÊÉ≥ÂøÖÂêÑ‰ΩçÂ∞è‰ºô‰º¥ËÇØÂÆöÊúâ‰∫Ü‰∏ÄÂÆöÁöÑÁΩëÁªúÂÆâÂÖ®ÊÑèËØÜÔºå‰∏çËøáÊàë‰ª¨Âπ∂‰∏çÊòØÁΩëÁªúÂÆâÂÖ®‰∏ì‰∏öÁöÑËØæÁ®ãÔºåËá≥‰∫éÊõ¥Â§öÁöÑÊîªÂáªÂΩ¢ÂºèÔºåËøòËØ∑ÂêÑ‰ΩçÂ∞è‰ºô‰º¥Ëá™Ë°å‰∫ÜËß£Ôºå‰ªé‰∏ã‰∏Ä‰∏™ÊùøÂùóÂºÄÂßãÔºåÊàë‰ª¨Â∞Ü‰ºöÊ≠£ÂºèÂºÄÂßãSpringSecurityÊ°ÜÊû∂ÁöÑ‰ªãÁªç„ÄÇ</p>
<hr />
<h2 id="_3">ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>Êàë‰ª¨ÁªßÁª≠‰ΩøÁî®‰πãÂâçÁöÑÊµãËØïÈ°πÁõÆËøõË°åÊïôÂ≠¶ÔºåÈ¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂØºÂÖ•SpringSecurityÁöÑÁõ∏ÂÖ≥‰æùËµñÔºåÂÆÉ‰∏ç‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™Ê®°ÂùóÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆÈúÄÊ±ÇÂØºÂÖ•ÈúÄË¶ÅÁöÑÊ®°ÂùóÔºåÂ∏∏Áî®ÁöÑÊòØ‰ª•‰∏ã‰∏§‰∏™Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-security-web<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>6.1.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-security-config<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>6.1.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÈÖçÁΩÆSpringSecurityÔºå‰∏éMvc‰∏ÄÊ†∑ÔºåÈúÄË¶Å‰∏Ä‰∏™ÂàùÂßãÂåñÂô®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityInitializer</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractSecurityWebApplicationInitializer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//‰∏çÁî®ÈáçÂÜô‰ªª‰ΩïÂÜÖÂÆπ</span>
<span class="w">    </span><span class="c1">//ËøôÈáåÂÆûÈôÖ‰∏ä‰ºöËá™Âä®Ê≥®ÂÜå‰∏Ä‰∏™FilterÔºåSpringSecurityÂ∫ïÂ±ÇÂ∞±ÊòØ‰æùÈù†N‰∏™ËøáÊª§Âô®ÂÆûÁé∞ÁöÑÔºåÊàë‰ª¨‰πãÂêéÂÜçÊé¢ËÆ®</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÂÜçÂàõÂª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÁî®‰∫éÈÖçÁΩÆSpringSecurityÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span><span class="w">   </span><span class="c1">//ÂºÄÂêØWebSecurityÁõ∏ÂÖ≥ÂäüËÉΩ</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÂú®Ê†πÂÆπÂô®‰∏≠Ê∑ªÂä†Ê≠§ÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">protected</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;[]</span><span class="w"> </span><span class="nf">getRootConfigClasses</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Class</span><span class="o">[]</span><span class="p">{</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">SecurityConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">};</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåSpringSecurityÁöÑÈÖçÁΩÆÂ∞±ÂÆåÊàê‰∫ÜÔºåÊàë‰ª¨ÂÜçÊ¨°ËøêË°åÈ°πÁõÆÔºå‰ºöÂèëÁé∞Êó†Ê≥ïËøõÂÖ•ÁöÑÊàë‰ª¨ÁöÑÈ°µÈù¢‰∏≠ÔºåÊó†ËÆ∫Êàë‰ª¨ËÆøÈóÆÂì™‰∏™È°µÈù¢ÔºåÈÉΩ‰ºöËøõÂÖ•Âà∞SpringSecurity‰∏∫Êàë‰ª¨Êèê‰æõÁöÑ‰∏Ä‰∏™ÈªòËÆ§ÁôªÂΩïÈ°µÈù¢Ôºå‰πãÂêéÊàë‰ª¨‰ºöËÆ≤Ëß£Â¶Ç‰ΩïËøõË°åÈÖçÁΩÆ„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/dWkGc5YhNAIbP8j.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702135644834" src="https://s2.loli.net/2023/07/02/dWkGc5YhNAIbP8j.png" /></a></p>
<p>Ëá≥Ê≠§ÔºåÈ°πÁõÆÁéØÂ¢ÉÊê≠Âª∫ÂÆåÊàê„ÄÇ</p>
<hr />
<h2 id="_4">ËÆ§ËØÅ<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>ËÆ§ËØÅÊòØÊàë‰ª¨ÁΩëÁ´ôÁöÑÁ¨¨‰∏ÄÊ≠•ÔºåÁî®Êà∑ÈúÄË¶ÅÁôªÂΩï‰πãÂêéÊâçËÉΩËøõÂÖ•ÔºåËøô‰∏ÄÈÉ®ÂàÜÊàë‰ª¨Â∞ÜËØ¶ÁªÜ‰ªãÁªçÂ¶Ç‰Ωï‰ΩøÁî®SpringSecurityÂÆûÁé∞Áî®Êà∑ÁôªÂΩï„ÄÇ</p>
<h3 id="_5">Âü∫‰∫éÂÜÖÂ≠òÈ™åËØÅ<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>È¶ñÂÖàÊàë‰ª¨Êù•ÁúãÁúãÊúÄÁÆÄÂçïÁöÑÂü∫‰∫éÂÜÖÂ≠òÁöÑÈÖçÁΩÆÔºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨Áõ¥Êé•‰ª•‰ª£Á†ÅÁöÑÂΩ¢ÂºèÈÖçÁΩÆÊàë‰ª¨ÁΩëÁ´ôÁöÑÁî®Êà∑ÂíåÂØÜÁ†ÅÔºåÈÖçÁΩÆÊñπÂºèÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®SecurityÈÖçÁΩÆÁ±ª‰∏≠Ê≥®ÂÜå‰∏Ä‰∏™BeanÂç≥ÂèØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span><span class="w">   </span><span class="c1">//UserDetailsServiceÂ∞±ÊòØËé∑ÂèñÁî®Êà∑‰ø°ÊÅØÁöÑÊúçÂä°</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">UserDetailsService</span><span class="w"> </span><span class="nf">userDetailsService</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//ÊØè‰∏Ä‰∏™UserDetailsÂ∞±‰ª£Ë°®‰∏Ä‰∏™Áî®Êà∑‰ø°ÊÅØÔºåÂÖ∂‰∏≠ÂåÖÂê´Áî®Êà∑ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰ª•ÂèäËßíËâ≤</span>
<span class="w">        </span><span class="n">UserDetails</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">withDefaultPasswordEncoder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">username</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">roles</span><span class="p">(</span><span class="s">&quot;USER&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">//ËßíËâ≤ÁõÆÂâçÊàë‰ª¨‰∏çÈúÄË¶ÅÂÖ≥ÂøÉÔºåÈöè‰æøÂÜôÂ∞±Ë°åÔºåÂêéÈù¢‰ºö‰∏ìÈó®ËÆ≤Ëß£</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">UserDetails</span><span class="w"> </span><span class="n">admin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">withDefaultPasswordEncoder</span><span class="p">()</span>
<span class="w">                </span><span class="p">.</span><span class="na">username</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">roles</span><span class="p">(</span><span class="s">&quot;ADMIN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;USER&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InMemoryUserDetailsManager</span><span class="p">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">admin</span><span class="p">);</span><span class="w"> </span>
<span class="w">        </span><span class="c1">//ÂàõÂª∫‰∏Ä‰∏™Âü∫‰∫éÂÜÖÂ≠òÁöÑÁî®Êà∑‰ø°ÊÅØÁÆ°ÁêÜÂô®‰Ωú‰∏∫UserDetailsService</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÖçÁΩÆÂÆåÊàêÂêéÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂâçÂæÄÁôªÂΩïÁïåÈù¢ÔºåËøõË°åÁôªÂΩïÊìç‰Ωú‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/tSGxZmv6jUDMy95.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702144938540" src="https://s2.loli.net/2023/07/02/tSGxZmv6jUDMy95.png" /></a></p>
<p>ÁôªÂΩïÊàêÂäüÂêéÔºåÂ∞±ÂèØ‰ª•ËÆøÈóÆÂà∞Êàë‰ª¨‰πãÂâçÁöÑÁïåÈù¢‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/Z8fxKehX26AMaJI.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702145011992" src="https://s2.loli.net/2023/07/02/Z8fxKehX26AMaJI.png" /></a></p>
<p>Âπ∂‰∏î‰∏∫‰∫ÜÈò≤Ê≠¢Êàë‰ª¨‰πãÂâçÊèêÂà∞ÁöÑ‰ºöËØùÂõ∫ÂÆöÈóÆÈ¢òÔºåÂú®ÁôªÂΩï‰πãÂêéÔºåJSESSIONID‰ºöÂæóÂà∞ÈáçÊñ∞ÂàÜÈÖçÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/mQpWZMljCt2XTd7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703192441811" src="https://s2.loli.net/2023/07/03/mQpWZMljCt2XTd7.png" /></a></p>
<p>ÂΩìÊàë‰ª¨ÊÉ≥Ë¶ÅÈÄÄÂá∫Êó∂Ôºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÔºö<a href="http://localhost:8080/mvc/logout">http://localhost:8080/mvc/logout</a> Âú∞ÂùÄÔºåÊàë‰ª¨‰ºöËøõÂÖ•Âà∞‰∏Ä‰∏™ÈÄÄÂá∫ÁôªÂΩïÁïåÈù¢Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/iHQy63RxgUkvKsw.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702145432892" src="https://s2.loli.net/2023/07/02/iHQy63RxgUkvKsw.png" /></a></p>
<p>ÈÄÄÂá∫ÁôªÂΩïÂêéÂ∞±ÈúÄË¶ÅÈáçÊñ∞ÁôªÂΩïÊâçËÉΩËÆøÈóÆÊàë‰ª¨ÁöÑÁΩëÁ´ô‰∫Ü„ÄÇ</p>
<p>ÂèØ‰ª•ÂèëÁé∞ÔºåÂú®Êúâ‰∫ÜSpringSecurity‰πãÂêéÔºåÊàë‰ª¨ÁΩëÁ´ôÁöÑÁôªÂΩïÈ™åËØÅÊ®°ÂùóÁõ∏ÂΩì‰∫éÁõ¥Êé•Ë¢´Êé•ÁÆ°‰∫ÜÔºåÂõ†Ê≠§Ôºå‰ªéÁé∞Âú®ÂºÄÂßãÔºåÊàë‰ª¨ÁöÑÁΩëÁ´ô‰∏çÈúÄË¶ÅÂÜçËá™Â∑±ÁºñÂÜôÁôªÂΩïÊ®°Âùó‰∫ÜÔºåËøôÈáåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÂéªÊéâÔºåÂè™Áïô‰∏ã‰∏ªÈ°µÈù¢Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HelloController</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">//Áé∞Âú®ÊâÄÊúâÊé•Âè£‰∏çÈúÄË¶Å‰ªª‰ΩïÈ™åËØÅ‰∫ÜÔºåÂõ†‰∏∫SecurityÂ∑≤ÁªèÂ∏ÆÊàë‰ª¨ÂÅö‰∫ÜÔºåÊ≤°ÁôªÂΩïÊòØÊ†πÊú¨Ëøõ‰∏çÊù•ÁöÑ</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@ResponseBody</span>
<span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/pay&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">JSONObject</span><span class="w"> </span><span class="nf">pay</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">account</span><span class="p">){</span>
<span class="w">        </span><span class="n">JSONObject</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JSONObject</span><span class="p">();</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ËΩ¨Ë¥¶Áªô&quot;</span><span class="o">+</span><span class="n">account</span><span class="o">+</span><span class="s">&quot;ÊàêÂäüÔºå‰∫§ÊòìÂ∑≤ÂÆåÊàêÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;success&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">object</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨ÁöÑÁΩëÁ´ôÂ∞±ÊàêÂäüÁî®‰∏ä‰∫ÜÊõ¥Âä†ÂÆâÂÖ®ÁöÑSpringSecurityÊ°ÜÊû∂‰∫Ü„ÄÇÁªÜÂøÉÁöÑÂ∞è‰ºô‰º¥ÂèØËÉΩÂèëÁé∞‰∫ÜÔºåÊàë‰ª¨Âú®ÈÖçÁΩÆÁî®Êà∑‰ø°ÊÅØÁöÑÊó∂ÂÄôÔºåÊä•‰∫ÜÈªÑÊ†áÔºåÂÆûÈôÖ‰∏äËøôÁßçÊñπÂºèÂ≠òÂÇ®ÂØÜÁ†ÅÂπ∂‰∏çÂÆâÂÖ®Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/yuYe5pODwqBTQh7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702151123338" src="https://s2.loli.net/2023/07/02/yuYe5pODwqBTQh7.png" /></a></p>
<p>ËøôÊòØÂõ†‰∏∫SpringSecurityÁöÑÂØÜÁ†ÅÊ†°È™å‰∏çÊé®ËçêÁõ¥Êé•‰ΩøÁî®ÂéüÊñáËøõË°åÊØîËæÉÔºåËÄåÊòØ‰ΩøÁî®Âä†ÂØÜÁÆóÊ≥ïÂ∞ÜÂØÜÁ†ÅËøõË°åÂä†ÂØÜÔºàÊõ¥ÂáÜÁ°ÆÂú∞ËØ¥Â∫îËØ•ËøõË°åHashÂ§ÑÁêÜÔºåÊ≠§ËøáÁ®ãÊòØ‰∏çÂèØÈÄÜÁöÑÔºåÊó†Ê≥ïËß£ÂØÜÔºâÔºåÊúÄÂêéÂ∞ÜÁî®Êà∑Êèê‰æõÁöÑÂØÜÁ†Å‰ª•ÂêåÊ†∑ÁöÑÊñπÂºèÂä†ÂØÜÂêé‰∏éÂØÜÊñáËøõË°åÊØîËæÉ„ÄÇÂØπ‰∫éÊàë‰ª¨Êù•ËØ¥ÔºåÁî®Êà∑Êèê‰æõÁöÑÂØÜÁ†ÅÂ±û‰∫éÈöêÁßÅ‰ø°ÊÅØÔºåÁõ¥Êé•ÊòéÊñáÂ≠òÂÇ®Âπ∂‰∏çÂ•ΩÔºåËÄå‰∏îÂ¶ÇÊûúÊï∞ÊçÆÂ∫ìÂÜÖÂÆπË¢´Á™ÉÂèñÔºåÈÇ£‰πàÊâÄÊúâÁî®Êà∑ÁöÑÂØÜÁ†ÅÂ∞ÜÂÖ®ÈÉ®Ê≥ÑÈú≤ÔºåËøôÊòØÊàë‰ª¨‰∏çÂ∏åÊúõÁúãÂà∞ÁöÑÁªìÊûúÔºåÊàë‰ª¨ÈúÄË¶Å‰∏ÄÁßçÊó¢ËÉΩÈöêËóèÁî®Êà∑ÂØÜÁ†Å‰πüËÉΩÂÆåÊàêËÆ§ËØÅÁöÑÊú∫Âà∂ÔºåËÄåHashÂ§ÑÁêÜÂ∞±ÊòØ‰∏ÄÁßçÂæàÂ•ΩÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÈÄöËøáÂ∞ÜÁî®Êà∑ÁöÑÂØÜÁ†ÅËøõË°åHashÂÄºËÆ°ÁÆóÔºåËÆ°ÁÆóÂá∫Êù•ÁöÑÁªìÊûú‰∏ÄËà¨ÊòØÂçïÂêëÁöÑÔºåÊó†Ê≥ïËøòÂéü‰∏∫ÂéüÊñáÔºåÂ¶ÇÊûúÈúÄË¶ÅÈ™åËØÅÊòØÂê¶‰∏éÊ≠§ÂØÜÁ†Å‰∏ÄËá¥ÔºåÈÇ£‰πàÈúÄË¶Å‰ª•ÂêåÊ†∑ÁöÑÊñπÂºèÂä†ÂØÜÂÜçÊØîËæÉ‰∏§‰∏™HashÂÄºÊòØÂê¶‰∏ÄËá¥ÔºåËøôÊ†∑Â∞±ÂæàÂ•ΩÁöÑ‰øùËØÅ‰∫ÜÁî®Êà∑ÂØÜÁ†ÅÁöÑÂÆâÂÖ®ÊÄß„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÊàë‰ª¨Âú®ÈÖçÁΩÆÁî®Êà∑‰ø°ÊÅØÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•‰ΩøÁî®ÂÆòÊñπÊèê‰æõÁöÑBCryptÂä†ÂØÜÂ∑•ÂÖ∑Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">//ËøôÈáåÂ∞ÜBCryptPasswordEncoderÁõ¥Êé•Ê≥®ÂÜå‰∏∫BeanÔºåSecurity‰ºöËá™Âä®ËøõË°åÈÄâÊã©</span>
<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="nf">passwordEncoder</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BCryptPasswordEncoder</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">UserDetailsService</span><span class="w"> </span><span class="nf">userDetailsService</span><span class="p">(</span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="n">encoder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">UserDetails</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span>
<span class="w">                </span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="n">encoder</span><span class="p">.</span><span class="na">encode</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">))</span><span class="w">   </span><span class="c1">//ËøôÈáåÂ∞ÜÂØÜÁ†ÅËøõË°åÂä†ÂØÜÂêéÂ≠òÂÇ®</span>
<span class="w">                </span><span class="p">.</span><span class="na">roles</span><span class="p">(</span><span class="s">&quot;USER&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">encoder</span><span class="p">.</span><span class="na">encode</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">));</span><span class="w">  </span><span class="c1">//‰∏Ä‰ºöËßÇÂØü‰∏Ä‰∏ãÂä†ÂØÜÂá∫Êù•‰πãÂêéÁöÑÂØÜÁ†ÅÈïøÂï•Ê†∑</span>
<span class="w">        </span><span class="n">UserDetails</span><span class="w"> </span><span class="n">admin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">User</span>
<span class="w">                </span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="n">encoder</span><span class="p">.</span><span class="na">encode</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">))</span><span class="w">   </span><span class="c1">//ËøôÈáåÂ∞ÜÂØÜÁ†ÅËøõË°åÂä†ÂØÜÂêéÂ≠òÂÇ®</span>
<span class="w">                </span><span class="p">.</span><span class="na">roles</span><span class="p">(</span><span class="s">&quot;ADMIN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;USER&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InMemoryUserDetailsManager</span><span class="p">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">admin</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â≠òÂÇ®ÁöÑÂØÜÁ†ÅÂ∞±ÊòØÊõ¥Âä†ÂÆâÂÖ®ÁöÑÂØÜÁ†Å‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/Vacp97MlgfNrYnR.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702152150157" src="https://s2.loli.net/2023/07/02/Vacp97MlgfNrYnR.png" /></a></p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/tk5pGDrNHWfaJXU.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702152216162" src="https://s2.loli.net/2023/07/02/tk5pGDrNHWfaJXU.png" /></a></p>
<p>ËøôÊ†∑Ôºå‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊùÉÈôêÊ†°È™åÂ∞±ÈÖçÁΩÆÂÆåÊàê‰∫ÜÔºåÊòØ‰∏çÊòØÊÑüËßâÁî®Ëµ∑Êù•ËøòÊòØÊå∫ÁÆÄÂçïÁöÑÔºü</p>
<p>‰∏çËøáÔºåÂèØËÉΩ‰ºöÊúâÂ∞è‰ºô‰º¥ÂèëÁé∞ÔºåÊâÄÊúâÁöÑPOSTËØ∑Ê±ÇÈÉΩË¢´403‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/F94URzLh6oIBrCJ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702183040922" src="https://s2.loli.net/2023/07/02/F94URzLh6oIBrCJ.png" /></a></p>
<p>ËøôÊòØÂõ†‰∏∫SpringSecurityËá™Â∏¶‰∫ÜcsrfÈò≤Êä§ÔºåÈúÄÊ±ÇÊàë‰ª¨Âú®POSTËØ∑Ê±Ç‰∏≠Êê∫Â∏¶È°µÈù¢‰∏≠ÁöÑcsrfTokenÊâçÂèØ‰ª•ÔºåÂê¶Âàô‰∏ÄÂæãËøõË°åÊã¶Êà™Êìç‰ΩúÔºåËøôÈáåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∂ÂµåÂÖ•Âà∞È°µÈù¢‰∏≠ÔºåÈöè‰æøÊâæ‰∏Ä‰∏™Âú∞ÊñπÊ∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπÔºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">th:id</span><span class="o">=</span><span class="s">&quot;${_csrf.getParameterName()}&quot;</span> <span class="na">th:value</span><span class="o">=</span><span class="s">&quot;${_csrf.token}&quot;</span> <span class="na">hidden</span><span class="p">&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÂú®axiosÂèëËµ∑ËØ∑Ê±ÇÊó∂ÔºåÊê∫Â∏¶Ëøô‰∏™inputÁöÑvalueÂÄºÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">pay</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;account&quot;</span><span class="p">).</span><span class="nx">value</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">csrf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;_csrf&quot;</span><span class="p">).</span><span class="nx">value</span>
<span class="w">    </span><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/mvc/pay&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">account</span><span class="o">:</span><span class="w"> </span><span class="nx">account</span><span class="p">,</span>
<span class="w">        </span><span class="nx">_csrf</span><span class="o">:</span><span class="w"> </span><span class="nx">csrf</span><span class="w">   </span><span class="c1">//Êê∫Â∏¶Ê≠§‰ø°ÊÅØÂç≥ÂèØÔºåÂê¶Âàô‰ºöË¢´Êã¶Êà™</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">...</span>
</code></pre></div>
<p>Â¶ÇÊûúÂêéÁª≠ÂêÑ‰ΩçÂ∞è‰ºô‰º¥ÈÅáÂà∞ÈÇ£ÁßçÈúÄË¶ÅÂÜçformË°®Âçï‰∏≠Êèê‰∫§ÁöÑÊÉÖÂÜµÔºå‰πüÂèØ‰ª•Áõ¥Êé•ÂÉè‰∏ãÈù¢ËøôÊ†∑ÁªôÂ°ûÂà∞Ë°®ÂçïÈáåÔºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/xxxx&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
    ...
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">th:name</span><span class="o">=</span><span class="s">&quot;${_csrf.getParameterName()}&quot;</span> <span class="na">th:value</span><span class="o">=</span><span class="s">&quot;${_csrf.token}&quot;</span> <span class="na">hidden</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÁé∞Âú®ÁöÑÊµèËßàÂô®Â∑≤ÁªèÂæàÂÆâÂÖ®‰∫ÜÔºåÂÆåÂÖ®‰∏çÈúÄË¶Å‰ΩøÁî®Ëá™Â∏¶ÁöÑcsrfÈò≤Êä§ÔºåÂêéÈù¢Êàë‰ª¨‰ºöËÆ≤Ëß£Â¶Ç‰ΩïÈÄöËøáÈÖçÁΩÆÂÖ≥Èó≠csrfÈò≤Êä§„ÄÇËøôÈáåÊ∏©È¶®ÊèêÈÜí‰∏Ä‰∏ãÔºåÂú®ÂêéÁª≠ÂêÑ‰ΩçÂ∞è‰ºô‰º¥Ë∑üÊàë‰ª¨ÁöÑÂÆûÊàòÈ°πÁõÆÊó∂ÔºåÂ¶ÇÊûúÈÅáÂà∞ËØ∏Â¶Ç401„ÄÅ403ËøôÁßçÈîôËØØÊó∂Ôºå‰ºòÂÖàÊü•Áúã‰Ω†ÁöÑSpringSecurityÈÖçÁΩÆÊòØÂê¶ÈîôËØØ„ÄÇ</p>
<blockquote>
<p>‰ªéSpring Security 4.0ÂºÄÂßãÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ºöÂêØÁî®CSRF‰øùÊä§Ôºå‰ª•Èò≤Ê≠¢CSRFÊîªÂáªÂ∫îÁî®Á®ãÂ∫èÔºåSpring Security CSRF‰ºöÈíàÂØπPATCHÔºåPOSTÔºåPUTÂíåDELETEÊñπÊ≥ïÁöÑËØ∑Ê±ÇÔºà‰∏ç‰ªÖ‰ªÖÂè™ÊòØÁôªÈôÜËØ∑Ê±ÇÔºåËøôÈáåÊåáÁöÑÊòØ‰ªª‰ΩïËØ∑Ê±ÇË∑ØÂæÑÔºâËøõË°åÈò≤Êä§ÔºåËÄåËøôÈáåÁöÑÁôªÈôÜË°®ÂçïÊ≠£Â•ΩÊòØ‰∏Ä‰∏™POSTÁ±ªÂûãÁöÑËØ∑Ê±Ç„ÄÇÂú®ÈªòËÆ§ÈÖçÁΩÆ‰∏ãÔºåÊó†ËÆ∫ÊòØÂê¶ÁôªÈôÜÔºåÈ°µÈù¢‰∏≠Âè™Ë¶ÅÂèëËµ∑‰∫ÜPATCHÔºåPOSTÔºåPUTÂíåDELETEËØ∑Ê±Ç‰∏ÄÂÆö‰ºöË¢´ÊãíÁªùÔºåÂπ∂ËøîÂõû<strong>403</strong>ÈîôËØØ<strong>ÔºàÊ≥®ÊÑèÔºåËøôÈáåÊòØ‰∏™Á©∂ÊûÅÂ§ßÂùëÔºåËøô‰∏™Ê≤°Êúâ‰ªª‰ΩïÊèêÁ§∫ÔºåÁõ¥Êé•403ÔºåÂõ†Ê≠§Â¶ÇÊûú‰Ω†‰∏çÁü•ÈÅìÁöÑËØùÊ†πÊú¨‰∏çÊ∏ÖÊ•öÊòØ‰ªÄ‰πàÈóÆÈ¢òÔºåÂ∞±‰∏ÄÁõ¥Âç°ËøôÈáå‰∫ÜÔºâ</strong>ÔºåÈúÄË¶ÅÂú®ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÂä†ÂÖ•csrfTokenÊâçË°åÔºå‰πüÂ∞±ÊòØ"83421936-b84b-44e3-be47-58bb2c14571a"ÔºåÊ≠£ÊòØcsrfTokenÔºåÂ¶ÇÊûúÊèê‰∫§ÁöÑÊòØË°®ÂçïÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàË°®Âçï‰∏≠ÂøÖÈ°ªÂåÖÂê´Ê≠§TokenÂ≠óÁ¨¶‰∏≤ÔºåÈîÆÂêçÁß∞‰∏∫"_csrf"ÔºõÂ¶ÇÊûúÊòØJSONÊï∞ÊçÆÊ†ºÂºèÂèëÈÄÅÁöÑÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂú®ËØ∑Ê±ÇÂ§¥‰∏≠ÂåÖÂê´Ê≠§TokenÂ≠óÁ¨¶‰∏≤„ÄÇ</p>
</blockquote>
<h3 id="_6">Âü∫‰∫éÊï∞ÊçÆÂ∫ìÈ™åËØÅ<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨Â∑≤ÁªèÂÆûÁé∞‰∫ÜÁõ¥Êé•ËÆ§ËØÅÁöÑÊñπÂºèÔºå‰ΩÜÊòØÂÆûÈôÖÈ°πÁõÆ‰∏≠ÂæÄÂæÄÈÉΩÊòØÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÈÇ£‰πàÂ¶Ç‰ΩïÂ∞ÜÂÖ∂ËøûÊé•Âà∞Êï∞ÊçÆÂ∫ìÔºåÈÄöËøáÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÁî®Êà∑‰ø°ÊÅØÊù•ËøõË°åÁî®Êà∑ÁôªÂΩïÂë¢Ôºü</p>
<p>ÂÆòÊñπÈªòËÆ§Êèê‰æõ‰∫ÜÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÁöÑÁî®Êà∑ÂíåÊùÉÈôêË°®ËÆæËÆ°ÔºåÊ†πÊú¨‰∏çÈúÄË¶ÅÊàë‰ª¨Êù•Âª∫Ë°®ÔºåÁõ¥Êé•Âú®Navicat‰∏≠ÊâßË°å‰ª•‰∏ãÊü•ËØ¢Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">username</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="n">password</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="n">enabled</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
<span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">authorities</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="n">authority</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="k">constraint</span><span class="w"> </span><span class="n">fk_authorities_users</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">username</span><span class="p">)</span><span class="w"> </span><span class="k">references</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">username</span><span class="p">));</span>
<span class="k">create</span><span class="w"> </span><span class="k">unique</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">ix_auth_username</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">authorities</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">authority</span><span class="p">);</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Ê∑ªÂä†MybatisÂíåMySQLÁõ∏ÂÖ≥ÁöÑ‰æùËµñÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.mybatis<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>mybatis<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.5.13<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.mybatis<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>mybatis-spring<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.0.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>8.0.31<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-jdbc<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>6.0.10<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÁºñÂÜôÈÖçÁΩÆÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span><span class="w"> </span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="nf">passwordEncoder</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BCryptPasswordEncoder</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="nf">dataSource</span><span class="p">(){</span>
<span class="w">        </span><span class="c1">//Êï∞ÊçÆÊ∫êÈÖçÁΩÆ</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PooledDataSource</span><span class="p">(</span><span class="s">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;jdbc:mysql://localhost:3306/test&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;root&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;123456&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">UserDetailsService</span><span class="w"> </span><span class="nf">userDetailsService</span><span class="p">(</span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">,</span>
<span class="w">                                                 </span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="n">encoder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">JdbcUserDetailsManager</span><span class="w"> </span><span class="n">manager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JdbcUserDetailsManager</span><span class="p">(</span><span class="n">dataSource</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//‰ªÖÈ¶ñÊ¨°ÂêØÂä®Êó∂ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁî®Êà∑Áî®‰∫éÊµãËØïÔºåÂêéÁª≠Êó†ÈúÄÂàõÂª∫</span>
<span class="w">            </span><span class="n">manager</span><span class="p">.</span><span class="na">createUser</span><span class="p">(</span><span class="n">User</span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">)</span>
<span class="w">                      </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="n">encoder</span><span class="p">.</span><span class="na">encode</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">)).</span><span class="na">roles</span><span class="p">(</span><span class="s">&quot;USER&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">manager</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂêØÂä®ÂêéÔºåÂèØ‰ª•ÁúãÂà∞‰∏§Âº†Ë°®‰∏≠Â∑≤ÁªèËá™Âä®Ê∑ªÂä†Â•ΩÂØπÂ∫îÁöÑÊï∞ÊçÆ‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/VG19mSConefsilH.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702181131252" src="https://s2.loli.net/2023/07/02/VG19mSConefsilH.png" /></a></p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/6uqerwFo13p9jxJ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702181119809" src="https://s2.loli.net/2023/07/02/6uqerwFo13p9jxJ.png" /></a></p>
<p>Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Â∞ùËØïËøõË°åÁôªÂΩïÔºå‰ΩøÁî®ÊñπÂºèÂíå‰πãÂâçÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/02/dVM5ltzF1ua8Y3E.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230702181211157" src="https://s2.loli.net/2023/07/02/dVM5ltzF1ua8Y3E.png" /></a></p>
<p>ËøôÊ†∑ÔºåÂΩìÊàë‰ª¨‰∏ãÊ¨°ÈúÄË¶ÅÂø´ÈÄüÂàõÂª∫‰∏Ä‰∏™Áî®Êà∑ÁôªÂΩïÁöÑÂ∫îÁî®Á®ãÂ∫èÊó∂ÔºåÁõ¥Êé•‰ΩøÁî®ËøôÁßçÊñπÂºèÂ∞±ËÉΩÂø´ÈÄüÂÆåÊàê‰∫ÜÔºåÊòØ‰∏çÊòØÊÑüËßâÁâπÂà´Êñπ‰æø„ÄÇ</p>
<p>Êó†ËÆ∫ÊòØÊàë‰ª¨‰∏äËäÇËØæËÆ§ËØÜÁöÑInMemoryUserDetailsManagerËøòÊòØÁé∞Âú®ËÆ§ËØÜÁöÑJdbcUserDetailsManagerÔºå‰ªñ‰ª¨ÈÉΩÊòØÂÆûÁé∞Ëá™UserDetailsManagerÊé•Âè£ÔºåËøô‰∏™Êé•Âè£‰∏≠ÊúâÁùÄ‰∏ÄÂ•óÂÆåÊï¥ÁöÑÂ¢ûÂà†ÊîπÊü•Êìç‰ΩúÔºåÊñπ‰æøÊàë‰ª¨Áõ¥Êé•ÂØπÁî®Êà∑ËøõË°åÂ§ÑÁêÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">UserDetailsManager</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">UserDetailsService</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">//ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁî®Êà∑</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">createUser</span><span class="p">(</span><span class="n">UserDetails</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>

<span class="w">  </span><span class="c1">//Êõ¥Êñ∞Áî®Êà∑‰ø°ÊÅØ</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateUser</span><span class="p">(</span><span class="n">UserDetails</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>

<span class="w">  </span><span class="c1">//Âà†Èô§Áî®Êà∑</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">deleteUser</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">);</span>

<span class="w">  </span><span class="c1">//‰øÆÊîπÁî®Êà∑ÂØÜÁ†Å</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">changePassword</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">oldPassword</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">newPassword</span><span class="p">);</span>

<span class="w">  </span><span class="c1">//Âà§Êñ≠ÊòØÂê¶Â≠òÂú®ÊåáÂÆöÁî®Êà∑</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">userExists</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÄöËøá‰ΩøÁî®UserDetailsManagerÂØπË±°ÔºåÊàë‰ª¨Â∞±ËÉΩÂø´ÈÄüÊâßË°åÁî®Êà∑Áõ∏ÂÖ≥ÁöÑÁÆ°ÁêÜÊìç‰ΩúÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®ÁΩëÁ´ô‰∏äÊ∑ªÂä†‰∏Ä‰∏™Âø´ÈÄüÈáçÁΩÆÂØÜÁ†ÅÁöÑÊé•Âè£ÔºåÈ¶ñÂÖàÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ãJdbcUserDetailsManagerÔºå‰∏∫ÂÖ∂Ê∑ªÂä†‰∏Ä‰∏™AuthenticationManagerÁî®‰∫éÂéüÂØÜÁ†ÅÁöÑÊ†°È™åÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="c1">//ÊâãÂä®ÂàõÂª∫‰∏Ä‰∏™AuthenticationManagerÁî®‰∫éÂ§ÑÁêÜÂØÜÁ†ÅÊ†°È™å</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">AuthenticationManager</span><span class="w"> </span><span class="nf">authenticationManager</span><span class="p">(</span><span class="n">UserDetailsManager</span><span class="w"> </span><span class="n">manager</span><span class="p">,</span>
<span class="w">                                                        </span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="n">encoder</span><span class="p">){</span>
<span class="w">        </span><span class="n">DaoAuthenticationProvider</span><span class="w"> </span><span class="n">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DaoAuthenticationProvider</span><span class="p">();</span>
<span class="w">        </span><span class="n">provider</span><span class="p">.</span><span class="na">setUserDetailsService</span><span class="p">(</span><span class="n">manager</span><span class="p">);</span>
<span class="w">        </span><span class="n">provider</span><span class="p">.</span><span class="na">setPasswordEncoder</span><span class="p">(</span><span class="n">encoder</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProviderManager</span><span class="p">(</span><span class="n">provider</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">UserDetailsManager</span><span class="w"> </span><span class="nf">userDetailsService</span><span class="p">(</span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">,</span>
<span class="w">                                                 </span><span class="n">PasswordEncoder</span><span class="w"> </span><span class="n">encoder</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">JdbcUserDetailsManager</span><span class="w"> </span><span class="n">manager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JdbcUserDetailsManager</span><span class="p">(</span><span class="n">dataSource</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//‰∏∫UserDetailsManagerËÆæÁΩÆAuthenticationManagerÂç≥ÂèØÂºÄÂêØÈáçÁΩÆÂØÜÁ†ÅÁöÑÊó∂ÁöÑÊ†°È™å</span>
<span class="w">        </span><span class="n">manager</span><span class="p">.</span><span class="na">setAuthenticationManager</span><span class="p">(</span><span class="n">authenticationManager</span><span class="p">(</span><span class="n">manager</span><span class="p">,</span><span class="w"> </span><span class="n">encoder</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">manager</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÁºñÂÜô‰∏Ä‰∏™Âø´ÈÄüÈáçÁΩÆÂØÜÁ†ÅÁöÑÊé•Âè£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@ResponseBody</span>
<span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&quot;/change-password&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">JSONObject</span><span class="w"> </span><span class="nf">changePassword</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">oldPassword</span><span class="p">,</span>
<span class="w">                                 </span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">newPassword</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">manager</span><span class="p">.</span><span class="na">changePassword</span><span class="p">(</span><span class="n">oldPassword</span><span class="p">,</span><span class="w"> </span><span class="n">encoder</span><span class="p">.</span><span class="na">encode</span><span class="p">(</span><span class="n">newPassword</span><span class="p">));</span>
<span class="w">    </span><span class="n">JSONObject</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JSONObject</span><span class="p">();</span>
<span class="w">    </span><span class="n">object</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;success&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">object</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Âú®‰∏ªÁïåÈù¢‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÈáçÁΩÆÂØÜÁ†ÅÁöÑÊìç‰ΩúÔºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
        ‰øÆÊîπÂØÜÁ†ÅÔºö
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;oldPassword&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;ÊóßÂØÜÁ†Å&quot;</span><span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;newPassword&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Êñ∞ÂØÜÁ†Å&quot;</span><span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&quot;change()&quot;</span><span class="p">&gt;</span>‰øÆÊîπÂØÜÁ†Å<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">change</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">oldPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;oldPassword&quot;</span><span class="p">).</span><span class="nx">value</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">newPassword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;newPassword&quot;</span><span class="p">).</span><span class="nx">value</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">csrf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;_csrf&quot;</span><span class="p">).</span><span class="nx">value</span>
<span class="w">    </span><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/mvc/change-password&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">oldPassword</span><span class="o">:</span><span class="w"> </span><span class="nx">oldPassword</span><span class="p">,</span>
<span class="w">        </span><span class="nx">newPassword</span><span class="o">:</span><span class="w"> </span><span class="nx">newPassword</span><span class="p">,</span>
<span class="w">        </span><span class="nx">_csrf</span><span class="o">:</span><span class="w"> </span><span class="nx">csrf</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/x-www-form-urlencoded&#39;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}).</span><span class="nx">then</span><span class="p">(({</span><span class="nx">data</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">alert</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">success</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;ÂØÜÁ†Å‰øÆÊîπÊàêÂäü&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ÂØÜÁ†Å‰øÆÊîπÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÂéüÂØÜÁ†ÅÊòØÂê¶Ê≠£Á°Æ&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Âú®È¶ñÈ°µËøõË°å‰øÆÊîπÂØÜÁ†ÅÊìç‰Ωú‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/akAtDrPeMdc6N3b.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703001525592" src="https://s2.loli.net/2023/07/03/akAtDrPeMdc6N3b.png" /></a></p>
<p>ÂΩìÁÑ∂ÔºåËøôÁßçÊñπÂºèÁöÑÊùÉÈôêÊ†°È™åËôΩÁÑ∂ËÉΩÂ§üÁõ¥Êé•‰ΩøÁî®Êï∞ÊçÆÂ∫ìÔºå‰ΩÜÊòØÂ≠òÂú®‰∏ÄÂÆöÁöÑÂ±ÄÈôêÊÄßÔºåÂè™ÈÄÇÂêàÂø´ÈÄüÊê≠Âª∫Demo‰ΩøÁî®Ôºå‰∏çÈÄÇÂêàÂÆûÈôÖÁîü‰∫ßÁéØÂ¢É‰∏ãÁºñÂÜôÔºå‰∏ã‰∏ÄËäÇÊàë‰ª¨Â∞Ü‰ªãÁªçÂ¶Ç‰ΩïÂÆûÁé∞Ëá™ÂÆö‰πâÈ™åËØÅÔºå‰ª•Â∫îÂØπÂêÑÁßçÊÉÖÂÜµ„ÄÇ</p>
<h3 id="_7">Ëá™ÂÆö‰πâÈ™åËØÅ<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>Êúâ‰∫õÊó∂ÂÄôÔºåÊàë‰ª¨ÁöÑÊï∞ÊçÆÂ∫ìÂèØËÉΩÂπ∂‰∏ç‰ºöÂÉèSpringSecurityÈªòËÆ§ÁöÑÈÇ£Ê†∑ËøõË°åËÆæËÆ°ÔºåËÄåÊòØÈááÁî®Ëá™ÂÆö‰πâÁöÑË°®ÁªìÊûÑÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰∏äÈù¢‰∏§ÁßçÊñπÂºèÂ∞±ÂæàÈöæËøõË°åÈ™åËØÅ‰∫ÜÔºåÊ≠§Êó∂Êàë‰ª¨ÂæóÁºñÂÜôËá™ÂÆö‰πâÈ™åËØÅÔºåÊù•Â∫îÂØπÂêÑÁßç‰ªªÊÑèÂèòÂåñÁöÑÊÉÖÂÜµ„ÄÇ</p>
<p>Êó¢ÁÑ∂ÈúÄË¶ÅËá™ÂÆö‰πâÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÈúÄË¶ÅËá™Ë°åÂÆûÁé∞UserDetailsServiceÊàñÊòØÂäüËÉΩÊõ¥ÂÆåÂñÑÁöÑUserDetailsManagerÊé•Âè£ÔºåËøôÈáå‰∏∫‰∫ÜÁÆÄÂçïÔºåÊàë‰ª¨Áõ¥Êé•ÈÄâÊã©ÂâçËÄÖËøõË°åÂÆûÁé∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthorizeService</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserDetailsService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">UserDetails</span><span class="w"> </span><span class="nf">loadUserByUsername</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">UsernameNotFoundException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨ÈúÄË¶ÅÂéªÂÆûÁé∞Ëøô‰∏™<code>loadUserByUsername</code>ÊñπÊ≥ïÔºåË°®Á§∫Âú®È™åËØÅÁöÑÊó∂ÂÄôÈÄöËøáËá™ÂÆö‰πâÁöÑÊñπÂºèÔºåÊ†πÊçÆÁªôÂÆöÁöÑÁî®Êà∑ÂêçÊü•ËØ¢Áî®Êà∑ÔºåÂπ∂Â∞ÅË£Ö‰∏∫<code>UserDetails</code>ÂØπË±°ËøîÂõûÔºåÁÑ∂ÂêéÁî±SpringSecurityÂ∞ÜÊàë‰ª¨ËøîÂõûÁöÑÂØπË±°‰∏éÁî®Êà∑ÁôªÂΩïÁöÑ‰ø°ÊÅØËøõË°åÊ†∏È™åÔºåÂü∫Êú¨ÊµÅÁ®ãÂÆûÈôÖ‰∏äË∑ü‰πãÂâçÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂè™ÊòØÁé∞Âú®Áî±Êàë‰ª¨Ëá™Â∑±Êù•Êèê‰æõÁî®Êà∑Êü•ËØ¢ÊñπÂºè„ÄÇ</p>
<p>Áé∞Âú®Êàë‰ª¨Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÂàõÂª∫‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÁî®Êà∑Ë°®Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/ln4uZ1TFIe7qaCK.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703181046326" src="https://s2.loli.net/2023/07/03/ln4uZ1TFIe7qaCK.png" /></a></p>
<p>Èöè‰æøÊèíÂÖ•‰∏ÄÁÇπÊï∞ÊçÆÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/tToR2JPykeuCK73.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703152719655" src="https://s2.loli.net/2023/07/03/tToR2JPykeuCK73.png" /></a></p>
<p>Êé•ÁùÄÊàë‰ª¨Ëá™Ë°åÁºñÂÜôÂØπÂ∫îÁöÑÊü•ËØ¢Êìç‰ΩúÔºåÈ¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™ÂØπÂ∫îÁöÑÂÆû‰ΩìÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Data</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Account</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">;</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÁÑ∂ÂêéÊòØÊ†πÊçÆÁî®Êà∑ÂêçÊü•ËØ¢Áî®Êà∑ÁöÑMapperÊé•Âè£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">UserMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Select</span><span class="p">(</span><span class="s">&quot;select * from user where username = #{username}&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">Account</span><span class="w"> </span><span class="nf">findUserByName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéÊàë‰ª¨Âú®ÈÖçÁΩÆÁ±ª‰∏äÊ∑ªÂä†Áõ∏Â∫îÁöÑÂåÖÊâ´ÊèèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableWebMvc</span>
<span class="nd">@Configuration</span>
<span class="nd">@ComponentScans</span><span class="p">({</span>
<span class="w">        </span><span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;com.example.controller&quot;</span><span class="p">),</span>
<span class="w">        </span><span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;com.example.service&quot;</span><span class="p">)</span>
<span class="p">})</span>
<span class="nd">@MapperScan</span><span class="p">(</span><span class="s">&quot;com.example.mapper&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WebConfiguration</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">WebMvcConfigurer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>ÁÑ∂ÂêéÊàë‰ª¨Êù•Âà∞ServiceËøôËæπËøõË°å‰∏Ä‰∏ãÂÆåÂñÑÔºå‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËøõË°åÊü•ËØ¢Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthorizeService</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserDetailsService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Resource</span>
<span class="w">    </span><span class="n">UserMapper</span><span class="w"> </span><span class="n">mapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">UserDetails</span><span class="w"> </span><span class="nf">loadUserByUsername</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">UsernameNotFoundException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Account</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">findUserByName</span><span class="p">(</span><span class="n">username</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">account</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UsernameNotFoundException</span><span class="p">(</span><span class="s">&quot;Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">User</span>
<span class="w">                </span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="n">account</span><span class="p">.</span><span class="na">getPassword</span><span class="p">())</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÈÄöËøáËá™ÂÆö‰πâÁöÑÊñπÂºèÂÆûÁé∞‰∫ÜÊï∞ÊçÆÂ∫ì‰ø°ÊÅØÊü•ËØ¢ÔºåÂπ∂ÂÆåÊàêÁî®Êà∑ÁôªÂΩïÊìç‰Ωú„ÄÇ</p>
<hr />
<h2 id="_8">ÂÖ∂‰ªñÈÖçÁΩÆ<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>ÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫ÜÂ¶ÇÊûúÂ∞ÜSpringSecurity‰Ωú‰∏∫Êàë‰ª¨ÁöÑÁôªÂΩïÊ†°È™åÊ°ÜÊû∂ÔºåÂπ∂‰∏îÂÆûÁé∞‰∫Ü‰∏âÁßçÊñπÂºèÁöÑÊ†°È™åÔºå‰ΩÜÊòØÂÖâÊòØËøôÊ†∑ÔºåËá™Áî±Â∫¶ËøòËøúËøú‰∏çÂ§üÔºåÂú®ÂÆûÈôÖÂºÄÂèëÂú∫ÊôØ‰∏≠ÔºåÊàë‰ª¨Ëøò‰ºöÈù¢ÂØπÂêÑÁßçÂêÑÊ†∑ÁöÑÈúÄÊ±ÇÔºåËøô‰∏ÄÈÉ®ÂàÜÊàë‰ª¨Êé•ÁùÄÊù•ËøõË°åÊõ¥Âä†Ê∑±Â±ÇÊ¨°ÁöÑÈÖçÁΩÆ„ÄÇ</p>
<h3 id="_9">Ëá™ÂÆö‰πâÁôªÂΩïÁïåÈù¢<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>ËôΩÁÑ∂SpringSecurity‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËøòË°åÁöÑÁôªÂΩïÁïåÈù¢Ôºå‰ΩÜÊòØÂæàÂ§öÊÉÖÂÜµ‰∏ãÂæÄÂæÄÈÉΩÊòØÊàë‰ª¨‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑÁôªÂΩïÁïåÈù¢ÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅËøõË°åÊõ¥Â§öÁöÑÈÖçÁΩÆ‰∫ÜÔºåÊàë‰ª¨ËøòÊòØ‰ª•‰πãÂâçÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªü‰ΩøÁî®ÁöÑÊ®°Áâà‰∏∫‰æã„ÄÇ</p>
<p>‰∏ãËΩΩÂ•ΩÊ®°ÁâàÂêéÔºåÊàë‰ª¨Â∞ÜÂÖ∂‰∏≠ÁöÑ‰∏§‰∏™È°µÈù¢ÂíåËµÑÊ∫êÊñá‰ª∂ÊîæÂà∞Á±ªË∑ØÂæÑ‰∏ãÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/hpZs1DLESojHJue.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703180438190" src="https://s2.loli.net/2023/07/03/hpZs1DLESojHJue.png" /></a></p>
<p>Êé•ÁùÄÊàë‰ª¨ÈÖçÁΩÆÂØπÂ∫îÈ°µÈù¢ÁöÑControllerÊéßÂà∂Âô®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HelloController</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/login&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">login</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;login&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Âú®ÁôªÂΩï‰πãÂêéÔºåÂ∞±ÂèØ‰ª•Â±ïÁ§∫ÂâçÁ´ØÊ®°ÁâàÈ°µÈù¢‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/Zns4Vwb7zPLc6SQ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703182321093" src="https://s2.loli.net/2023/07/03/Zns4Vwb7zPLc6SQ.png" /></a></p>
<p>‰∏çËøáÁé∞Âú®‰æùÁÑ∂ÊòØÈªòËÆ§ËøõÂÖ•Âà∞SpringSecurityÈªòËÆ§ÁöÑÁôªÂΩïÁïåÈù¢ÔºåÁé∞Âú®Êàë‰ª¨Êù•ÈÖçÁΩÆËá™ÂÆö‰πâÁöÑÁôªÂΩïÁïåÈù¢ÔºåÂ∞ÜÊàë‰ª¨ÁöÑÂâçÁ´ØÊ®°Áâà‰∏≠ÁöÑÁôªÂΩïÈ°µÈù¢‰Ωú‰∏∫SpringSecurityÁöÑÈªòËÆ§ÁôªÂΩïÁïåÈù¢„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="p">...</span>

<span class="w">        </span><span class="c1">//Â¶ÇÊûú‰Ω†Â≠¶‰π†ËøáSpringSecurity 5.XÁâàÊú¨ÔºåÂèØËÉΩ‰ºöÂèëÁé∞Êñ∞ÁâàÊú¨ÁöÑÈÖçÁΩÆÊñπÂºèÂÆåÂÖ®‰∏ç‰∏ÄÊ†∑</span>
<span class="w">    </span><span class="c1">//Êñ∞ÁâàÊú¨ÂÖ®ÈÉ®ÈááÁî®lambdaÂΩ¢ÂºèËøõË°åÈÖçÁΩÆÔºåÊó†Ê≥ïÂÜç‰ΩøÁî®‰πãÂâçÁöÑand()ÊñπÊ≥ïËøõË°åËøûÊé•‰∫Ü</span>
<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityFilterChain</span><span class="w"> </span><span class="nf">filterChain</span><span class="p">(</span><span class="n">HttpSecurity</span><span class="w"> </span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">http</span>
<span class="w">                </span><span class="c1">//‰ª•‰∏ãÊòØÈ™åËØÅËØ∑Ê±ÇÊã¶Êà™ÂíåÊîæË°åÈÖçÁΩÆ</span>
<span class="w">                </span><span class="p">.</span><span class="na">authorizeHttpRequests</span><span class="p">(</span><span class="n">auth</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">auth</span><span class="p">.</span><span class="na">anyRequest</span><span class="p">().</span><span class="na">authenticated</span><span class="p">();</span><span class="w">    </span><span class="c1">//Â∞ÜÊâÄÊúâËØ∑Ê±ÇÂÖ®ÈÉ®Êã¶Êà™Ôºå‰∏ÄÂæãÈúÄË¶ÅÈ™åËØÅ</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">                </span><span class="c1">//‰ª•‰∏ãÊòØË°®ÂçïÁôªÂΩïÁõ∏ÂÖ≥ÈÖçÁΩÆ</span>
<span class="w">                </span><span class="p">.</span><span class="na">formLogin</span><span class="p">(</span><span class="n">conf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">loginPage</span><span class="p">(</span><span class="s">&quot;/login&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//Â∞ÜÁôªÂΩïÈ°µËÆæÁΩÆ‰∏∫Êàë‰ª¨Ëá™Â∑±ÁöÑÁôªÂΩïÈ°µÈù¢</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">loginProcessingUrl</span><span class="p">(</span><span class="s">&quot;/doLogin&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">//ÁôªÂΩïË°®ÂçïÊèê‰∫§ÁöÑÂú∞ÂùÄÔºåÂèØ‰ª•Ëá™ÂÆö‰πâ</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">defaultSuccessUrl</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÁôªÂΩïÊàêÂäüÂêéË∑≥ËΩ¨ÁöÑÈ°µÈù¢</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">permitAll</span><span class="p">();</span><span class="w">    </span><span class="c1">//Â∞ÜÁôªÂΩïÁõ∏ÂÖ≥ÁöÑÂú∞ÂùÄÊîæË°åÔºåÂê¶ÂàôÊú™ÁôªÂΩïÁöÑÁî®Êà∑ËøûÁôªÂΩïÁïåÈù¢ÈÉΩËøõ‰∏çÂéª</span>
<span class="w">                    </span><span class="c1">//Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑË°®ÂçïÂ≠óÊÆµÂêçÁß∞Ôºå‰∏çËøáÈªòËÆ§Â∞±ÊòØËøô‰∏™ÔºåÂèØ‰ª•‰∏çÈÖçÁΩÆÔºåÈô§ÈùûÊúâÁâπÊÆäÈúÄÊ±Ç</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">usernameParameter</span><span class="p">(</span><span class="s">&quot;username&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">passwordParameter</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈúÄË¶ÅÈÖçÁΩÆÁôªÈôÜÈ°µÈù¢ÁöÑÂú∞ÂùÄÂíåÁôªÈôÜËØ∑Ê±ÇÂèëÈÄÅÁöÑÂú∞ÂùÄÔºåËøôÈáåÁôªÈôÜÈ°µÈù¢Â°´ÂÜô‰∏∫<code>/login</code>ÔºåÁôªÈôÜËØ∑Ê±ÇÂú∞ÂùÄ‰∏∫<code>/doLogin</code>ÔºåÁôªÈôÜÈ°µÈù¢Êàë‰ª¨ÂàöÂàöÂ∑≤ÁªèËá™Â∑±ÁºñÂÜôControllerÊù•ÂÆûÁé∞‰∫ÜÔºåÁôªÈôÜËØ∑Ê±ÇÊèê‰∫§Â§ÑÁêÜÁî±SpringSecurityÊèê‰æõÔºåÂè™ÈúÄË¶ÅÂÜôË∑ØÂæÑÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÁé∞Âú®ËÆøÈóÆÊàë‰ª¨ÁöÑÁΩëÁ´ôÔºåÂ∞±ÂèØ‰ª•ËøõÂÖ•Âà∞Ëá™ÂÆö‰πâÁöÑÁôªÂΩïÁïåÈù¢‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/c38kewdxtn1j2V6.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703184425313" src="https://s2.loli.net/2023/07/03/c38kewdxtn1j2V6.png" /></a></p>
<p>‰ΩÜÊòØÊàë‰ª¨ÂèëÁé∞ÔºåÊàë‰ª¨ÁöÑÈ°µÈù¢Âè™Êúâ‰∏Ä‰∏™Á∫ØÊñáÊú¨ÔºåËøôÊòØÂõ†‰∏∫Âú®Ëé∑ÂèñÈùôÊÄÅËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÊâÄÊúâÁöÑÈùôÊÄÅËµÑÊ∫êÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰πü‰ºöË¢´Êã¶Êà™ÔºåÂõ†Ê≠§ÂÖ®ÈÉ®Ë¢´302ÈáçÂÆöÂêëÂà∞ÁôªÂΩïÈ°µÈù¢ÔºåËøôÊòæÁÑ∂ÊòØ‰∏çÂØπÁöÑÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/6vXlPZprzjJLEeq.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703184641792" src="https://s2.loli.net/2023/07/03/6vXlPZprzjJLEeq.png" /></a></p>
<p>Âõ†Ê≠§ÔºåÁé∞Âú®Êàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊâÄÊúâÁöÑÈùôÊÄÅËµÑÊ∫ê‰πüÁªôÊîæË°åÔºåÂê¶ÂàôÁôªÂΩïÁïåÈù¢ÈÉΩÊ≤°Ê≥ïÊ≠£Â∏∏Â±ïÁ§∫Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="na">authorizeHttpRequests</span><span class="p">(</span><span class="n">auth</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">auth</span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/static/**&quot;</span><span class="p">).</span><span class="na">permitAll</span><span class="p">();</span><span class="w">   </span><span class="c1">//Â∞ÜÊâÄÊúâÁöÑÈùôÊÄÅËµÑÊ∫êÊîæË°åÔºå‰∏ÄÂÆöË¶ÅÊ∑ªÂä†Âú®ÂÖ®ÈÉ®ËØ∑Ê±ÇÊã¶Êà™‰πãÂâç</span>
<span class="w">      </span><span class="n">auth</span><span class="p">.</span><span class="na">anyRequest</span><span class="p">().</span><span class="na">authenticated</span><span class="p">();</span><span class="w">    </span><span class="c1">//Â∞ÜÊâÄÊúâËØ∑Ê±ÇÂÖ®ÈÉ®Êã¶Êà™Ôºå‰∏ÄÂæãÈúÄË¶ÅÈ™åËØÅ</span>
<span class="p">})</span>
</code></pre></div>
<p>ÂÜçÊ¨°ËÆøÈóÆÊàë‰ª¨ÁöÑÁΩëÁ´ôÔºåÂ∞±ÂèØ‰ª•ÁúãÂà∞Ê≠£Â∏∏ÊòæÁ§∫ÁöÑÁôªÂΩïÁïåÈù¢‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/LmZbihzD4vYB5GF.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703185027927" src="https://s2.loli.net/2023/07/03/LmZbihzD4vYB5GF.png" /></a></p>
<p>Âõ†Ê≠§ÔºåÂ¶ÇÊûúÂêÑ‰ΩçÂ∞è‰ºô‰º¥ÂêéÁª≠Âú®ÁºñÂÜôÈ°πÁõÆËøáÁ®ã‰∏≠ÂèëÁé∞Êúâ302ÁöÑÊÉÖÂÜµÔºå‰∏ÄÂÆöË¶ÅÂÖàÊ£ÄÊü•ÊòØÂê¶Âõ†‰∏∫Ê≤°ÊúâÊîæË°åÂØºËá¥Ë¢´SpringSecurityÁªôÊã¶Êà™‰∫ÜÔºåÂà´ÂÜçÈÅáÂà∞302‰∏ÄËÑ∏ÊáµÈÄº‰∫Ü„ÄÇ</p>
<p>Êé•ÁùÄÊàë‰ª¨Êù•ÈÖçÁΩÆÁôªÂΩïÊìç‰ΩúÔºåËøôÈáåÊàë‰ª¨Âè™ÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ãÁôªÂΩïÁöÑÂú∞ÂùÄÂíåÁôªÂΩïÊåâÈíÆÂç≥ÂèØÔºåÂΩìÁÑ∂ÔºåË∑ü‰πãÂâç‰∏ÄÊ†∑ÔºåË¶ÅÊääCSRFÁöÑËæìÂÖ•Ê°Ü‰πüÂä†‰∏äÔºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;doLogin&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
        ...
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;username&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Email Address&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ad-input&quot;</span><span class="p">&gt;</span>
  ...
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Password&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ad-input&quot;</span><span class="p">&gt;</span>
  ...
  <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">th:name</span><span class="o">=</span><span class="s">&quot;${_csrf.getParameterName()}&quot;</span> <span class="na">th:value</span><span class="o">=</span><span class="s">&quot;${_csrf.token}&quot;</span> <span class="na">hidden</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ad-auth-btn&quot;</span><span class="p">&gt;</span>
     <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ad-btn ad-login-member&quot;</span><span class="p">&gt;</span>Login<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Â∞±ÂèØ‰ª•Â∞ùËØïËøõË°åÁôªÂΩïÊìç‰Ωú‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/P2LS8uNRQ64WEvT.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703185916404" src="https://s2.loli.net/2023/07/03/P2LS8uNRQ64WEvT.png" /></a></p>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•ÊàêÂäüÂú∞ÁôªÂΩïÂà∞‰∏ªÈ°µ‰∫Ü„ÄÇ</p>
<p>ÈÄÄÂá∫ÁôªÂΩï‰πüÊòØÂêåÊ†∑ÁöÑÊìç‰ΩúÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÁ®çÂæÆËøõË°å‰∏Ä‰∏ãÈÖçÁΩÆÂ∞±ÂèØ‰ª•ÂÆûÁé∞ÔºåÊàë‰ª¨È¶ñÂÖàÁªßÁª≠ÂÆåÂñÑÈÖçÁΩÆÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityFilterChain</span><span class="w"> </span><span class="nf">filterChain</span><span class="p">(</span><span class="n">HttpSecurity</span><span class="w"> </span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">http</span>
<span class="w">                </span><span class="p">...</span>
<span class="w">                </span><span class="c1">//‰ª•‰∏ãÊòØÈÄÄÂá∫ÁôªÂΩïÁõ∏ÂÖ≥ÈÖçÁΩÆ</span>
<span class="w">                </span><span class="p">.</span><span class="na">logout</span><span class="p">(</span><span class="n">conf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">logoutUrl</span><span class="p">(</span><span class="s">&quot;/doLogout&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÈÄÄÂá∫ÁôªÂΩïÂú∞ÂùÄÔºåË∑ü‰∏äÈù¢‰∏ÄÊ†∑ÂèØËá™ÂÆö‰πâ</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">logoutSuccessUrl</span><span class="p">(</span><span class="s">&quot;/login&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">//ÈÄÄÂá∫ÁôªÂΩïÊàêÂäüÂêéË∑≥ËΩ¨ÁöÑÂú∞ÂùÄÔºåËøôÈáåËÆæÁΩÆ‰∏∫ÁôªÂΩïÁïåÈù¢</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">permitAll</span><span class="p">();</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Êù•Á®çÂæÆÈ≠îÊîπ‰∏Ä‰∏ãÈ°µÈù¢‰∏≠ÁöÑÈÄÄÂá∫ÁôªÂΩïÊåâÈíÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;doLogout&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">th:name</span><span class="o">=</span><span class="s">&quot;${_csrf.getParameterName()}&quot;</span> <span class="na">th:value</span><span class="o">=</span><span class="s">&quot;${_csrf.token}&quot;</span> <span class="na">hidden</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;fas fa-sign-out-alt&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span> logout
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨ÁÇπÂáªÂè≥‰∏äËßíÁöÑÈÄÄÂá∫ÊåâÈíÆÂ∞±ÂèØ‰ª•ÈÄÄÂá∫‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/yM8TOAxYPf3iqFs.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703190714519" src="https://s2.loli.net/2023/07/03/yM8TOAxYPf3iqFs.png" /></a></p>
<p>‰∏çËøáÔºåÂèØËÉΩ‰ºöÊúâÂ∞è‰ºô‰º¥ËßâÂæóÔºåÊàë‰ª¨Áé∞Âú®Êó†ËÆ∫Êèê‰∫§‰ªÄ‰πàËØ∑Ê±ÇÈÉΩÈúÄË¶ÅCsrfÊ†°È™åÔºåÊúâ‰∫õÂ§™È∫ªÁÉ¶‰∫ÜÔºåÂÆûÈôÖ‰∏äÁé∞Âú®ÊµèËßàÂô®Â∑≤ÁªèÂæàÂÆâÂÖ®‰∫ÜÔºåÊ≤°ÂøÖË¶ÅÈò≤Âæ°Âà∞ËøôÁßçÁ®ãÂ∫¶ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Áõ¥Êé•Âú®ÈÖçÁΩÆ‰∏≠ÂÖ≥Èó≠csrfÊ†°È™åÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityFilterChain</span><span class="w"> </span><span class="nf">filterChain</span><span class="p">(</span><span class="n">HttpSecurity</span><span class="w"> </span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">http</span>
<span class="w">                </span><span class="p">...</span>
<span class="w">                </span><span class="c1">//‰ª•‰∏ãÊòØcsrfÁõ∏ÂÖ≥ÈÖçÁΩÆ</span>
<span class="w">                </span><span class="p">.</span><span class="na">csrf</span><span class="p">(</span><span class="n">conf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">disable</span><span class="p">();</span><span class="w">   </span><span class="c1">//Ê≠§ÊñπÊ≥ïÂèØ‰ª•Áõ¥Êé•ÂÖ≥Èó≠ÂÖ®ÈÉ®ÁöÑcsrfÊ†°È™åÔºå‰∏ÄÊ≠•Âà∞‰Ωç</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">ignoringRequestMatchers</span><span class="p">(</span><span class="s">&quot;/xxx/**&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//Ê≠§ÊñπÊ≥ïÂèØ‰ª•Ê†πÊçÆÊÉÖÂÜµÂøΩÁï•Êüê‰∫õÂú∞ÂùÄÁöÑcsrfÊ†°È™å</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±‰∏çÈúÄË¶ÅÂÜçÂæÄÈ°µÈù¢‰∏≠ÂµåÂÖ•CSRFÁõ∏ÂÖ≥ÁöÑËæìÂÖ•Ê°Ü‰∫ÜÔºåÂèëÈÄÅËØ∑Ê±ÇÊó∂‰πü‰∏ç‰ºöËøõË°åÊ†°È™åÔºåËá≥Ê≠§ÔºåÊàë‰ª¨Â∞±ÂÆåÊàê‰∫ÜÁÆÄÂçïÁöÑËá™ÂÆö‰πâÁôªÂΩïÁïåÈù¢ÈÖçÁΩÆ„ÄÇ</p>
<h3 id="_10">ËÆ∞‰ΩèÊàëÂäüËÉΩ<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>Êàë‰ª¨ÁöÑÁΩëÁ´ôËøòÊúâ‰∏Ä‰∏™ÈáçË¶ÅÁöÑÂäüËÉΩÔºåÂ∞±ÊòØËÆ∞‰ΩèÊàëÔºå‰πüÂ∞±ÊòØËØ¥Êàë‰ª¨ÂèØ‰ª•Âú®ÁôªÈôÜ‰πãÂêéÁöÑ‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÔºåÊó†ÈúÄÂÜçÊ¨°ËæìÂÖ•Ë¥¶Âè∑ÂíåÂØÜÁ†ÅËøõË°åÁôªÈôÜÔºåÁõ∏ÂΩì‰∫éÊúçÂä°Á´ØÂ∑≤ÁªèËÆ∞‰ΩèÂΩìÂâçÁî®Êà∑ÔºåÂÜçÊ¨°ËÆøÈóÆÊó∂Â∞±ÂèØ‰ª•ÂÖçÁôªÈôÜËøõÂÖ•ÔºåËøôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Â∏∏Áî®ÁöÑÂäüËÉΩ„ÄÇ</p>
<p>Êàë‰ª¨‰πãÂâçÂú®JavaWebÈò∂ÊÆµÔºå‰ΩøÁî®Êú¨Âú∞CookieÂ≠òÂÇ®ÁöÑÊñπÂºèÂÆûÁé∞‰∫ÜËÆ∞‰ΩèÊàëÂäüËÉΩÔºå‰ΩÜÊòØËøôÁßçÊñπÂºèÂπ∂‰∏çÂÆâÂÖ®ÔºåÂêåÊó∂Âú®‰ª£Á†ÅÁºñÂÜô‰∏ä‰πüÊØîËæÉÈ∫ªÁÉ¶ÔºåÈÇ£‰πàËÉΩÂê¶Êúâ‰∏ÄÁßçÊõ¥Âä†È´òÊïàÁöÑËÆ∞‰ΩèÊàëÂäüËÉΩÂÆûÁé∞Âë¢Ôºü</p>
<p>SpringSecurity‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏ÄÁßç‰ºòÁßÄÁöÑÂÆûÁé∞ÔºåÂÆÉ‰∏∫ÊØè‰∏™Â∑≤ÁªèÁôªÈôÜÁöÑÊµèËßàÂô®ÂàÜÈÖç‰∏Ä‰∏™Êê∫Â∏¶TokenÁöÑCookieÔºåÂπ∂‰∏îÊ≠§CookieÈªòËÆ§‰ºöË¢´‰øùÁïô14Â§©ÔºåÂè™Ë¶ÅÊàë‰ª¨‰∏çÊ∏ÖÁêÜÊµèËßàÂô®ÁöÑCookieÔºåÈÇ£‰πà‰∏ãÊ¨°Êê∫Â∏¶Ê≠§CookieËÆøÈóÆÊúçÂä°Âô®Â∞ÜÊó†ÈúÄÁôªÈôÜÔºåÁõ¥Êé•ÁªßÁª≠‰ΩøÁî®‰πãÂâçÁôªÈôÜÁöÑË∫´‰ªΩÔºåËøôÊ†∑ÊòæÁÑ∂ÊØîÊàë‰ª¨‰πãÂâçÁöÑÂÜôÊ≥ïÊõ¥Âä†ÁÆÄ‰æø„ÄÇÂπ∂‰∏îÊàë‰ª¨ÈúÄË¶ÅËøõË°åÁÆÄÂçïÈÖçÁΩÆÔºåÂç≥ÂèØÂºÄÂêØËÆ∞‰ΩèÊàëÂäüËÉΩÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityFilterChain</span><span class="w"> </span><span class="nf">filterChain</span><span class="p">(</span><span class="n">HttpSecurity</span><span class="w"> </span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">http</span>
<span class="w">                </span><span class="p">...</span>
<span class="w">                </span><span class="p">.</span><span class="na">rememberMe</span><span class="p">(</span><span class="n">conf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">alwaysRemember</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w">  </span><span class="c1">//ËøôÈáå‰∏çË¶ÅÂºÄÂêØÂßãÁªàËÆ∞‰ΩèÔºåÊàë‰ª¨ÈúÄË¶ÅÈÖçÁΩÆ‰∏∫Áî®Êà∑Ëá™Ë°åÂãæÈÄâ</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">rememberMeParameter</span><span class="p">(</span><span class="s">&quot;remember-me&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ËÆ∞‰ΩèÊàëË°®ÂçïÂ≠óÊÆµÔºåÈªòËÆ§Â∞±ÊòØËøô‰∏™ÔºåÂèØ‰ª•‰∏çÈÖçÁΩÆ</span>
<span class="w">                    </span><span class="n">conf</span><span class="p">.</span><span class="na">rememberMeCookieName</span><span class="p">(</span><span class="s">&quot;xxxx&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">//ËÆ∞‰ΩèÊàëËÆæÁΩÆÁöÑCookieÂêçÂ≠óÔºå‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÔºå‰∏çËøáÊ≤°ÂøÖË¶Å</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÖçÁΩÆÂÆåÊàêÂêéÔºåÊàë‰ª¨ÈúÄË¶Å‰øÆÊîπ‰∏Ä‰∏ãÂâçÁ´ØÈ°µÈù¢‰∏≠ÁöÑË°®ÂçïÔºåÂ∞ÜËÆ∞‰ΩèÊàëÂãæÈÄâÊ°Ü‰πü‰Ωú‰∏∫Ë°®ÂçïÁöÑ‰∏ÄÈÉ®ÂàÜËøõË°åÊèê‰∫§Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ad-checkbox&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;remember-me&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;ad-checkbox&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>Remember Me<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Êù•Â∞ùËØïÂãæÈÄâËÆ∞‰ΩèÊàëÈÄâÈ°πËøõË°åÁôªÂΩïÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/04/3wOt7CldbFP8yHz.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230704211415804" src="https://s2.loli.net/2023/07/04/3wOt7CldbFP8yHz.png" /></a></p>
<p>Ê≠§Êó∂Êèê‰∫§ÁöÑË°®Âçï‰∏≠Â∞±Â∑≤ÁªèÂåÖÂê´ËÆ∞‰ΩèÊàëÂ≠óÊÆµ‰∫ÜÔºåÊàë‰ª¨‰ºöÂèëÁé∞ÔºåÊúçÂä°Á´ØËøîÂõûÁªôÊàë‰ª¨‰∫Ü‰∏Ä‰∏™ËÆ∞‰ΩèÊàë‰∏ìÂ±ûÁöÑCookie‰ø°ÊÅØÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/04/NB129h7IKRycXvL.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230704211611369" src="https://s2.loli.net/2023/07/04/NB129h7IKRycXvL.png" /></a></p>
<p>Ëøô‰∏™Cookie‰ø°ÊÅØÁöÑËøáÊúüÊó∂Èó¥Âπ∂‰∏çÊòØ‰ªÖ‰ºöËØùÔºåËÄåÊòØÈªòËÆ§‰øùÂ≠ò‰∏ÄÊÆµÊó∂Èó¥ÔºåÂõ†Ê≠§ÔºåÊàë‰ª¨ÂÖ≥Èó≠ÊµèËßàÂô®Âêé‰∏ãÊ¨°ÂÜçÊ¨°ËÆøÈóÆÁΩëÁ´ôÊó∂ÔºåÂ∞±‰∏çÈúÄË¶ÅÊàë‰ª¨ÂÜçÊ¨°ËøõË°åÁôªÂΩïÊìç‰Ωú‰∫ÜÔºåËÄåÊòØÁõ¥Êé•ÁªßÁª≠‰∏ä‰∏ÄÊ¨°ÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇ</p>
<p>ÂΩìÁÑ∂ÔºåÁî±‰∫éËÆ∞‰ΩèÊàë‰ø°ÊÅØÊòØÂ≠òÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÊàë‰ª¨ÈúÄË¶Å‰øùËØÅÊúçÂä°Âô®‰∏ÄÁõ¥Â§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºåÂ¶ÇÊûúÂÖ≥Èó≠ÊúçÂä°Âô®ÁöÑËØùÔºåËÆ∞‰ΩèÊàë‰ø°ÊÅØ‰ºöÂÖ®ÈÉ®‰∏¢Â§±ÔºåÂõ†Ê≠§ÔºåÂ¶ÇÊûúÊàë‰ª¨Â∏åÊúõËÆ∞‰ΩèÊàëËÉΩÂ§ü‰∏ÄÁõ¥ÊåÅ‰πÖÂåñ‰øùÂ≠òÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅËøõ‰∏ÄÊ≠•ËøõË°åÈÖçÁΩÆ„ÄÇÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Âü∫‰∫éJDBCÁöÑTokenRepositoryÂÆûÁé∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">PersistentTokenRepository</span><span class="w"> </span><span class="nf">tokenRepository</span><span class="p">(</span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">){</span>
<span class="w">    </span><span class="n">JdbcTokenRepositoryImpl</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JdbcTokenRepositoryImpl</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//Âú®ÂêØÂä®Êó∂Ëá™Âä®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÂàõÂª∫Â≠òÂÇ®ËÆ∞‰ΩèÊàë‰ø°ÊÅØÁöÑË°®Ôºå‰ªÖÁ¨¨‰∏ÄÊ¨°ÈúÄË¶ÅÔºåÂêéÁª≠‰∏çÈúÄË¶Å</span>
<span class="w">    </span><span class="n">repository</span><span class="p">.</span><span class="na">setCreateTableOnStartup</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="n">repository</span><span class="p">.</span><span class="na">setDataSource</span><span class="p">(</span><span class="n">dataSource</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">repository</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÁÑ∂ÂêéÊ∑ªÂä†Ê≠§‰ªìÂ∫ìÔºö</p>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="na">rememberMe</span><span class="p">(</span><span class="n">conf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">conf</span><span class="p">.</span><span class="na">rememberMeParameter</span><span class="p">(</span><span class="s">&quot;remember-me&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="n">conf</span><span class="p">.</span><span class="na">tokenRepository</span><span class="p">(</span><span class="n">repository</span><span class="p">);</span><span class="w">      </span><span class="c1">//ËÆæÁΩÆÂàöÂàöÁöÑËÆ∞‰ΩèÊàëÊåÅ‰πÖÂåñÂ≠òÂÇ®Â∫ì</span>
<span class="w">     </span><span class="n">conf</span><span class="p">.</span><span class="na">tokenValiditySeconds</span><span class="p">(</span><span class="mi">3600</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">7</span><span class="p">);</span><span class="w">   </span><span class="c1">//ËÆæÁΩÆËÆ∞‰ΩèÊàëÊúâÊïàÊó∂Èó¥‰∏∫7Â§©</span>
<span class="p">})</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÊàêÂäüÈÖçÁΩÆ‰∫ÜÊï∞ÊçÆÂ∫ìÊåÅ‰πÖÂåñÂ≠òÂÇ®ËÆ∞‰ΩèÊàë‰ø°ÊÅØÔºåÂç≥‰ΩøÊàë‰ª¨ÈáçÂêØÊúçÂä°Âô®‰πü‰∏ç‰ºöÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±„ÄÇÂΩìÊàë‰ª¨ÁôªÂΩï‰πãÂêéÔºåÊï∞ÊçÆÂ∫ì‰∏≠‰ºöËá™Âä®ËÆ∞ÂΩïÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/04/kIJpuWdiEGqUKBx.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230704220701000" src="https://s2.loli.net/2023/07/04/kIJpuWdiEGqUKBx.png" /></a></p>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨ÁΩëÁ´ôÁöÑÁôªÂΩïÁ≥ªÁªüÂ∞±Êõ¥Âä†ÂÆåÂñÑ‰∫Ü„ÄÇ</p>
<hr />
<h2 id="_11">ÊéàÊùÉ<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p>Áî®Êà∑ÁôªÂΩïÂêéÔºåÂèØËÉΩ‰ºöÊ†πÊçÆÁî®Êà∑ÂΩìÂâçÊòØË∫´‰ªΩËøõË°åËßíËâ≤ÂàíÂàÜÔºåÊØîÂ¶ÇÊàë‰ª¨ÊúÄÂ∏∏Áî®ÁöÑQQÔºå‰∏Ä‰∏™QQÁæ§ÈáåÈù¢ÔºåÊúâÁæ§‰∏ª„ÄÅÁÆ°ÁêÜÂëòÂíåÊôÆÈÄöÁæ§ÊàêÂëò‰∏âÁßçËßíËâ≤ÔºåÂÖ∂‰∏≠Áæ§‰∏ªÂÖ∑ÊúâÊúÄÈ´òÊùÉÈôêÔºåÁæ§‰∏ªÂèØ‰ª•ÁÆ°ÁêÜÊï¥‰∏™Áæ§ÁöÑ‰ªª‰ΩïÊùøÂùóÔºåÂπ∂‰∏îÂÖ∑ÊúâËß£Êï£ÂíåÂçáÁ∫ßÁæ§ÁöÑËµÑÊ†ºÔºåËÄåÁÆ°ÁêÜÂëòÂè™ÊúâÁæ§‰∏ªÁöÑ‰∏ÄÈÉ®ÂàÜÊùÉÈôêÔºåÂè™ËÉΩÁî®‰∫éÊó•Â∏∏ÁÆ°ÁêÜÔºåÊôÆÈÄöÁæ§ÊàêÂëòÂàôÂè™ËÉΩËøõË°åÊúÄÂü∫Êú¨ÁöÑËÅäÂ§©Êìç‰Ωú„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/04/e1IXMRgawYoGvSQ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230704222032360" src="https://s2.loli.net/2023/07/04/e1IXMRgawYoGvSQ.png" /></a></p>
<p>ÂØπ‰∫éÊàë‰ª¨Êù•ËØ¥ÔºåÁî®Êà∑ÁöÑ‰∏Ä‰∏™Êìç‰ΩúÂÆûÈôÖ‰∏äÂ∞±ÊòØÂú®ËÆøÈóÆÊàë‰ª¨Êèê‰æõÁöÑ<code>Êé•Âè£</code>(ÁºñÂÜôÁöÑÂØπÂ∫îËÆøÈóÆË∑ØÂæÑÁöÑServletÔºâÔºåÊØîÂ¶ÇÁôªÈôÜÔºåÂ∞±ÈúÄË¶ÅË∞ÉÁî®<code>/login</code>Êé•Âè£ÔºåÈÄÄÂá∫ÁôªÈôÜÂ∞±Ë¶ÅË∞ÉÁî®/<code>logout</code>Êé•Âè£ÔºåËÄåÊàë‰ª¨‰πãÂâçÁöÑÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªü‰∏≠ÔºåÊñ∞Â¢ûÂõæ‰π¶„ÄÅÂà†Èô§Âõæ‰π¶ÔºåÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩÊúâÁùÄÂØπÂ∫îÁöÑServletÊù•ËøõË°åÂ§ÑÁêÜ„ÄÇÂõ†Ê≠§Ôºå‰ªéÊàë‰ª¨ÂºÄÂèëËÄÖÁöÑËßíÂ∫¶Êù•ËØ¥ÔºåÂÜ≥ÂÆöÁî®Êà∑ËÉΩÂê¶‰ΩøÁî®Êüê‰∏™ÂäüËÉΩÔºåÂè™ÈúÄË¶ÅÂÜ≥ÂÆöÁî®Êà∑ÊòØÂê¶ËÉΩÂ§üËÆøÈóÆÂØπÂ∫îÁöÑServletÂç≥ÂèØ„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•Â§ßËá¥ÂÉè‰∏ãÈù¢ËøôÊ†∑ËøõË°åÂàíÂàÜÔºö</p>
<ul>
<li>Áæ§‰∏ªÔºö<code>/login</code>„ÄÅ<code>/logout</code>„ÄÅ<code>/chat</code>„ÄÅ<code>/edit</code>„ÄÅ<code>/delete</code>„ÄÅ<code>/upgrade</code></li>
<li>ÁÆ°ÁêÜÂëòÔºö<code>/login</code>„ÄÅ<code>/logout</code>„ÄÅ<code>/chat</code>„ÄÅ<code>/edit</code></li>
<li>ÊôÆÈÄöÁæ§ÊàêÂëòÔºö<code>/login</code>„ÄÅ<code>/logout</code>„ÄÅ<code>/chat</code></li>
</ul>
<p>‰πüÂ∞±ÊòØËØ¥ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÊåáÂÆöÂì™‰∫õËØ∑Ê±ÇÂèØ‰ª•Áî±Âì™‰∫õÁî®Êà∑ÂèëËµ∑„ÄÇ</p>
<p>SpringSecurity‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏§ÁßçÊéàÊùÉÊñπÂºèÔºö</p>
<ul>
<li>Âü∫‰∫éÊùÉÈôêÁöÑÊéàÊùÉÔºöÂè™Ë¶ÅÊã•ÊúâÊüêÊùÉÈôêÁöÑÁî®Êà∑ÔºåÂ∞±ÂèØ‰ª•ËÆøÈóÆÊüê‰∏™Ë∑ØÂæÑ„ÄÇ</li>
<li>Âü∫‰∫éËßíËâ≤ÁöÑÊéàÊùÉÔºöÊ†πÊçÆÁî®Êà∑Â±û‰∫éÂì™‰∏™ËßíËâ≤Êù•ÂÜ≥ÂÆöÊòØÂê¶ÂèØ‰ª•ËÆøÈóÆÊüê‰∏™Ë∑ØÂæÑ„ÄÇ</li>
</ul>
<p>‰∏§ËÄÖÂè™ÊòØÊ¶ÇÂøµ‰∏äÁöÑ‰∏çÂêåÔºåÂÆûÈôÖ‰∏ä‰ΩøÁî®Ëµ∑Êù•ÊïàÊûúÂ∑Æ‰∏çÂ§ö„ÄÇËøôÈáåÊàë‰ª¨Â∞±ÂÖàÊºîÁ§∫‰ª•ËßíËâ≤ÊñπÂºèÊù•ËøõË°åÊéàÊùÉ„ÄÇ</p>
<h3 id="_12">Âü∫‰∫éËßíËâ≤ÊéàÊùÉ<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>Áé∞Âú®Êàë‰ª¨Â∏åÊúõÂàõÂª∫‰∏§‰∏™ËßíËâ≤ÔºåÊôÆÈÄöÁî®Êà∑ÂíåÁÆ°ÁêÜÂëòÔºåÊôÆÈÄöÁî®Êà∑Âè™ËÉΩËÆøÈóÆindexÈ°µÈù¢ÔºåËÄåÁÆ°ÁêÜÂëòÂèØ‰ª•ËÆøÈóÆ‰ªª‰ΩïÈ°µÈù¢„ÄÇ</p>
<p>È¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑËßíËâ≤Ë°®ËøõË°å‰∏Ä‰∫õ‰øÆÊîπÔºåÊ∑ªÂä†‰∏Ä‰∏™Áî®Êà∑ËßíËâ≤Â≠óÊÆµÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁî®Êà∑ÔºåTestÁî®Êà∑ÁöÑËßíËâ≤‰∏∫userÔºåËÄåAdminÁî®Êà∑ÁöÑËßíËâ≤‰∏∫admin„ÄÇ</p>
<p>Êé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÈÖçÁΩÆSpringSecurityÔºåÂÜ≥ÂÆöÂì™‰∫õËßíËâ≤ÂèØ‰ª•ËÆøÈóÆÂì™‰∫õÈ°µÈù¢Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="na">authorizeHttpRequests</span><span class="p">(</span><span class="n">auth</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ÈùôÊÄÅËµÑÊ∫ê‰æùÁÑ∂ÂÖ®ÈÉ®ÂèØ‰ª•ËÆøÈóÆ</span>
<span class="w">    </span><span class="n">auth</span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/static/**&quot;</span><span class="p">).</span><span class="na">permitAll</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//Âè™ÊúâÂÖ∑Êúâ‰ª•‰∏ãËßíËâ≤ÁöÑÁî®Êà∑ÊâçËÉΩËÆøÈóÆË∑ØÂæÑ&quot;/&quot;</span>
<span class="w">    </span><span class="n">auth</span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">).</span><span class="na">hasAnyRole</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;admin&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÂÖ∂‰ªñÊâÄÊúâË∑ØÂæÑÂøÖÈ°ªËßíËâ≤‰∏∫adminÊâçËÉΩËÆøÈóÆ</span>
<span class="w">    </span><span class="n">auth</span><span class="p">.</span><span class="na">anyRequest</span><span class="p">().</span><span class="na">hasRole</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÁ®çÂæÆ‰øÆÊîπ‰∏Ä‰∏ãÈ™åËØÅÈÄªËæëÔºåÊàë‰ª¨Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÁî®Êà∑Ë°®‰∏äÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÊÆµÔºåÁî®‰∫éË°®Á§∫ËßíËâ≤Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/04/1pkfGS9LrsPtjFx.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230704222733082" src="https://s2.loli.net/2023/07/04/1pkfGS9LrsPtjFx.png" /></a></p>
<p>‰øÆÊîπ‰∏Ä‰∏ãÂØπÂ∫îÁöÑÂÆû‰ΩìÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Data</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Account</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">;</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">;</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">role</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨Âú®Êü•ËØ¢Áî®Êà∑Êó∂ÔºåÈúÄË¶ÅÊ∑ªÂä†ÂÖ∂ÂØπÂ∫îÁöÑËßíËâ≤Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="n">UserDetails</span><span class="w"> </span><span class="nf">loadUserByUsername</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">UsernameNotFoundException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Account</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">.</span><span class="na">findUserByName</span><span class="p">(</span><span class="n">username</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">account</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UsernameNotFoundException</span><span class="p">(</span><span class="s">&quot;Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">User</span>
<span class="w">            </span><span class="p">.</span><span class="na">withUsername</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
<span class="w">            </span><span class="p">.</span><span class="na">password</span><span class="p">(</span><span class="n">account</span><span class="p">.</span><span class="na">getPassword</span><span class="p">())</span>
<span class="w">            </span><span class="p">.</span><span class="na">roles</span><span class="p">(</span><span class="n">account</span><span class="p">.</span><span class="na">getRole</span><span class="p">())</span><span class="w">   </span><span class="c1">//Ê∑ªÂä†ËßíËâ≤Ôºå‰∏Ä‰∏™Áî®Êà∑ÂèØ‰ª•Êúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËßíËâ≤</span>
<span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑Â∞±ÂèØ‰ª•‰∫ÜÔºåÊàë‰ª¨ÈáçÂêØÊúçÂä°Âô®ÁôªÂΩïÁúãÁúãÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/03/Zns4Vwb7zPLc6SQ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230703182321093" src="https://s2.loli.net/2023/07/03/Zns4Vwb7zPLc6SQ.png" /></a></p>
<p>ÁõÆÂâç‰æùÁÑ∂ÊòØÂèØ‰ª•Ê≠£Â∏∏ÁôªÂΩïÁöÑÔºå‰ΩÜÊòØÊàë‰ª¨Èöè‰æøËÆøÈóÆ‰∏Ä‰∏™ÂÖ∂‰ªñÁöÑÈ°µÈù¢ÔºåÂ∞±‰ºöË¢´Êã¶Êà™Âπ∂Ëá™Âä®ÈÄÄÂõûÂà∞ÁôªÂΩïÁïåÈù¢Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/04/8aoGrM9mpYt6Xie.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230704223248124" src="https://s2.loli.net/2023/07/04/8aoGrM9mpYt6Xie.png" /></a></p>
<p>ËøôÊòØÂõ†‰∏∫Êàë‰ª¨ÂâçÈù¢ÈÖçÁΩÆÁöÑÊòØuserËßíËâ≤ÔºåÈÇ£‰πàËøô‰∏™ËßíËâ≤Âè™ËÉΩËÆøÈóÆÈ¶ñÈ°µÔºåÂÖ∂‰ªñÁöÑÈÉΩ‰∏çË°åÔºåÊâÄ‰ª•Â∞±‰ºöË¢´Ëá™Âä®Êã¶Êà™Êéâ‰∫Ü„ÄÇÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•Âà∞Êï∞ÊçÆÂ∫ì‰∏≠ÂØπËøô‰∏™Áî®Êà∑ÁöÑËßíËâ≤ËøõË°å‰øÆÊîπÔºåÁúãÁúã‰øÆÊîπÂêéÊòØÂê¶ËÉΩÂ§üËÆøÈóÆÂà∞ÂÖ∂‰ªñÈ°µÈù¢Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/04/l9YkDaRJdtrmSZj.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230704223503682" src="https://s2.loli.net/2023/07/04/l9YkDaRJdtrmSZj.png" /></a></p>
<p>ËøôÊ†∑Â∞±ÂèØ‰ª•ËÆøÈóÆÂÖ∂‰ªñÈ°µÈù¢‰∏ç‰ºöË¢´Êã¶Êà™‰∫ÜÔºå‰∏çËøáÂõ†‰∏∫Êàë‰ª¨Ê≤°ÈÖçÁΩÆËøô‰∏™Ë∑ØÂæÑÔºåÊâÄ‰ª•Âá∫Êù•ÁöÑÊòØ404È°µÈù¢„ÄÇ</p>
<p>ÈÄöËøá‰ΩøÁî®ËßíËâ≤ÊéßÂà∂È°µÈù¢ÁöÑËÆøÈóÆÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ËÆ©Êüê‰∫õÁî®Êà∑Âè™ËÉΩËÆøÈóÆÈÉ®ÂàÜÈ°µÈù¢„ÄÇ</p>
<h3 id="_13">Âü∫‰∫éÊùÉÈôêÊéàÊùÉ<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>Âü∫‰∫éÊùÉÈôêÁöÑÊéàÊùÉ‰∏éËßíËâ≤Á±ª‰ººÔºåÈúÄË¶Å‰ª•<code>hasAnyAuthority</code>Êàñ<code>hasAuthority</code>ËøõË°åÂà§Êñ≠Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="na">authorizeHttpRequests</span><span class="p">(</span><span class="n">auth</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ÈùôÊÄÅËµÑÊ∫ê‰æùÁÑ∂ÂÖ®ÈÉ®ÂèØ‰ª•ËÆøÈóÆ</span>
<span class="w">    </span><span class="n">auth</span><span class="p">.</span><span class="na">requestMatchers</span><span class="p">(</span><span class="s">&quot;/static/**&quot;</span><span class="p">).</span><span class="na">permitAll</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//Âü∫‰∫éÊùÉÈôêÂíåÂü∫‰∫éËßíËâ≤ÂÖ∂ÂÆûÂ∑ÆÂà´Âπ∂‰∏çÂ§ßÔºå‰ΩøÁî®ÊñπÂºèÊòØÁõ∏ÂêåÁöÑ</span>
<span class="w">    </span><span class="n">auth</span><span class="p">.</span><span class="na">anyRequest</span><span class="p">().</span><span class="na">hasAnyAuthority</span><span class="p">(</span><span class="s">&quot;page:index&quot;</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÊùÉÈôêË∑üËßíËâ≤Áõ∏ÊØîÂè™ÊòØÁ≤íÂ∫¶Êõ¥ÁªÜÔºåÁî±‰∫é‰ΩøÁî®ÊñπÂºèÂ∑Æ‰∏çÂ§öÔºåËøôÈáå‰∏çÂ§öÂÅöÈòêËø∞„ÄÇ</p>
<h3 id="_14">‰ΩøÁî®Ê≥®Ëß£ÊùÉÈôêÂà§Êñ≠<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>Èô§‰∫ÜÁõ¥Êé•ÈÖçÁΩÆ‰ª•Â§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•‰ª•Ê≥®Ëß£ÂΩ¢ÂºèÁõ¥Êé•ÈÖçÁΩÆÔºåÈ¶ñÂÖàÈúÄË¶ÅÂú®ÈÖçÁΩÆÁ±ªÔºàÊ≥®ÊÑèËøôÈáåÊòØÂú®MvcÁöÑÈÖçÁΩÆÁ±ª‰∏äÊ∑ªÂä†ÔºåÂõ†‰∏∫ËøôÈáåÂè™ÈíàÂØπControllerËøõË°åËøáÊª§ÔºåÊâÄÊúâÁöÑControllerÊòØÁî±MvcÈÖçÁΩÆÁ±ªËøõË°åÊ≥®ÂÜåÁöÑÔºåÂ¶ÇÊûúÈúÄË¶Å‰∏∫ServiceÊàñÂÖ∂‰ªñBean‰πüÂêØÁî®ÊùÉÈôêÂà§Êñ≠ÔºåÂàôÈúÄË¶ÅÂú®SecurityÁöÑÈÖçÁΩÆÁ±ª‰∏äÊ∑ªÂä†Ôºâ‰∏äÂºÄÂêØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="nd">@EnableMethodSecurity</span><span class="w">   </span><span class="c1">//ÂºÄÂêØÊñπÊ≥ïÂÆâÂÖ®Ê†°È™å</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨Â∞±ÂèØ‰ª•Âú®Êàë‰ª¨ÊÉ≥Ë¶ÅËøõË°åÊùÉÈôêÊ†°È™åÁöÑÊñπÊ≥ï‰∏äÊ∑ªÂä†Ê≥®Ëß£‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Controller</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HelloController</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasRole(&#39;user&#39;)&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">//Áõ¥Êé•‰ΩøÁî®hasRoleÊñπÊ≥ïÂà§Êñ≠ÊòØÂê¶ÂåÖÂê´Êüê‰∏™ËßíËâ≤</span>
<span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÄöËøáÊ∑ªÂä†<code>@PreAuthorize</code>Ê≥®Ëß£ÔºåÂú®ÊâßË°å‰πãÂâçÂà§Êñ≠Âà§Êñ≠ÊùÉÈôêÔºåÂ¶ÇÊûúÊ≤°ÊúâÂØπÂ∫îÁöÑÊùÉÈôêÊàñÊòØÂØπÂ∫îÁöÑËßíËâ≤ÔºåÂ∞ÜÊó†Ê≥ïËÆøÈóÆÈ°µÈù¢„ÄÇ</p>
<p>ËøôÈáåÂÖ∂ÂÆûÊòØ‰ΩøÁî®ÁöÑÂ∞±ÊòØÊàë‰ª¨‰πãÂâçËÆ≤Ëß£ÁöÑSpELË°®ËææÂºèÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®ËøôÈáå‰ΩøÁî®ÊùÉÈôêÂà§Êñ≠Áõ∏ÂÖ≥ÁöÑÊñπÊ≥ïÔºåÂ¶ÇÊûúÊúâÂøòËÆ∞SpELÂ¶Ç‰Ωï‰ΩøÁî®ÁöÑÂèØ‰ª•ÂõûÈ°æÊàë‰ª¨ÁöÑSpring6Ê†∏ÂøÉÁØá„ÄÇÊâÄÊúâÂèØ‰ª•ËøõË°åÊùÉÈôêÂà§Êñ≠ÁöÑÊñπÊ≥ïÂú®<code>SecurityExpressionRoot</code>Á±ª‰∏≠ÊúâÂÆö‰πâÔºåÂêÑ‰ΩçÂ∞è‰ºô‰º¥ÂèØ‰ª•Ëá™Ë°åÂâçÂæÄÊü•Áúã„ÄÇ</p>
<p>ÂêåÊ†∑ÁöÑËøòÊúâ<code>@PostAuthorize</code>Ê≥®Ëß£Ôºå‰ΩÜÊòØÂÆÉÊòØÂú®ÊñπÊ≥ïÊâßË°å‰πãÂêéÂÜçËøõË°åÊã¶Êà™Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PostAuthorize</span><span class="p">(</span><span class="s">&quot;hasRole(&#39;user&#39;)&quot;</span><span class="p">)</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊâßË°å‰∫Ü&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Èô§‰∫ÜController‰ª•Â§ñÔºåÂè™Ë¶ÅÊòØÁî±SpringÁÆ°ÁêÜÁöÑBeanÈÉΩÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£ÂΩ¢ÂºèÊù•ÊéßÂà∂ÊùÉÈôêÔºåÊàë‰ª¨ÂèØ‰ª•Âú®‰ªªÊÑèÊñπÊ≥ï‰∏äÊ∑ªÂä†Ëøô‰∏™Ê≥®Ëß£ÔºåÂè™Ë¶Å‰∏çÂÖ∑Â§áË°®ËææÂºè‰∏≠ÊåáÂÆöÁöÑËÆøÈóÆÊùÉÈôêÔºåÈÇ£‰πàÂ∞±Êó†Ê≥ïÊâßË°åÊñπÊ≥ïÂπ∂‰∏î‰ºöËøîÂõû403È°µÈù¢„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Service</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserService</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasAnyRole(&#39;user&#39;)&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàêÂäüÊâßË°å&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‰∏éÂÖ∑ÊúâÁõ∏ÂêåÂäüËÉΩÁöÑËøòÊúâ<code>@Secured</code>‰ΩÜÊòØÂÆÉ‰∏çÊîØÊåÅSpELË°®ËææÂºèÁöÑÊùÉÈôêË°®Á§∫ÂΩ¢ÂºèÔºåÂπ∂‰∏îÈúÄË¶ÅÊ∑ªÂä†"ROLE_"ÂâçÁºÄÔºåËøôÈáåÂ∞±‰∏çÂÅöÊºîÁ§∫‰∫Ü„ÄÇ</p>
<p>Êàë‰ª¨ËøòÂèØ‰ª•‰ΩøÁî®<code>@PreFilter</code>Âíå<code>@PostFilter</code>ÂØπÈõÜÂêàÁ±ªÂûãÁöÑÂèÇÊï∞ÊàñËøîÂõûÂÄºËøõË°åËøáÊª§„ÄÇ</p>
<p>ÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PreFilter</span><span class="p">(</span><span class="s">&quot;filterObject.equals(&#39;lbwnb&#39;)&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">//filterObject‰ª£Ë°®ÈõÜÂêà‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÔºåÂè™Ë¶ÅÊª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁ¥†Êâç‰ºöÁïô‰∏ã</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàêÂäüÊâßË°å&quot;</span><span class="o">+</span><span class="n">list</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(){</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;lbwnb&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;yyds&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">service</span><span class="p">.</span><span class="na">test</span><span class="p">(</span><span class="n">list</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>‰∏é<code>@PreFilter</code>Á±ª‰ººÁöÑ<code>@PostFilter</code>ËøôÈáåÂ∞±‰∏çÂÅöÊºîÁ§∫‰∫ÜÔºåÂÆÉÁî®‰∫éÂ§ÑÁêÜËøîÂõûÂÄºÔºå‰ΩøÁî®ÊñπÊ≥ïÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ</p>
<p>ÂΩìÊúâÂ§ö‰∏™ÈõÜÂêàÊó∂ÔºåÈúÄË¶Å‰ΩøÁî®<code>filterTarget</code>ËøõË°åÊåáÂÆöÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PreFilter</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;filterObject.equals(&#39;lbwnb&#39;)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">filterTarget</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;list2&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list2</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàêÂäüÊâßË°å&quot;</span><span class="o">+</span><span class="n">list</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Ëá≥Ê≠§ÔºåÊúâÂÖ≥SecurityÁöÑÂü∫Êú¨ÂäüËÉΩÔºåÊàë‰ª¨Â∞±ÂÖ®ÈÉ®‰ªãÁªçÂÆåÊØï‰∫ÜÔºåÂú®ÂêéÈù¢ÁöÑSpringBootÈò∂ÊÆµÔºåÊàë‰ª¨Ëøò‰ºöÁªßÁª≠Ê∑±ÂÖ•‰ΩøÁî®Ê≠§Ê°ÜÊû∂ÔºåÂÆûÁé∞Êõ¥Â§öÈ´òÁ∫ßÁöÑÂäüËÉΩ„ÄÇ</p>
<hr />
<h2 id="_15">ÂÜÖÈÉ®Êú∫Âà∂Êé¢Á©∂<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<p><strong>Ê≥®ÊÑèÔºö</strong>Êú¨Â∞èËäÇÂÜÖÂÆπ‰Ωú‰∏∫ÈÄâÂ≠¶ÂÜÖÂÆπÔºå‰ΩÜÊòØÈöæÂ∫¶ÊØîÂâç‰∏§Á´†ÁöÑÊ∫êÁ†ÅÈÉ®ÂàÜÁÆÄÂçïÂæóÂ§ö„ÄÇ</p>
<h3 id="_16">ÊéàÊùÉÊ†°È™åÊµÅÁ®ã<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>ÊúÄÂêéÊàë‰ª¨ÂÜçÊù•ËÅä‰∏Ä‰∏ãSpringSecurityÁöÑÂÆûÁé∞ÂéüÁêÜÔºåÂÆÉÊú¨Ë¥®‰∏äÊòØ‰æùÈù†N‰∏™FilterÂÆûÁé∞ÁöÑÔºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑËøáÊª§ÈìæÔºàÊ≥®ÊÑèËøôÈáåÊòØËøáÊª§Âô®Ôºå‰∏çÊòØÊã¶Êà™Âô®Ôºâ</p>
<p>Êàë‰ª¨Â∞±‰ªé<code>AbstractSecurityWebApplicationInitializer</code>ÂºÄÂßã‰∏ãÊâãÔºåÊàë‰ª¨Êù•ÁúãÁúãÂÆÉÈÖçÁΩÆ‰∫Ü‰ªÄ‰πàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="c1">//Ê≠§ÊñπÊ≥ï‰ºöÂú®ÂêØÂä®Êó∂Ë¢´Ë∞ÉÁî®</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onStartup</span><span class="p">(</span><span class="n">ServletContext</span><span class="w"> </span><span class="n">servletContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">beforeSpringSecurityFilterChain</span><span class="p">(</span><span class="n">servletContext</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">configurationClasses</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">AnnotationConfigWebApplicationContext</span><span class="w"> </span><span class="n">rootAppContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigWebApplicationContext</span><span class="p">();</span>
<span class="w">        </span><span class="n">rootAppContext</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">configurationClasses</span><span class="p">);</span>
<span class="w">        </span><span class="n">servletContext</span><span class="p">.</span><span class="na">addListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ContextLoaderListener</span><span class="p">(</span><span class="n">rootAppContext</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">enableHttpSessionEventPublisher</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">servletContext</span><span class="p">.</span><span class="na">addListener</span><span class="p">(</span><span class="s">&quot;org.springframework.security.web.session.HttpSessionEventPublisher&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">servletContext</span><span class="p">.</span><span class="na">setSessionTrackingModes</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getSessionTrackingModes</span><span class="p">());</span>
<span class="w">    </span><span class="c1">//ÈáçÁÇπÂú®ËøôÈáåÔºåËøôÈáåÊèíÂÖ•‰∫ÜÂÖ≥ÈîÆÁöÑFilterChain</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">insertSpringSecurityFilterChain</span><span class="p">(</span><span class="n">servletContext</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">afterSpringSecurityFilterChain</span><span class="p">(</span><span class="n">servletContext</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">insertSpringSecurityFilterChain</span><span class="p">(</span><span class="n">ServletContext</span><span class="w"> </span><span class="n">servletContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">filterName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;springSecurityFilterChain&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//ÂàõÂª∫‰∫Ü‰∏Ä‰∏™DelegatingFilterProxyÂØπË±°ÔºåÂÆÉÊú¨Ë¥®‰∏ä‰πüÊòØ‰∏Ä‰∏™FilterÔºå‰ΩÜÊòØÊòØÂ§ö‰∏™FilterÁöÑÈõÜÂêà</span>
<span class="w">    </span><span class="n">DelegatingFilterProxy</span><span class="w"> </span><span class="n">springSecurityFilterChain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DelegatingFilterProxy</span><span class="p">(</span><span class="n">filterName</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">contextAttribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getWebApplicationContextAttribute</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">contextAttribute</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">springSecurityFilterChain</span><span class="p">.</span><span class="na">setContextAttribute</span><span class="p">(</span><span class="n">contextAttribute</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">        </span><span class="c1">//ÈÄöËøáServletContextÊ≥®ÂÜåDelegatingFilterProxyËøô‰∏™Filter</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">registerFilter</span><span class="p">(</span><span class="n">servletContext</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="n">filterName</span><span class="p">,</span><span class="w"> </span><span class="n">springSecurityFilterChain</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Êé•ÁùÄÊù•ÁúãÁúãÔºå<code>DelegatingFilterProxy</code>Âú®ÂÅö‰ªÄ‰πàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="c1">//Ëøô‰∏™ÊòØÂàùÂßãÂåñÊñπÊ≥ïÔºåÂÆÉÁî±GenericFilterBeanÔºàÁà∂Á±ªÔºâÂÆö‰πâÔºåÂú®afterPropertiesSetÊñπÊ≥ï‰∏≠Ë¢´Ë∞ÉÁî®</span>
<span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initFilterBean</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">synchronized</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">delegateMonitor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">delegate</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">targetBeanName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">targetBeanName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getFilterName</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="n">WebApplicationContext</span><span class="w"> </span><span class="n">wac</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">findWebApplicationContext</span><span class="p">();</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">wac</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">//ËÄêÂøÉÁÇπÔºåÂ•óÂ®ÉÂæàÊ≠£Â∏∏</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">initDelegate</span><span class="p">(</span><span class="n">wac</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="n">Filter</span><span class="w"> </span><span class="nf">initDelegate</span><span class="p">(</span><span class="n">WebApplicationContext</span><span class="w"> </span><span class="n">wac</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">targetBeanName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getTargetBeanName</span><span class="p">();</span>
<span class="w">    </span><span class="n">Assert</span><span class="p">.</span><span class="na">state</span><span class="p">(</span><span class="n">targetBeanName</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;No target bean name set&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ËøôÈáåÈÄöËøáWebApplicationContextËé∑Âèñ‰∫Ü‰∏Ä‰∏™Bean</span>
<span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Filter</span><span class="p">)</span><span class="n">wac</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">targetBeanName</span><span class="p">,</span><span class="w"> </span><span class="n">Filter</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">isTargetFilterLifecycle</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">delegate</span><span class="p">.</span><span class="na">init</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getFilterConfig</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//ËøîÂõûFilter</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">delegate</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÈáåÊàë‰ª¨ÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∏™Êñ≠ÁÇπÊù•Êü•ÁúãÂà∞Â∫ïËé∑ÂèñÂà∞‰∫Ü‰ªÄ‰πàBean„ÄÇ</p>
<p>ÈÄöËøáÊñ≠ÁÇπË∞ÉËØïÔºåÊàë‰ª¨ÂèëÁé∞ËøôÈáåÊîæÂõûÁöÑÂØπË±°ÊòØ‰∏Ä‰∏™FilterChainProxyÁ±ªÂûãÁöÑÔºåÂπ∂‰∏îË∞ÉÁî®‰∫ÜÂÆÉÁöÑÂàùÂßãÂåñÊñπÊ≥ï„ÄÇ</p>
<p>Êàë‰ª¨ÂÄíÂõûÂéªÁúãÔºåÂΩìFilterËøîÂõû‰πãÂêéÔºå<code>DelegatingFilterProxy</code>ÁöÑ‰∏Ä‰∏™ÊàêÂëòÂèòÈáè<code>delegate</code>Ë¢´ËµãÂÄº‰∏∫ÂæóÂà∞ÁöÑFilterÔºå‰πüÂ∞±ÊòØFilterChainProxyÂØπË±°ÔºåÊé•ÁùÄÊàë‰ª¨Êù•ÁúãÁúãÔºå<code>DelegatingFilterProxy</code>ÊòØÂ¶Ç‰ΩïÊâßË°ådoFilterÊñπÊ≥ïÁöÑ„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">filterChain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">delegateToUse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">delegate</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">delegateToUse</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//ÈùûÊ≠£Â∏∏ÊÉÖÂÜµÔºåËøôÈáåÁúÅÁï•...</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">        </span><span class="c1">//ËøôÈáåÊâçÊòØÁúüÊ≠£ÁöÑË∞ÉÁî®ÔºåÂà´Âøò‰∫ÜdelegateToUseÂ∞±ÊòØÂàùÂßãÂåñÁöÑFilterChainProxyÂØπË±°</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">invokeDelegate</span><span class="p">(</span><span class="n">delegateToUse</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">filterChain</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">invokeDelegate</span><span class="p">(</span><span class="n">Filter</span><span class="w"> </span><span class="n">delegate</span><span class="p">,</span><span class="w"> </span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">filterChain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">//ÊúÄÂêéÂÆûÈôÖ‰∏äË∞ÉÁî®ÁöÑÊòØFilterChainProxyÁöÑdoFilterÊñπÊ≥ï</span>
<span class="w">    </span><span class="n">delegate</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">filterChain</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊâÄ‰ª•Êàë‰ª¨Êé•ÁùÄÊù•ÁúãÔºå<code>FilterChainProxy</code>ÁöÑdoFilterÊñπÊ≥ïÂèàÂú®Âπ≤‰ªÄ‰πàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">clearContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="n">FILTER_APPLIED</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">clearContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//ÁúüÊ≠£ÁöÑËøáÊª§Âú®ËøôÈáåÊâßË°å</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">doFilterInternal</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">chain</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/05/LVxihksHZu2qN6X.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230705005303736" src="https://s2.loli.net/2023/07/05/LVxihksHZu2qN6X.png" /></a></p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilterInternal</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">FirewalledRequest</span><span class="w"> </span><span class="n">firewallRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">firewall</span><span class="p">.</span><span class="na">getFirewalledRequest</span><span class="p">((</span><span class="n">HttpServletRequest</span><span class="p">)</span><span class="n">request</span><span class="p">);</span>
<span class="w">    </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">firewallResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">firewall</span><span class="p">.</span><span class="na">getFirewalledResponse</span><span class="p">((</span><span class="n">HttpServletResponse</span><span class="p">)</span><span class="n">response</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ËøôÈáåËé∑Âèñ‰∫Ü‰∏Ä‰∏™FilterÂàóË°®ÔºåÂÆûÈôÖ‰∏äSpringSecurityÂ∞±ÊòØÁî±N‰∏™ËøáÊª§Âô®ÂÆûÁé∞ÁöÑÔºåËøôÈáåËé∑ÂèñÁöÑÈÉΩÊòØSpringSecurityÊèê‰æõÁöÑËøáÊª§Âô®</span>
<span class="w">    </span><span class="c1">//‰ΩÜÊòØËØ∑Ê≥®ÊÑèÔºåÁªèËøáÊàë‰ª¨‰πãÂâçÁöÑÂàÜÊûêÔºåÂÆûÈôÖ‰∏äÁúüÊ≠£Ê≥®ÂÜåÁöÑFilterÂè™ÊúâDelegatingFilterProxy</span>
<span class="w">    </span><span class="c1">//ËÄåËøôÈáåÁöÑFilterÂàóË°®‰∏≠ÁöÑÊâÄÊúâFilterÂπ∂Ê≤°ÊúâË¢´Ê≥®ÂÜåÔºåËÄåÊòØÂú®ËøôÈáåËøõË°åÂÜÖÈÉ®Ë∞ÉÁî®</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Filter</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getFilters</span><span class="p">((</span><span class="n">HttpServletRequest</span><span class="p">)</span><span class="n">firewallRequest</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//Âè™Ë¶ÅFilterÂàóË°®‰∏çÊòØÁ©∫ÔºåÂ∞±‰æùÊ¨°ÊâßË°åÂÜÖÁΩÆÁöÑFilter</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">filters</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">filters</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">logger</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">.</span><span class="na">of</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Securing &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">requestLine</span><span class="p">(</span><span class="n">firewallRequest</span><span class="p">);</span>
<span class="w">            </span><span class="p">}));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">                </span><span class="c1">//ËøôÈáåÂàõÂª∫‰∏Ä‰∏™ËôöÊãüÁöÑËøáÊª§ÈìæÔºåËøáÊª§ÊµÅÁ®ãÊòØÁî±SpringSecurityËá™Â∑±ÂÆûÁé∞ÁöÑ</span>
<span class="w">        </span><span class="n">FilterChainProxy</span><span class="p">.</span><span class="na">VirtualFilterChain</span><span class="w"> </span><span class="n">virtualFilterChain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FilterChainProxy</span><span class="p">.</span><span class="na">VirtualFilterChain</span><span class="p">(</span><span class="n">firewallRequest</span><span class="p">,</span><span class="w"> </span><span class="n">chain</span><span class="p">,</span><span class="w"> </span><span class="n">filters</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//Ë∞ÉÁî®ËôöÊãüËøáÊª§ÈìæÁöÑdoFilter</span>
<span class="w">        </span><span class="n">virtualFilterChain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">firewallRequest</span><span class="p">,</span><span class="w"> </span><span class="n">firewallResponse</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">logger</span><span class="p">.</span><span class="na">isTraceEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">.</span><span class="na">of</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;No security for &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">requestLine</span><span class="p">(</span><span class="n">firewallRequest</span><span class="p">);</span>
<span class="w">            </span><span class="p">}));</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">firewallRequest</span><span class="p">.</span><span class="na">reset</span><span class="p">();</span>
<span class="w">        </span><span class="n">chain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">firewallRequest</span><span class="p">,</span><span class="w"> </span><span class="n">firewallResponse</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ãËôöÊãüËøáÊª§ÈìæÁöÑdoFilterÊòØÊÄé‰πàÂ§ÑÁêÜÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="c1">//Áúã‰ººÊ≤°Êúâ‰ªª‰ΩïÂæ™ÁéØÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™Âæ™ÁéØÔºåÊòØ‰∏Ä‰∏™ÈÄíÂΩíË∞ÉÁî®</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Âà§Êñ≠ÊòØÂê¶Â∑≤ÁªèÈÄöËøáÂÖ®ÈÉ®ÁöÑÂÜÖÁΩÆËøáÊª§Âô®ÔºåÂÆö‰ΩçÊòØÂê¶Á≠â‰∫éÂΩìÂâçÂ§ßÂ∞è</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">currentPosition</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">FilterChainProxy</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">FilterChainProxy</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">.</span><span class="na">of</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Secured &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">FilterChainProxy</span><span class="p">.</span><span class="na">requestLine</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">firewalledRequest</span><span class="p">);</span>
<span class="w">            </span><span class="p">}));</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">firewalledRequest</span><span class="p">.</span><span class="na">reset</span><span class="p">();</span>
<span class="w">        </span><span class="c1">//ÊâÄÊúâÁöÑÂÜÖÁΩÆËøáÊª§Âô®Â∑≤ÁªèÂÆåÊàêÔºåÊåâÁÖßÊ≠£Â∏∏ÊµÅÁ®ãËµ∞DelegatingFilterProxyÁöÑ‰∏ã‰∏Ä‰∏™Filter</span>
<span class="w">        </span><span class="c1">//‰πüÂ∞±ÊòØËØ¥ËøôÈáå‰πãÂêéÂ∞±‰∏éDelegatingFilterProxyÊ≤°Êúâ‰ªª‰ΩïÂÖ≥Á≥ª‰∫ÜÔºåËØ•Ëµ∞ÂÖ∂‰ªñËøáÊª§Âô®Â∞±Ëµ∞ÂÖ∂‰ªñÂú∞ÊñπÈÖçÁΩÆÁöÑËøáÊª§Âô®ÔºåSpringSecurityÁöÑËøáÊª§Êìç‰ΩúÂ∑≤ÁªèÁªìÊùü</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">originalChain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//ÂÆö‰ΩçËá™Â¢û</span>
<span class="w">        </span><span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="na">currentPosition</span><span class="p">;</span>
<span class="w">        </span><span class="c1">//Ëé∑ÂèñÂΩìÂâçÂÆö‰ΩçÁöÑFilter</span>
<span class="w">        </span><span class="n">Filter</span><span class="w"> </span><span class="n">nextFilter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Filter</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="na">additionalFilters</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">currentPosition</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">FilterChainProxy</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">isTraceEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">FilterChainProxy</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;Invoking %s (%d/%d)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nextFilter</span><span class="p">.</span><span class="na">getClass</span><span class="p">().</span><span class="na">getSimpleName</span><span class="p">(),</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">currentPosition</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">size</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">                </span><span class="c1">//ÊâßË°åÂÜÖÈÉ®ËøáÊª§Âô®ÁöÑdoFilterÊñπÊ≥ïÔºå‰º†ÂÖ•ÂΩìÂâçÂØπË±°Êú¨Ë∫´‰Ωú‰∏∫FilterÔºåÊâßË°åÂ¶ÇÊûúÊàêÂäüÔºåÈÇ£‰πà‰∏ÄÂÆö‰ºöÂÜçÊ¨°Ë∞ÉÁî®ÂΩìÂâçÂØπË±°ÁöÑdoFilterÊñπÊ≥ï</span>
<span class="w">        </span><span class="c1">//ÂèØËÉΩÊúÄ‰∏çÁêÜËß£ÁöÑÂ∞±ÊòØËøôÈáåÔºåÊâßË°åÁöÑÈöæÈÅì‰∏çÊòØÂÜÖÈÉ®ÂÖ∂‰ªñFilterÁöÑdoFilterÊñπÊ≥ïÂêóÔºåÊÄé‰πà‰ºöËÆ©ÂΩìÂâçÂØπË±°ÁöÑdoFilterÊñπÊ≥ïÈÄíÂΩíË∞ÉÁî®Âë¢Ôºü</span>
<span class="w">        </span><span class="c1">//Ê≤°ÂÖ≥Á≥ªÔºå‰∏ãÈù¢Êàë‰ª¨Êé•ÁùÄ‰∫ÜËß£‰∫ÜÂÖ∂‰∏≠‰∏Ä‰∏™ÂÜÖÈÉ®ËøáÊª§Âô®Â∞±ÊòéÁôΩ‰∫Ü</span>
<span class="w">        </span><span class="n">nextFilter</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Âõ†Ê≠§ÔºåÊàë‰ª¨Â∑Æ‰∏çÂ§öÂ∑≤Áªè‰∫ÜËß£‰∫ÜÊï¥‰∏™SpringSecurityÁöÑÂÆûÁé∞Êú∫Âà∂‰∫ÜÔºåÈÇ£‰πàÊàë‰ª¨Êù•Èöè‰æøÁúã‰∏Ä‰∏™ÂÜÖÈÉ®ÁöÑËøáÊª§Âô®Âú®ÂÅö‰ªÄ‰πà„ÄÇ</p>
<p>ÊØîÂ¶ÇÁî®‰∫éÂ§ÑÁêÜÁôªÈôÜÁöÑËøáÊª§Âô®<code>UsernamePasswordAuthenticationFilter</code>ÔºåÂÆÉÁªßÊâøËá™<code>AbstractAuthenticationProcessingFilter</code>ÔºåÊàë‰ª¨Êù•ÁúãÁúãÂÆÉÊòØÊÄé‰πàËøõË°åËøáÊª§ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">doFilter</span><span class="p">((</span><span class="n">HttpServletRequest</span><span class="p">)</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">HttpServletResponse</span><span class="p">)</span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">chain</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Â¶ÇÊûú‰∏çÊòØÁôªÈôÜËØ∑Ê±ÇÔºåÈÇ£‰πàÊ†πÊú¨‰∏ç‰ºöÁêÜËøô‰∏™ËØ∑Ê±Ç</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="na">requiresAuthentication</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Áõ¥Êé•Ë∞ÉÁî®‰º†ÂÖ•ÁöÑFilterChainÁöÑdoFilterÊñπÊ≥ï</span>
<span class="w">        </span><span class="c1">//ËÄåËøôÈáå‰º†ÂÖ•ÁöÑÊ≠£Â•ΩÊòØVirtualFilterChainÂØπË±°</span>
<span class="w">        </span><span class="c1">//Ëøô‰∏ãÁü•ÈÅì‰∏∫‰ªÄ‰πà‰∏äÈù¢ËØ¥ÊòØÈÄíÂΩí‰∫ÜÂêß</span>
<span class="w">        </span><span class="n">chain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Â¶ÇÊûúÊòØÁôªÈôÜËØ∑Ê±ÇÔºåÈÇ£‰πà‰ºöÊâßË°åÁôªÈôÜËØ∑Ê±ÇÁöÑÁõ∏ÂÖ≥ÈÄªËæëÔºåÊ≥®ÊÑèÊâßË°åËøáÁ®ã‰∏≠Âá∫Áé∞‰ªª‰ΩïÈóÆÈ¢òÈÉΩ‰ºöÊäõÂá∫ÂºÇÂ∏∏</span>
<span class="w">        </span><span class="c1">//ÊØîÂ¶ÇÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÈîôËØØÔºåÊàë‰ª¨‰πãÂâç‰πüÂ∑≤ÁªèÊµãËØïËøá‰∫ÜÔºå‰ºöÂæóÂà∞‰∏Ä‰∏™BadCredentialsException</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">//ËøõË°åËÆ§ËØÅ</span>
<span class="w">            </span><span class="n">Authentication</span><span class="w"> </span><span class="n">authenticationResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">attemptAuthentication</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">authenticationResult</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">sessionStrategy</span><span class="p">.</span><span class="na">onAuthentication</span><span class="p">(</span><span class="n">authenticationResult</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">continueChainBeforeSuccessfulAuthentication</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">chain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">//Â¶ÇÊûú‰∏ÄË∑ØÁªøÁÅØÔºåÊ≤°ÊúâÊä•ÈîôÔºåÈÇ£‰πàÈ™åËØÅÊàêÂäüÔºåÊâßË°åsuccessfulAuthentication</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">successfulAuthentication</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">chain</span><span class="p">,</span><span class="w"> </span><span class="n">authenticationResult</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InternalAuthenticationServiceException</span><span class="w"> </span><span class="n">var5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;An internal error occurred while trying to authenticate the user.&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">var5</span><span class="p">);</span>
<span class="w">            </span><span class="c1">//È™åËØÅÂ§±Ë¥•Ôºå‰ºöÊâßË°åunsuccessfulAuthentication</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">unsuccessfulAuthentication</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">var5</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">AuthenticationException</span><span class="w"> </span><span class="n">var6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">unsuccessfulAuthentication</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">var6</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÇ£‰πàÊàë‰ª¨Êù•ÁúãÁúãsuccessfulAuthenticationÂíåunsuccessfulAuthenticationÂàÜÂà´ÂÅö‰∫Ü‰ªÄ‰πàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">successfulAuthentication</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">,</span><span class="w"> </span><span class="n">Authentication</span><span class="w"> </span><span class="n">authResult</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ÂêëSecurityContextHolderÊ∑ªÂä†ËÆ§ËØÅ‰ø°ÊÅØÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáSecurityContextHolderÂØπË±°Ëé∑ÂèñÂΩìÂâçÁôªÈôÜÁöÑÁî®Êà∑</span>
<span class="w">    </span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">getContext</span><span class="p">().</span><span class="na">setAuthentication</span><span class="p">(</span><span class="n">authResult</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;Set SecurityContextHolder to %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">authResult</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//ËÆ∞‰ΩèÊàëÂÆûÁé∞</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">rememberMeServices</span><span class="p">.</span><span class="na">loginSuccess</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">authResult</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">eventPublisher</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">eventPublisher</span><span class="p">.</span><span class="na">publishEvent</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">InteractiveAuthenticationSuccessEvent</span><span class="p">(</span><span class="n">authResult</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getClass</span><span class="p">()));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//Ë∞ÉÁî®ÈªòËÆ§ÁöÑÊàñÊòØÊàë‰ª¨Ëá™Â∑±ÂÆö‰πâÁöÑAuthenticationSuccessHandlerÁöÑonAuthenticationSuccessÊñπÊ≥ï</span>
<span class="w">    </span><span class="c1">//Ëøô‰∏™Ê†πÊçÆÊàë‰ª¨ÈÖçÁΩÆÊñá‰ª∂ÂÜ≥ÂÆö</span>
<span class="w">    </span><span class="c1">//Âà∞ËøôÈáåÂÖ∂ÂÆûÈ°µÈù¢Â∞±Â∑≤ÁªèÁõ¥Êé•Ë∑≥ËΩ¨‰∫Ü</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">successHandler</span><span class="p">.</span><span class="na">onAuthenticationSuccess</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">authResult</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">unsuccessfulAuthentication</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">AuthenticationException</span><span class="w"> </span><span class="n">failed</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ÁôªÈôÜÂ§±Ë¥•‰ºöÁõ¥Êé•Ê∏ÖÁêÜÊéâSecurityContextHolder‰∏≠ÁöÑËÆ§ËØÅ‰ø°ÊÅØ</span>
<span class="w">    </span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">clearContext</span><span class="p">();</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="s">&quot;Failed to process authentication request&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">failed</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="s">&quot;Cleared SecurityContextHolder&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="s">&quot;Handling authentication failure&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÁôªÈôÜÂ§±Ë¥•ÁöÑËÆ∞‰ΩèÊàëÂ§ÑÁêÜ</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">rememberMeServices</span><span class="p">.</span><span class="na">loginFail</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//Âêå‰∏äÔºåË∞ÉÁî®ÈªòËÆ§ÊàñÊòØÊàë‰ª¨Ëá™Â∑±ÂÆö‰πâÁöÑAuthenticationFailureHandler</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">failureHandler</span><span class="p">.</span><span class="na">onAuthenticationFailure</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">failed</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>‰∫ÜËß£‰∫ÜÊï¥‰∏™Áî®Êà∑È™åËØÅÂÆûÁé∞ÊµÅÁ®ãÔºåÂÖ∂ÂÆûÂÖ∂ÂÆÉÁöÑËøáÊª§Âô®ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ‰πüÂ∞±ÂæàÂÆπÊòìËÅîÊÉ≥Âà∞‰∫ÜÔºåSpringSecurityÁöÑËøáÊª§Âô®‰ªéÊüêÁßçÊÑè‰πâ‰∏äÊù•ËØ¥ÔºåÊõ¥ÂÉèÊòØ‰∏Ä‰∏™Â§ÑÁêÜ‰∏öÂä°ÁöÑServletÔºåÂÆÉÂÅöÁöÑ‰∫ãÊÉÖ‰∏çÂÉèÊòØÊã¶Êà™ÔºåÊõ¥ÂÉèÊòØÂÆåÊàêËá™Â∑±ÂØπÂ∫îÁöÑËÅåË¥£ÔºåÂè™‰∏çËøáÊòØ‰ΩøÁî®‰∫ÜËøáÊª§Âô®Êú∫Âà∂ËøõË°åÂÆûÁé∞ÁΩ¢‰∫ÜÔºå‰ªéËÄåÂ∞ÜÊâÄÊúâÁöÑÈ™åËØÅÊèêÂâçÂà∞ËøõÂÖ•Controller‰πãÂâç„ÄÇ</p>
<p>ÊúÄÂêéÈôÑ‰∏äÂÆåÊï¥ÁöÑËøáÊª§Âô®Ê∏ÖÂçïÔºåËøôÈáåÂàóÂá∫14‰∏™Â∏∏ËßÅÁöÑÂÜÖÈÉ®ËøáÊª§Âô®Ôºö</p>
<table>
<thead>
<tr>
<th>ËøáÊª§Âô®ÂêçÁß∞</th>
<th>ËÅåË¥£</th>
</tr>
</thead>
<tbody>
<tr>
<td>DisableEncodeUrlFilter</td>
<td>Á¶ÅÊ≠¢ HttpServletResponse ÂØπ URL ËøõË°åÁºñÁ†ÅÔºå‰ª•Èò≤Ê≠¢Âú® URL ‰∏≠ÂåÖÂê´ Session IDÔºåÊ≠§Á±ª URL ‰∏çË¢´ËßÜ‰∏∫ URLÔºåÂõ†‰∏∫‰ºöËØù ID ÂèØËÉΩ‰ºöÂú® HTTP ËÆøÈóÆÊó•ÂøóÁ≠âÂÜÖÂÆπ‰∏≠Ê≥ÑÈú≤„ÄÇ</td>
</tr>
<tr>
<td>WebAsyncManagerIntegrationFilter</td>
<td>ÂÆûÁé∞‰∫ÜÂØπSecurityContext‰∏éWebAsyncManagerÁöÑÈõÜÊàêÔºå‰Ωø Controller ‰∏≠ËÉΩÂ§üÁ∫øÁ®ãÂÆâÂÖ®Âú∞Ëé∑ÂèñÂà∞Áî®Êà∑‰∏ä‰∏ãÊñáËÆ§ËØÅ‰ø°ÊÅØ„ÄÇ</td>
</tr>
<tr>
<td>SecurityContextHolderFilter</td>
<td>ÈÄöËøáHttpSessionSecurityContextRepositoryÊé•Âè£‰ªéSession‰∏≠ËØªÂèñSecurityContextÊàñÊòØÁõ¥Êé•ÂàõÂª∫Êñ∞ÁöÑÔºåÁÑ∂ÂêéÂ≠òÂÖ•Âà∞SecurityContextHolder‰∏≠ÔºåÊúÄÂêéËØ∑Ê±ÇÁªìÊùüÊó∂‰ºöËøõË°åÊ∏ÖÁêÜ„ÄÇ</td>
</tr>
<tr>
<td>HeaderWriterFilter</td>
<td>ÁªôHTTPÂìçÂ∫îÊ∑ªÂä†‰∏Ä‰∫õHeaderÂ±ûÊÄßÔºåÂ¶ÇÔºöX-Frame-Options„ÄÅX-XSS-Protection„ÄÅX-Content-Type-OptionsÁ≠â„ÄÇ</td>
</tr>
<tr>
<td>CsrfFilter</td>
<td>ÈíàÂØπCsrfÁõ∏ÂÖ≥Ê†°È™å„ÄÇ</td>
</tr>
<tr>
<td>LogoutFilter</td>
<td>ÂØπÈÄÄÂá∫ÁôªÂΩïÁöÑËØ∑Ê±ÇËøõË°åÂ§ÑÁêÜÔºåÊâßË°åÁôªÂá∫Êìç‰Ωú„ÄÇ</td>
</tr>
<tr>
<td>UsernamePasswordAuthenticationFilter</td>
<td>ÂØπÁôªÂΩïÁöÑËØ∑Ê±ÇËøõË°åÂ§ÑÁêÜÔºåÊâßË°åÁôªÂΩïÊìç‰Ωú„ÄÇ</td>
</tr>
<tr>
<td>ConcurrentSessionFilter</td>
<td>Ê£ÄÊü•SessionRegistry‰øùÂ≠òÁöÑSession‰ø°ÊÅØÊòØÂê¶ËøáÊúü„ÄÇ</td>
</tr>
<tr>
<td>RequestCacheAwareFilter</td>
<td>ÁºìÂ≠òRequestËØ∑Ê±ÇÔºåÂèØ‰ª•Áî®‰∫éÊÅ¢Â§çÂõ†ÁôªÂΩïËÄåÊâìÊñ≠ÁöÑËØ∑Ê±Ç„ÄÇ</td>
</tr>
<tr>
<td>SecurityContextHolderAwareRequestFilter</td>
<td>ÂØπServletRequestËøõË°åËøõ‰∏ÄÊ≠•ÂåÖË£ÖÔºåËÆ©RequestÂÖ∑ÊúâÊõ¥Âä†‰∏∞ÂØåÁöÑÂÜÖÂÆπ„ÄÇ</td>
</tr>
<tr>
<td>RememberMeAuthenticationFilter</td>
<td>ÈíàÂØπ‰∫éËÆ∞‰ΩèÊàëCookieËøõË°åÊ†°È™å„ÄÇ</td>
</tr>
<tr>
<td>AnonymousAuthenticationFilter</td>
<td>Êú™È™åËØÅÊàêÂäüÁöÑÊÉÖÂÜµ‰∏ãËøõË°åÂåøÂêçÁôªÂΩïÊìç‰Ωú„ÄÇ</td>
</tr>
<tr>
<td>SessionManagementFilter</td>
<td>SessionÁÆ°ÁêÜÁõ∏ÂÖ≥„ÄÇ</td>
</tr>
<tr>
<td>ExceptionTranslationFilter</td>
<td>ÂºÇÂ∏∏ËΩ¨Êç¢Â§ÑÁêÜÔºåÊØîÂ¶ÇÊúÄÂ∏∏ËßÅÁöÑAccessDenied‰πãÁ±ªÁöÑ„ÄÇ</td>
</tr>
</tbody>
</table>
<p>ÂêÑ‰ΩçÂ∞è‰ºô‰º¥ÊÑüÂÖ¥Ë∂£ÁöÑËØùÂèØ‰ª•Ëá™Ë°å‰∫ÜËß£„ÄÇ</p>
<h3 id="_17">ÂÆâÂÖ®‰∏ä‰∏ãÊñá<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>Áî®Êà∑ÁôªÂΩï‰πãÂêéÔºåÊÄé‰πàËé∑ÂèñÂΩìÂâçÂ∑≤ÁªèÁôªÂΩïÁî®Êà∑ÁöÑ‰ø°ÊÅØÂë¢ÔºüÈÄöËøá‰ΩøÁî®SecurityContextHolderÂ∞±ÂèØ‰ª•ÂæàÊñπ‰æøÂú∞ÂæóÂà∞SecurityContextÂØπË±°‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®SecurityContextÂØπË±°Êù•Ëé∑ÂèñÂΩìÂâçÁöÑËÆ§ËØÅ‰ø°ÊÅØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/index&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(){</span>
<span class="w">        </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">getContext</span><span class="p">();</span>
<span class="w">        </span><span class="n">Authentication</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getAuthentication</span><span class="p">();</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="w"> </span><span class="n">authentication</span><span class="p">.</span><span class="na">getPrincipal</span><span class="p">();</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getAuthorities</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>ÈÄöËøáSecurityContextÊàë‰ª¨Â∞±ÂèØ‰ª•Âø´ÈÄüËé∑ÂèñÂΩìÂâçÁî®Êà∑ÁöÑÂêçÁß∞ÂíåÊéàÊùÉ‰ø°ÊÅØÁ≠âÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/06/uPjdsgbhv9NqA8B.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230706215806040" src="https://s2.loli.net/2023/07/06/uPjdsgbhv9NqA8B.png" /></a></p>
<p>Èô§‰∫ÜËøôÁßçÊñπÂºè‰ª•Â§ñÔºåÊàë‰ª¨ËøòÂèØ‰ª•Áõ¥Êé•‰ªéSession‰∏≠Ëé∑ÂèñÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/index&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(</span><span class="nd">@SessionAttribute</span><span class="p">(</span><span class="s">&quot;SPRING_SECURITY_CONTEXT&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">context</span><span class="p">){</span>
<span class="w">    </span><span class="n">Authentication</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getAuthentication</span><span class="p">();</span>
<span class="w">    </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="w"> </span><span class="n">authentication</span><span class="p">.</span><span class="na">getPrincipal</span><span class="p">();</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getAuthorities</span><span class="p">());</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≥®ÊÑèSecurityContextHolderÊòØÊúâ‰∏ÄÂÆöÁöÑÂ≠òÂÇ®Á≠ñÁï•ÁöÑÔºåSecurityContextHolder‰∏≠ÁöÑSecurityContextÂØπË±°‰ºöÂú®‰∏ÄÂºÄÂßãËØ∑Ê±ÇÂà∞Êù•Êó∂Ë¢´ËÆæÂÆöÔºåËá≥‰∫éÂ≠òÂÇ®ÊñπÂºèÂÖ∂ÂÆûÊòØÁî±Â≠òÂÇ®Á≠ñÁï•ÂÜ≥ÂÆöÁöÑÔºåÂ¶ÇÊûúÊàë‰ª¨ËøôÊ†∑ÁºñÂÜôÔºåÈÇ£‰πàÂú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØÊó†Ê≥ïËé∑ÂèñÂà∞ËÆ§ËØÅ‰ø°ÊÅØÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/index&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">index</span><span class="p">(){</span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//ÂàõÂª∫‰∏Ä‰∏™Â≠êÁ∫øÁ®ãÂéªËé∑Âèñ</span>
<span class="w">        </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">getContext</span><span class="p">();</span>
<span class="w">        </span><span class="n">Authentication</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getAuthentication</span><span class="p">();</span>
<span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="w"> </span><span class="n">authentication</span><span class="p">.</span><span class="na">getPrincipal</span><span class="p">();</span><span class="w">   </span><span class="c1">//NPE</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="na">getAuthorities</span><span class="p">());</span><span class="w"> </span>
<span class="w">    </span><span class="p">}).</span><span class="na">start</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;index&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊòØÂõ†‰∏∫SecurityContextHolderÁöÑÂ≠òÂÇ®Á≠ñÁï•ÈªòËÆ§ÊòØ<code>MODE_THREADLOCAL</code>ÔºåÂÆÉÊòØÂü∫‰∫éThreadLocalÂÆûÁé∞ÁöÑÔºå<code>getContext()</code>ÊñπÊ≥ïÊú¨Ë¥®‰∏äË∞ÉÁî®ÁöÑÊòØÂØπÂ∫îÁöÑÂ≠òÂÇ®Á≠ñÁï•ÂÆûÁé∞ÁöÑÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="nf">getContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">strategy</span><span class="p">.</span><span class="na">getContext</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>SecurityContextHolderStrategyÊúâ‰∏â‰∏™ÂÆûÁé∞Á±ªÔºö</p>
<ul>
<li>GlobalSecurityContextHolderStrategyÔºöÂÖ®Â±ÄÊ®°ÂºèÔºå‰∏çÂ∏∏Áî®</li>
<li>ThreadLocalSecurityContextHolderStrategyÔºöÂü∫‰∫éThreadLocalÂÆûÁé∞ÔºåÁ∫øÁ®ãÂÜÖÂèØËßÅ</li>
<li>InheritableThreadLocalSecurityContextHolderStrategyÔºöÂü∫‰∫éInheritableThreadLocalÂÆûÁé∞ÔºåÁ∫øÁ®ãÂíåÂ≠êÁ∫øÁ®ãÂèØËßÅ</li>
</ul>
<p>Âõ†Ê≠§ÔºåÂ¶ÇÊûú‰∏äËø∞ÊÉÖÂÜµÈúÄË¶ÅÂú®Â≠êÁ∫øÁ®ã‰∏≠Ëé∑ÂèñÔºåÈÇ£‰πàÈúÄË¶Å‰øÆÊîπSecurityContextHolderÁöÑÂ≠òÂÇ®Á≠ñÁï•ÔºåÂú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôËÆæÁΩÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PostConstruct</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(){</span>
<span class="w">    </span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">setStrategyName</span><span class="p">(</span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">MODE_INHERITABLETHREADLOCAL</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑Âú®Â≠êÁ∫øÁ®ã‰∏≠‰πüÂèØ‰ª•Ëé∑ÂèñËÆ§ËØÅ‰ø°ÊÅØ‰∫Ü„ÄÇ</p>
<p>Âõ†‰∏∫Áî®Êà∑ÁöÑÈ™åËØÅ‰ø°ÊÅØÊòØÂü∫‰∫éSecurityContextËøõË°åÂà§Êñ≠ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰øÆÊîπSecurityContextÁöÑÂÜÖÂÆπÔºåÊù•ÊâãÂä®‰∏∫Áî®Êà∑ËøõË°åÁôªÈôÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/auth&quot;</span><span class="p">)</span>
<span class="nd">@ResponseBody</span>
<span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">auth</span><span class="p">(){</span>
<span class="w">    </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">getContext</span><span class="p">();</span><span class="w">  </span><span class="c1">//Ëé∑ÂèñSecurityContextÂØπË±°ÔºàÂΩìÂâç‰ºöËØùËÇØÂÆöÊòØÊ≤°ÊúâÁôªÈôÜÁöÑÔºâ</span>
<span class="w">    </span><span class="n">UsernamePasswordAuthenticationToken</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">UsernamePasswordAuthenticationToken</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">AuthorityUtils</span><span class="p">.</span><span class="na">commaSeparatedStringToAuthorityList</span><span class="p">(</span><span class="s">&quot;ROLE_user&quot;</span><span class="p">));</span><span class="w">  </span><span class="c1">//ÊâãÂä®ÂàõÂª∫‰∏Ä‰∏™UsernamePasswordAuthenticationTokenÂØπË±°Ôºå‰πüÂ∞±ÊòØÁî®Êà∑ÁöÑËÆ§ËØÅ‰ø°ÊÅØÔºåËßíËâ≤ÈúÄË¶ÅÊ∑ªÂä†ROLE_ÂâçÁºÄÔºåÊùÉÈôêÁõ¥Êé•ÂÜô</span>
<span class="w">    </span><span class="n">context</span><span class="p">.</span><span class="na">setAuthentication</span><span class="p">(</span><span class="n">token</span><span class="p">);</span><span class="w">  </span><span class="c1">//ÊâãÂä®‰∏∫SecurityContextËÆæÂÆöËÆ§ËØÅ‰ø°ÊÅØ</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Login successÔºÅ&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Âú®Êú™ÁôªÈôÜÁöÑÊÉÖÂÜµ‰∏ãÔºåËÆøÈóÆÊ≠§Âú∞ÂùÄÂ∞ÜÁõ¥Êé•ËøõË°åÊâãÂä®ÁôªÈôÜÔºåÂÜçÊ¨°ËÆøÈóÆ<code>/index</code>È°µÈù¢ÔºåÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÔºåËØ¥ÊòéÊâãÂä®ËÆæÁΩÆËÆ§ËØÅ‰ø°ÊÅØÊàêÂäü„ÄÇ</p>
<p><strong>ÁñëÊÉëÔºö</strong>SecurityContextËøôÁé©ÊÑè‰∏çÊòØÈªòËÆ§Á∫øÁ®ãÁã¨Âç†ÂêóÔºåÈÇ£ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÔºåÊåâÁêÜËØ¥‰∏ä‰∏ÄÊ¨°ÁöÑSecurityContextÂØπË±°Â∫îËØ•Ê≤°‰∫ÜÊâçÂØπÂïäÔºå‰∏∫‰ªÄ‰πàÂÜçÊ¨°ËØ∑Ê±Ç‰æùÁÑ∂ËÉΩÂ§üÁªßÁª≠‰ΩøÁî®‰∏ä‰∏ÄÊ¨°SecurityContext‰∏≠ÁöÑËÆ§ËØÅ‰ø°ÊÅØÂë¢Ôºü</p>
<p>SecurityContextÁöÑÁîüÂëΩÂë®ÊúüÔºöËØ∑Ê±ÇÂà∞Êù•Êó∂‰ªéSession‰∏≠ÂèñÂá∫ÔºåÊîæÂÖ•SecurityContextHolder‰∏≠ÔºåËØ∑Ê±ÇÁªìÊùüÊó∂‰ªéSecurityContextHolderÂèñÂá∫ÔºåÂπ∂ÊîæÂà∞Session‰∏≠ÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰æùÈù†SessionÊù•Â≠òÂÇ®ÁöÑÔºå‰∏ÄÊó¶‰ºöËØùËøáÊúüÈ™åËØÅ‰ø°ÊÅØ‰πüË∑üÁùÄÊ∂àÂ§±„ÄÇ</p>
<p>‰∏ã‰∏ÄËäÇÊàë‰ª¨Â∞ÜËØ¶ÁªÜËÆ®ËÆ∫ÂÆÉÁöÑÂÆûÁé∞ËøáÁ®ã„ÄÇ</p>
<h3 id="_18">ÂÆâÂÖ®‰∏ä‰∏ãÊñáÊåÅ‰πÖÂåñËøáÊª§Âô®<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>SecurityContextHolderFilter‰πüÊòØÂÜÖÁΩÆÁöÑFilterÔºåÂÆÉÂ∞±ÊòØ‰∏ìÈó®Áî®‰∫éÂ§ÑÁêÜSecurityContextÁöÑÔºåËøôÈáåÂÖàËØ¥‰∏Ä‰∏ãÂ§ßËá¥ÊµÅÁ®ãÔºå‰ª•‰æøÊàë‰ª¨ÂêéÁª≠Êõ¥Âä†Êñπ‰æøÂú∞ÁêÜËß£Ôºö</p>
<blockquote>
<p>ÂΩìËøáÊª§Âô®ÈìæÊâßË°åÂà∞SecurityContextHolderFilterÊó∂ÔºåÂÆÉ‰ºö‰ªéHttpSession‰∏≠ÊääSecurityContextÂØπË±°ÂèñÂá∫Êù•ÔºàÊòØÂ≠òÂú®Session‰∏≠ÁöÑÔºåË∑üÈöè‰ºöËØùÁöÑÊ∂àÂ§±ËÄåÊ∂àÂ§±ÔºâÔºåÁÑ∂ÂêéÊîæÂÖ•SecurityContextHolderÂØπË±°‰∏≠„ÄÇËØ∑Ê±ÇÁªìÊùüÂêéÔºåÂÜçÊääSecurityContextÂ≠òÂÖ•HttpSession‰∏≠ÔºåÂπ∂Ê∏ÖÈô§SecurityContextHolderÂÜÖÁöÑSecurityContextÂØπË±°„ÄÇ</p>
</blockquote>
<p>Êàë‰ª¨ËøòÊòØÁõ¥Êé•ËøõÂÖ•Âà∞Ê∫êÁ†Å‰∏≠Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">ServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">ServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="p">,</span><span class="w"> </span><span class="n">ServletException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ÂºÄÂßãÂ•óÂ®É</span>
<span class="w">        </span><span class="n">doFilter</span><span class="p">((</span><span class="n">HttpServletRequest</span><span class="p">)</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">HttpServletResponse</span><span class="p">)</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">chain</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Èò≤Ê≠¢ÈáçÂ§çÁöÑÂÆâÂÖ®ËØ∑Ê±ÇÔºå‰∏çÈúÄË¶ÅÂÖ≥ÂøÉÔºå‰∏ÄËà¨ÊòØÁõ¥Êé•Ëµ∞‰∏ãÈù¢</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="n">FILTER_APPLIED</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">chain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">request</span><span class="p">.</span><span class="na">setAttribute</span><span class="p">(</span><span class="n">FILTER_APPLIED</span><span class="p">,</span><span class="w"> </span><span class="n">Boolean</span><span class="p">.</span><span class="na">TRUE</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ËøôÈáåÈÄöËøáSecurityContextRepositoryÁöÑloadDeferredContextËé∑ÂèñÂà∞SecurityContextÂØπË±°ÁöÑSupplier</span>
<span class="w">        </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deferredContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">securityContextRepository</span><span class="p">.</span><span class="na">loadDeferredContext</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Êé•ÁùÄÊù•Áúã<code>loadDeferredContext</code>ÁöÑÂÆûÁé∞ÁªÜËäÇÔºåÂÖ∂‰∏≠SecurityContextRepositoryÁöÑÂÆûÁé∞Á±ªÊòØDelegatingSecurityContextRepositoryÁ±ªÔºåËøô‰∏™Á±ª‰∏≠Áª¥Êä§‰∫ÜÂ§ö‰∏™SecurityContextRepositoryÂÆûÁé∞Á±ªÔºåËÄåÂÖ∂Êú¨Ë∫´Âπ∂Ê≤°ÊúâÂÆûÁé∞<code>loadDeferredContext</code>ÊñπÊ≥ïÔºåËÄåÊòØÈù†ÂÜÖÈÉ®Áª¥Êä§ÁöÑÂÖ∂‰ªñSecurityContextRepositoryÂÆûÁé∞Á±ªÊù•ÂÆåÊàêÔºö</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="nf">loadDeferredContext</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//DeferredSecurityContextÊòØ‰∏Ä‰∏™ÊîØÊåÅÂª∂Êó∂ÁîüÊàêÁöÑSecurityContextÔºåÊú¨Ë¥®ÊòØ‰∏Ä‰∏™SecurityContextÁöÑSupplier</span>
<span class="w">        </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="n">deferredSecurityContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//ÈÅçÂéÜÂÜÖÈÉ®Áª¥Êä§ÁöÑÂÖ∂‰ªñSecurityContextRepositoryÂÆûÁé∞Ôºå‰∏ÄËà¨ÂåÖÂê´‰ª•‰∏ã‰∏§‰∏™Ôºö</span>
<span class="w">    </span><span class="c1">//1. HttpSessionSecurityContextRepository</span>
<span class="w">    </span><span class="c1">//2. RequestAttributeSecurityContextRepository</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">SecurityContextRepository</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">delegates</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">//Ëøô‰∏™if-elseËØ≠Âè•ÂÖ∂ÂÆû‰∏∫‰∫ÜÊ∑ªÂä†Â§ö‰∏™SecurityContextRepositoryÊèê‰æõÁöÑSecurityContextÂπ∂Â∞ÜÂÖ∂ÁªÑÊàê‰∏Ä‰∏™ÈìæÁä∂ÁªìÊûÑÁöÑDelegatingDeferredSecurityContextÔºàËá≥‰∫é‰∏∫‰ªÄ‰πàÔºåÊàë‰ª¨Êé•ÁùÄÂæÄ‰∏ãÁúãÔºâ</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deferredSecurityContext</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">deferredSecurityContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">delegate</span><span class="p">.</span><span class="na">loadDeferredContext</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">delegate</span><span class="p">.</span><span class="na">loadDeferredContext</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
<span class="w">                </span><span class="n">deferredSecurityContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DelegatingDeferredSecurityContext</span><span class="p">(</span><span class="n">deferredSecurityContext</span><span class="p">,</span><span class="w"> </span><span class="n">next</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">deferredSecurityContext</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>È¶ñÂÖàÊàë‰ª¨Êù•ÁúãÁ¨¨‰∏Ä‰∏™HttpSessionSecurityContextRepositoryÔºåÂÆÉÊòØÁ¨¨‰∏Ä‰∏™Ë¢´ÈÅçÂéÜÁöÑÂÆûÁé∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="nf">loadDeferredContext</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">readSecurityContextFromSession</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="na">getSession</span><span class="p">(</span><span class="kc">false</span><span class="p">));</span><span class="w">  </span><span class="c1">//‰ªéSession‰∏≠ÂèñÂá∫SecurityContext</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SupplierDeferredSecurityContext</span><span class="p">(</span><span class="n">supplier</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">securityContextHolderStrategy</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">SPRING_SECURITY_CONTEXT_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;SPRING_SECURITY_CONTEXT&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">springSecurityContextKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SPRING_SECURITY_CONTEXT_KEY</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="nf">readSecurityContextFromSession</span><span class="p">(</span><span class="n">HttpSession</span><span class="w"> </span><span class="n">httpSession</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="c1">//ÂÆûÈôÖ‰∏äËøôÈáåÂ∞±ÊòØ‰ªéSession‰∏≠ÈÄöËøáÈîÆ‚ÄúSPRING_SECURITY_CONTEXT‚ÄùÂèñÂá∫ÁöÑSecurityContext</span>
<span class="w">    </span><span class="c1">//Ë∑üÊàë‰ª¨‰∏ä‰∏ÄËäÇ‰ΩøÁî®ÁöÑÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑÔºåËøô‰∏ãÂ∞±ÂæàÊ∏ÖÊô∞‰∫Ü</span>
<span class="w">    </span><span class="c1">//Â¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÁôªÂΩïÈ™åËØÅÔºåÈÇ£‰πàËøôÈáåËé∑ÂèñÂà∞ÁöÑSecurityContextÂ∞±ÊòØnull‰∫Ü</span>
<span class="w">        </span><span class="n">Object</span><span class="w"> </span><span class="n">contextFromSession</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">httpSession</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">springSecurityContextKey</span><span class="p">);</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">SecurityContext</span><span class="p">)</span><span class="w"> </span><span class="n">contextFromSession</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéËøîÂõûÂõûÂéªÁöÑÊòØ‰∏Ä‰∏™SupplierDeferredSecurityContextÂØπË±°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SupplierDeferredSecurityContext</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Log</span><span class="w"> </span><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LogFactory</span><span class="p">.</span><span class="na">getLog</span><span class="p">(</span><span class="n">SupplierDeferredSecurityContext</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">SecurityContextHolderStrategy</span><span class="w"> </span><span class="n">strategy</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">securityContext</span><span class="p">;</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">missingContext</span><span class="p">;</span>

<span class="w">    </span><span class="n">SupplierDeferredSecurityContext</span><span class="p">(</span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">,</span><span class="w"> </span><span class="n">SecurityContextHolderStrategy</span><span class="w"> </span><span class="n">strategy</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">supplier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">supplier</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">strategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strategy</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="nf">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Âú®Ëé∑ÂèñSecurityContextÊó∂‰ºöËøõË°å‰∏ÄÊ¨°ÂàùÂßãÂåñ</span>
<span class="w">        </span><span class="n">init</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">securityContext</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isGenerated</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">init</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//ÂàùÂßãÂåñÂêéÂà§Êñ≠ÊòØÂê¶‰∏∫Êú™ÁôªÂΩïÁöÑSecurityContext</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">missingContext</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Â¶ÇÊûúsecurityContext‰∏ç‰∏∫nullË°®Á§∫Â∑≤ÁªèÂàùÂßãÂåñËøá‰∫Ü</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">securityContext</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="c1">//Áõ¥Êé•ÈÄöËøásupplierËé∑ÂèñsecurityContextÂØπË±°</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">securityContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">supplier</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//Â¶ÇÊûúsecurityContextÂØπË±°‰∏∫nullÔºåÈÇ£‰πàÂ∞±Ê†áËÆ∞missingContext</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">missingContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">securityContext</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">missingContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">//ÂΩìmissingContext‰∏∫ÁúüÊó∂ÔºåËØ¥ÊòéÊ≤°ÊúâsecurityContextÔºà‰∏ÄËà¨ÊòØÊú™ÁôªÂΩïÁöÑÊÉÖÂÜµÔºâ</span>
<span class="w">      </span><span class="c1">//ÈÇ£‰πàÂ∞±ÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑsecurityContextÔºå‰∏çÂåÖÂê´‰ªª‰ΩïËÆ§ËØÅ‰ø°ÊÅØ</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">securityContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">strategy</span><span class="p">.</span><span class="na">createEmptyContext</span><span class="p">();</span>
<span class="w">      </span><span class="c1">//Êó•ÂøóÊó†ËßÜÂ∞±Â•Ω</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">logger</span><span class="p">.</span><span class="na">isTraceEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;Created %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">securityContext</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊòØÁ¨¨‰∫å‰∏™Ë¢´ÈÅçÂéÜÁöÑÂÆûÁé∞RequestAttributeSecurityContextRepositoryÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="nf">loadDeferredContext</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">getContext</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÂêåÊ†∑ÊòØËøîÂõûSupplierDeferredSecurityContextÂØπË±°</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SupplierDeferredSecurityContext</span><span class="p">(</span><span class="n">supplier</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">securityContextHolderStrategy</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="nf">getContext</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ÈÄöËøáHttpServletRequestÁöÑAttributeËé∑ÂèñSecurityContext</span>
<span class="w">    </span><span class="c1">//Áî±‰∫é‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊ≤°ÊúâËÆæÂÆöËøáÔºåÂõ†Ê≠§ÂæóÂà∞ÁöÑÂ∞±ÊòØnull</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">SecurityContext</span><span class="p">)</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getAttribute</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">requestAttributeName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéÔºå‰∏§‰∏™SecurityContextÂ∞±‰ºö‰ª•ÈìæÂºèÂ≠òÊîæÂú®DelegatingDeferredSecurityContextÂØπË±°‰∏≠Ôºå‰∏ÄÂπ∂ËøîÂõû‰∫ÜÔºåÂÆÉÁöÑÂÜÖÈÉ®ÈïøËøôÊ†∑Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DelegatingDeferredSecurityContext</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="n">previous</span><span class="p">;</span>

<span class="w">        </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>

<span class="w">        </span><span class="n">DelegatingDeferredSecurityContext</span><span class="p">(</span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="n">previous</span><span class="p">,</span><span class="w"> </span><span class="n">DeferredSecurityContext</span><span class="w"> </span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">previous</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">previous</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="nf">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">//Âú®Ëé∑ÂèñSecurityContextÊó∂Ôºå‰ºöÈ¶ñÂÖà‰ªéÊúÄÂâçÈù¢ÁöÑÂºÄÂßãËé∑Âèñ</span>
<span class="w">            </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">securityContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">previous</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">      </span><span class="c1">//Â¶ÇÊûúÊúÄÂâçÈù¢ÁöÑSecurityContextÊòØÂ∑≤ÁôªÂΩïÁöÑÔºåÈÇ£‰πàÁõ¥Êé•ËøîÂõûËøô‰∏™SecurityContext</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="na">previous</span><span class="p">.</span><span class="na">isGenerated</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">securityContext</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">      </span><span class="c1">//Âê¶ÂàôÁªßÁª≠ÁúãÂêéÈù¢ÁöÑÔºå‰πüËÆ∏ÂêéÈù¢ÁöÑ‰ºöÊúâÂ∑≤ÁôªÂΩïÁöÑÔºàÂÆûÂú®Ê≤°ÊúâÂ∞±Áõ¥Êé•ËøîÂõû‰∏Ä‰∏™Á©∫ÁöÑSecurityContext‰∫ÜÔºâ</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">next</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isGenerated</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">previous</span><span class="p">.</span><span class="na">isGenerated</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">next</span><span class="p">.</span><span class="na">isGenerated</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÖú‰∫ÜËøô‰πàÂ§ß‰∏ÄÂúàÔºåÁé∞Âú®ÂõûÂà∞‰∏ÄÂºÄÂßãÁöÑFilter‰∏≠Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doFilter</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="n">FilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span>
<span class="w">            </span><span class="kd">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deferredContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">securityContextRepository</span><span class="p">.</span><span class="na">loadDeferredContext</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÊãøÂà∞ÊúÄÁªàÁöÑSecurityContextÁöÑSupplierÂêéÔºåÁªßÁª≠‰∏ãÈù¢ÁöÑËØ≠Âè•</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">//ÂêësecurityContextHolderStrategy‰∏≠ËÆæÁΩÆÊàë‰ª¨‰∏äÈù¢ÂæóÂà∞ÁöÑDeferredSecurityContext</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">securityContextHolderStrategy</span><span class="p">.</span><span class="na">setDeferredContext</span><span class="p">(</span><span class="n">deferredContext</span><span class="p">);</span>
<span class="w">      </span><span class="c1">//ËØ∑Ê±ÇÂâçÁöÑ‰ªªÂä°Â∑≤ÂÆåÊàêÔºåÁªßÁª≠ÂÖ∂‰ªñËøáÊª§Âô®‰∫Ü</span>
<span class="w">            </span><span class="n">chain</span><span class="p">.</span><span class="na">doFilter</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">//ËØ∑Ê±ÇÁªìÊùüÂêéÔºåÊ∏ÖÁêÜÊéâsecurityContextHolderStrategy‰∏≠ÁöÑDeferredSecurityContext</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">securityContextHolderStrategy</span><span class="p">.</span><span class="na">clearContext</span><span class="p">();</span>
<span class="w">            </span><span class="n">request</span><span class="p">.</span><span class="na">removeAttribute</span><span class="p">(</span><span class="n">FILTER_APPLIED</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéÊàë‰ª¨ÂÜçÊù•Áúã‰∏Ä‰∏ãÊàë‰ª¨‰πãÂâçÈÄöËøáSecurityContextHolderÊòØÂ¶Ç‰ΩïËé∑ÂèñÂà∞SecurityContextÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SecurityContextHolder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">strategyName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">getProperty</span><span class="p">(</span><span class="n">SYSTEM_PROPERTY</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">SecurityContextHolderStrategy</span><span class="w"> </span><span class="n">strategy</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">initializeCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Á±ªÂä†ËΩΩÊó∂‰ºöËøõË°å‰∏ÄÊ¨°ÂàùÂßãÂåñ</span>
<span class="w">        </span><span class="n">initialize</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initialize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ÂàùÂßãÂåñ‰ºöÂ∞ÜÂØπÂ∫îÁöÑSecurityContextHolderStrategyÂØπË±°ÁªôÂàõÂª∫</span>
<span class="w">        </span><span class="n">initializeStrategy</span><span class="p">();</span>
<span class="w">        </span><span class="n">initializeCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">  </span><span class="c1">//ÂàùÂßãÂåñSecurityContextHolderStrategyÂØπË±°</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">initializeStrategy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">        </span><span class="c1">// Â∞ùËØïÂä†ËΩΩÁ≥ªÁªüÈÖçÁΩÆ‰∏≠ËÆæÂÆöÁöÑStrategyÂÆûÁé∞Á±ªÔºåÈªòËÆ§ÊòØMODE_THREADLOCAL</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">clazz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Class</span><span class="p">.</span><span class="na">forName</span><span class="p">(</span><span class="n">strategyName</span><span class="p">);</span>
<span class="w">            </span><span class="n">Constructor</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">customStrategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clazz</span><span class="p">.</span><span class="na">getConstructor</span><span class="p">();</span>
<span class="w">      </span><span class="c1">// ËøôÈáåÁõ¥Êé•Ê†πÊçÆÈÖçÁΩÆ‰∏≠ÁöÑÁ±ªÂêçÔºåÁî®ÂèçÂ∞ÑÊÄíËâπ‰∏Ä‰∏™ÂØπË±°Âá∫Êù•</span>
<span class="w">            </span><span class="n">strategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">SecurityContextHolderStrategy</span><span class="p">)</span><span class="w"> </span><span class="n">customStrategy</span><span class="p">.</span><span class="na">newInstance</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ReflectionUtils</span><span class="p">.</span><span class="na">handleReflectionException</span><span class="p">(</span><span class="n">ex</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//Ê∏ÖÈô§Context‰∏≠ÁöÑÂÜÖÂÆπÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØÊ∏ÖÁêÜSecurityContextHolderStrategy‰∏≠ÁöÑÂÜÖÂÆπ</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">clearContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">strategy</span><span class="p">.</span><span class="na">clearContext</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//Ëé∑ÂèñSecurityContextÂØπË±°</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="nf">getContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Ëé∑ÂèñSecurityContextÂÆûÈôÖ‰∏ä‰πüÊòØÈÄöËøáSecurityContextHolderStrategyÊ†πÊçÆÁ≠ñÁï•Êù•Ëé∑Âèñ</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">strategy</span><span class="p">.</span><span class="na">getContext</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">  </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÂÆûÈôÖ‰∏äSecurityContextHolderËé∑ÂèñSecurityContextÂØπË±°ÔºåÂ∞±ÊòØÈÄöËøáSecurityContextHolderStrategyÊ†πÊçÆÁ≠ñÁï•Êù•Ëé∑ÂèñÔºåÊàë‰ª¨Áõ¥Êé•Êù•ÁúãSecurityContextHolderStrategyÁöÑÂÆûÁé∞Á±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">final</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ThreadLocalSecurityContextHolderStrategy</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">SecurityContextHolderStrategy</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">//ÂÜÖÈÉ®Áª¥Êä§‰∏Ä‰∏™ThreadLocalÂØπË±°ÔºåÊåâÁ∫øÁ®ãÂ≠òÂÇ®ÂØπÂ∫îÁöÑDeferredSecurityContext</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ThreadLocal</span><span class="o">&lt;</span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">contextHolder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ThreadLocal</span><span class="o">&lt;&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">clearContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Ê∏ÖÁêÜÂÆûÈôÖ‰∏äÊòØÁõ¥Êé•Ê∏ÖÁêÜÊéâThreadLocal‰∏≠Â≠òÁöÑÂØπË±°</span>
<span class="w">        </span><span class="n">contextHolder</span><span class="p">.</span><span class="na">remove</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SecurityContext</span><span class="w"> </span><span class="nf">getContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Ëé∑Âèñ‰πüÂæàÁÆÄÂçïÔºåÁõ¥Êé•ÈÄöËøáSupplierÊãøÂà∞ÈúÄË¶ÅÁöÑSecurityContextÂØπË±°</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">getDeferredContext</span><span class="p">().</span><span class="na">get</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">getDeferredContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">SecurityContext</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contextHolder</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//Â¶ÇÊûúÂ≠òÂÇ®ÁöÑDeferredSecurityContext‰∏∫nullÔºåËøôÈáå‰∏¥Êó∂ÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑSecurityContextÂπ∂‰øùÂ≠ò</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">SecurityContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createEmptyContext</span><span class="p">();</span>
<span class="w">            </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">context</span><span class="p">;</span>
<span class="w">            </span><span class="n">contextHolder</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">...</span>

<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊï¥‰∏™ÊµÅÁ®ãÂÖ∂ÂÆûÂ∞±ÂæàÊ∏ÖÊ•ö‰∫ÜÔºåÈ°πÁõÆÂêØÂä®Êó∂ÔºåSecurityContextHolder‰ºöËá™Âä®Ê†πÊçÆÈÖçÁΩÆÂàõÂª∫ÂØπÂ∫îÁöÑSecurityContextHolderStrategyÂØπË±°„ÄÇÂΩìÊàë‰ª¨ÁöÑËØ∑Ê±ÇÂà∞Êù•‰πãÂêéÔºåÈ¶ñÂÖà‰ºöÁªèËøáSecurityContextHolderFilterÔºåÁÑ∂ÂêéÂú®Ëøô‰∏™Èò∂ÊÆµÔºåÈÄöËøáSecurityContextRepositoryÊù•Â∞Ü‰∏çÂêåÂú∞ÊñπÂ≠òÂÇ®Ôºà‰∏ÄËà¨ÊòØSession‰∏≠Â≠òÂÇ®ÔºâÁöÑSecurityContextÂØπË±°ÂèñÂá∫Âπ∂Â∞ÅË£Ö‰∏∫DefferdSecurityContextÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞‰∏ÄÂºÄÂßãÂàõÂª∫Â•ΩÁöÑSecurityContextHolderStrategyÂØπË±°‰∏≠ÔºåËøôÊ†∑ÔºåÊàë‰ª¨ÁöÑControllerÂú®Â§ÑÁêÜÊó∂Â∞±ËÉΩÁõ¥Êé•‰ªéSecurityContextHolderÂèñÂá∫SecurityContextÂØπË±°‰∫ÜÔºåÊúÄÂêéÂú®Â§ÑÁêÜÁªìÊùüËøîÂõûÂìçÂ∫îÊó∂ÔºåSecurityContextHolderFilter‰πü‰ºöÂ∞ÜSecurityContextHolderStrategyÂ≠òÂÇ®ÁöÑDefferdSecurityContextÊ∏ÖÈô§ÊéâÔºåËá≥Ê≠§Ôºå‰∏Ä‰∏™ÂÆåÊï¥ÊµÅÁ®ãÁªìÊùü„ÄÇ</p>
<hr />
<h2 id="_19">ÂÆûÊàòÔºöÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªü<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h2>
<p>Âú®‰∫ÜËß£‰∫ÜSpringSecurityÁöÑÂ§ßÈÉ®ÂàÜÂäüËÉΩÂêéÔºåÊàë‰ª¨Â∞±Êù•Â∞ÜÊï¥‰∏™ÁΩëÁ´ôÁöÑÂÜÖÂÆπËøõË°åÂÆåÂñÑÔºåÁôªÈôÜÁõÆÂâçÂ∑≤ÁªèÂÆûÁé∞‰∫ÜÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÂÆûÁé∞‰ª•‰∏ãÂäüËÉΩÔºö</p>
<ul>
<li>Ê≥®ÂÜåÂäüËÉΩÔºà‰ªÖÈíàÂØπ‰∫éÂ≠¶ÁîüÔºâ</li>
<li>ËßíËâ≤ÂàÜ‰∏∫ÂêåÂ≠¶ÂíåÁÆ°ÁêÜÂëò</li>
<li>ÁÆ°ÁêÜÂëòË¥üË¥£‰∏äÊû∂„ÄÅÂà†Èô§„ÄÅÊõ¥Êñ∞‰π¶Á±çÔºåÊü•ÁúãÊâÄÊúâÂêåÂ≠¶ÁöÑÂÄüÈòÖÂàóË°®</li>
<li>ÂêåÂ≠¶ÂèØ‰ª•ÂÄüÈòÖÂíåÂΩíËøò‰π¶Á±çÔºå‰ª•ÂèäÊü•ÁúãËá™Â∑±ÁöÑÂÄüÈòÖÂàóË°®</li>
</ul>
<p>Áé∞Âú®Êàë‰ª¨Â∞±Êù•‰ªéÂ§¥ÁºñÂÜô‰∏Ä‰∏™Âü∫‰∫éSSMÁöÑÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªüÂêßÔºÅ</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89Spring%E5%9F%BA%E7%A1%80/" class="md-footer__link md-footer__link--prev" aria-label="Previous: SSMÁ¨îËÆ∞Ôºà‰∏ÄÔºâSpringÂü∫Á°Ä">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                SSMÁ¨îËÆ∞Ôºà‰∏ÄÔºâSpringÂü∫Á°Ä
              </div>
            </div>
          </a>
        
        
          
          <a href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89SpringMvc%E5%9F%BA%E7%A1%80/" class="md-footer__link md-footer__link--next" aria-label="Next: SpringMVCÂü∫Á°Ä">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                SpringMVCÂü∫Á°Ä
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.footer", "navigation.instant", "navigation.instant.preview", "navigation.tabs", "navigation.top", "navigation.tracking", "navigation.tabs.sticky", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://piakocode.github.io/Web%E5%BC%80%E5%8F%91/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/Spring/SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89Spring%E5%9F%BA%E7%A1%80/">
      
      
        <link rel="prev" href="../Mybatis/">
      
      
        <link rel="next" href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89SpringSecurity%E5%9F%BA%E7%A1%80/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>SSMÁ¨îËÆ∞Ôºà‰∏ÄÔºâSpringÂü∫Á°Ä - Piako's notebook</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spring" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Piako&#39;s notebook" class="md-header__button md-logo" aria-label="Piako's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Piako's notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SSMÁ¨îËÆ∞Ôºà‰∏ÄÔºâSpringÂü∫Á°Ä
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Read%20List/" class="md-tabs__link">
        
  
    
  
  Read List

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../%E5%AD%A6%E4%B9%A0%E7%BB%8F%E9%AA%8C/" class="md-tabs__link">
        
  
    
  
  Â≠¶‰π†ÁªèÈ™å

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" class="md-tabs__link">
        
  
    
  
  ÊØï‰∏öËÆæËÆ°

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="md-tabs__link">
          
  
  AI

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Algorithm/ICPC%20%E6%A8%A1%E6%9D%BF/" class="md-tabs__link">
          
  
  Algorithm

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Misc/RPC%E5%AD%A6%E4%B9%A0/" class="md-tabs__link">
          
  
  Misc

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../System/System/" class="md-tabs__link">
          
  
  System

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../Linux%E7%BC%96%E7%A8%8B/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" class="md-tabs__link">
          
  
  WebÂºÄÂèë

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E5%85%B6%E4%BB%96/CMU15445/CMU-15-445-spring2023%E9%80%9A%E5%85%B3%E8%AE%B0%E5%BD%95/" class="md-tabs__link">
          
  
  ÂÖ∂‰ªñ

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Bash%20%E8%84%9A%E6%9C%AC/" class="md-tabs__link">
          
  
  Â∑•ÂÖ∑‰ΩøÁî®

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/C%2B%2B%E4%BB%A3%E7%A0%81%E6%A0%B7%E4%BE%8B/" class="md-tabs__link">
          
  
  ÁºñÁ®ãËØ≠Ë®Ä

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Piako&#39;s notebook" class="md-nav__button md-logo" aria-label="Piako's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Piako's notebook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Read%20List/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Read List
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%AD%A6%E4%B9%A0%E7%BB%8F%E9%AA%8C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â≠¶‰π†ÁªèÈ™å
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊØï‰∏öËÆæËÆ°
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Êú∫Âô®Â≠¶‰π†
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàò
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êú∫Âô®Â≠¶‰π†Ôºà‰∫åÔºâ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Â∏∏Áî®Â∫ì
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Â∏∏Áî®Â∫ì
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/Keras/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keras
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/numpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    numpy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/opencv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    opencv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/pandas%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pandas Âü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4_5" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4_5" id="__nav_5_1_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Matplotlib
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4_5">
            <span class="md-nav__icon md-icon"></span>
            Matplotlib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/matplotlib/matplotlib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    matplotlib
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4_6" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4_6" id="__nav_5_1_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Seaborn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4_6">
            <span class="md-nav__icon md-icon"></span>
            Seaborn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/seaborn/seaborn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    seaborn
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4_7" >
        
          
          <label class="md-nav__link" for="__nav_5_1_4_7" id="__nav_5_1_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sklearn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_4_7">
            <span class="md-nav__icon md-icon"></span>
            Sklearn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/sklearn/sklearn%20%E5%85%A5%E9%97%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sklearn ÂÖ•Èó®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E5%B8%B8%E7%94%A8%E5%BA%93/sklearn/sklearn%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SKlearn Â∏∏Áî®‰ª£Á†Å
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ê∑±Â∫¶Â≠¶‰π†
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Ê∑±Â∫¶Â≠¶‰π†
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Code-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code-‰∫∫Â∑•Êô∫ËÉΩ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/Pytorch%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytorch ‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê∑±Â∫¶Â≠¶‰π†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CV
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            CV
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4_1" id="__nav_5_2_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Yolo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4_1">
            <span class="md-nav__icon md-icon"></span>
            Yolo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/CV/yolo/yolo%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    yoloV5Âü∫Êú¨‰ªãÁªç
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_5" >
        
          
          <label class="md-nav__link" for="__nav_5_2_5" id="__nav_5_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Âç∑ÁßØÁ•ûÁªèÁΩëÁªú
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_5">
            <span class="md-nav__icon md-icon"></span>
            Âç∑ÁßØÁ•ûÁªèÁΩëÁªú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âç∑ÁßØÁ•ûÁªèÁΩëÁªúÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÈÅáÂà∞ÁöÑÈóÆÈ¢ò
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            ÈÅáÂà∞ÁöÑÈóÆÈ¢ò
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../AI/%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/%E7%BC%96%E7%A8%8B%E7%BB%86%E8%8A%82%E7%9B%B8%E5%85%B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÁºñÁ®ãÁªÜËäÇÁõ∏ÂÖ≥
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Algorithm
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Algorithm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/ICPC%20%E6%A8%A1%E6%9D%BF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ICPC Ê®°Êùø
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âä®ÊÄÅËßÑÂàí
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%F0%9F%A7%90%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂÅöÈ¢òËÆ∞ÂΩïüí≠üí°üéà
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            ÂÅöÈ¢òËÆ∞ÂΩïüí≠üí°üéà
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/ACwing%E9%A2%98%E9%9B%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ACwingÈ¢òÈõÜ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_2" >
        
          
          <label class="md-nav__link" for="__nav_6_4_2" id="__nav_6_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ACwing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_2">
            <span class="md-nav__icon md-icon"></span>
            ACwing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/ACwing/1499%20%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê†ëÁöÑÈÅçÂéÜ 1499
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/ACwing/284%20%E7%9F%B3%E5%AD%90%E5%90%88%E5%B9%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    284 Áü≥Â≠êÂêàÂπ∂
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_3" >
        
          
          <label class="md-nav__link" for="__nav_6_4_3" id="__nav_6_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Codeforces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_3">
            <span class="md-nav__icon md-icon"></span>
            Codeforces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/Codeforces/1307D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BFS #ÂõæËÆ∫ #Codeforces
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4_4" id="__nav_6_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ê¥õË∞∑
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_4">
            <span class="md-nav__icon md-icon"></span>
            Ê¥õË∞∑
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/%E6%B4%9B%E8%B0%B7/P1119%20%E7%81%BE%E5%90%8E%E9%87%8D%E5%BB%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    P1119 ÁÅæÂêéÈáçÂª∫
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Algorithm/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95%F0%9F%92%AD%F0%9F%92%A1%F0%9F%8E%88/%E6%B4%9B%E8%B0%B7/P5076%20%E6%99%AE%E9%80%9A%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%88%E7%AE%80%E5%8C%96%E7%89%88%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ‰∫åÂèâÊ†ë #‰∫åÂèâÊêúÁ¥¢Ê†ë
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/RPC%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPCÂ≠¶‰π†
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/Record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/Todo%20List/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TODO LIST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/mermaid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mermaid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/obsidian%20%E5%A5%BD%E7%94%A8%E7%9A%84%E6%8F%92%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Obsidian Â•ΩÁî®ÁöÑÊèí‰ª∂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/%E5%90%84%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂêÑÁßçÈÖçÁΩÆÊñá‰ª∂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/%E5%B0%8F%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∞èËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Misc/%E8%80%83%E7%A0%94%E9%99%A2%E6%A0%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËÄÉÁ†îÈô¢Ê†°ËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/System/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/%E5%B9%B6%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âπ∂Âèë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RISC V
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            RISC V
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/RISC-V/RISC-V/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RISC-V
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/RISC-V/%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RISC-VÂü∫Êú¨Êåá‰ª§
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/RISC-V/%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊµãËØï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    rCore
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            rCore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/ch0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/ch1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/ch5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ch5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4_4" id="__nav_8_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    rCoreÂ≠¶‰π†ËÆ∞ÂΩï
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4_4">
            <span class="md-nav__icon md-icon"></span>
            rCoreÂ≠¶‰π†ËÆ∞ÂΩï
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../System/rCore/rCore%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/rCore%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â≠¶‰π†ËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    WebÂºÄÂèë
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            WebÂºÄÂèë
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LinuxÁºñÁ®ã
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            LinuxÁºñÁ®ã
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    epoll
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux ÁΩëÁªúÁºñÁ®ã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/connect%E3%80%81listen%E5%92%8Caccept/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    connect„ÄÅlistenÂíåaccept
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/epoll/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    epoll
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/io_uring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    io_uring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_6" >
        
          
          <label class="md-nav__link" for="__nav_9_1_6" id="__nav_9_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux UnixÁºñÁ®ãÊâãÂÜå
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_6">
            <span class="md-nav__icon md-icon"></span>
            Linux UnixÁºñÁ®ãÊâãÂÜå
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Linux%E7%BC%96%E7%A8%8B/Linux-Unix%E7%BC%96%E7%A8%8B%E6%89%8B%E5%86%8C/1.%20%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âü∫Êú¨Ê¶ÇÂøµ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2" >
        
          
          <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂâçÁ´Ø
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_2">
            <span class="md-nav__icon md-icon"></span>
            ÂâçÁ´Ø
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%89%8D%E7%AB%AF/CSS%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSSÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%89%8D%E7%AB%AF/HTML%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTMLÁ¨îËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂâçÁ´ØÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3" checked>
        
          
          <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂêéÁ´ØÂºÄÂèë
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_3">
            <span class="md-nav__icon md-icon"></span>
            ÂêéÁ´ØÂºÄÂèë
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Java%E7%9A%84%E5%9D%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaÁöÑÂùë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Jwt%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JwtÁªìÊûÑ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËΩØ‰ª∂Êû∂ÊûÑ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_9_3_4" id="__nav_9_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Spring
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_3_4">
            <span class="md-nav__icon md-icon"></span>
            Spring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Mybatis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mybatis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    SSMÁ¨îËÆ∞Ôºà‰∏ÄÔºâSpringÂü∫Á°Ä
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89SpringSecurity%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSMÁ¨îËÆ∞Ôºà‰∏âÔºâSpringSecurityÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89SpringMvc%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringMVCÂü∫Á°Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SpringMVC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringMVC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SpringSecurity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringSecurity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªü
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_5" >
        
          
          <label class="md-nav__link" for="__nav_9_3_5" id="__nav_9_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SpringBoot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_5">
            <span class="md-nav__icon md-icon"></span>
            SpringBoot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBoot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%E6%A0%B8%E5%BF%83%E5%86%85%E5%AE%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBootÁ¨îËÆ∞Ôºà‰∏ÄÔºâÊ†∏ÂøÉÂÜÖÂÆπ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBootÁ¨îËÆ∞Ôºà‰∏âÔºâÂâçÂêéÁ´ØÂàÜÁ¶ª
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringBoot/SpringBoot%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringBootÁ¨îËÆ∞Ôºà‰∫åÔºâÊï∞ÊçÆ‰∫§‰∫í
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_6" >
        
          
          <label class="md-nav__link" for="__nav_9_3_6" id="__nav_9_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SpringCloud
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_6">
            <span class="md-nav__icon md-icon"></span>
            SpringCloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCloud%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringCloudÁ¨îËÆ∞Ôºà‰∏ÄÔºâ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCloud%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂæÆÊúçÂä°Â∫îÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCloud%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringCloudÁ¨îËÆ∞ÔºàÂõõÔºâ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SpringCloud/SpringCould%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SpringCouldÁ¨îËÆ∞Ôºà‰∫åÔºâ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_7" >
        
          
          <label class="md-nav__link" for="__nav_9_3_7" id="__nav_9_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Etcd
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_7">
            <span class="md-nav__icon md-icon"></span>
            Etcd
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etcd/etcd%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    etcdÂü∫Êú¨‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_8" >
        
          
          <label class="md-nav__link" for="__nav_9_3_8" id="__nav_9_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_3_8">
            <span class="md-nav__icon md-icon"></span>
            Gin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin%20%2B%20Gorm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gin + Gorm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin-Gorm-Todo_List/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Todo-List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gin%E6%A0%B7%E4%BE%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GinÊ†∑‰æã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/Gorm%E6%A0%B7%E4%BE%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GormÊ†∑‰æã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gin/%E4%B8%8A%E4%BC%A0%E3%80%81%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ‰∏ä‰º†„ÄÅ‰∏ãËΩΩÊñá‰ª∂
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4" >
        
          
          <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Êï∞ÊçÆÂ∫ì
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_4">
            <span class="md-nav__icon md-icon"></span>
            Êï∞ÊçÆÂ∫ì
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E6%95%B0%E6%8D%AE%E5%BA%93/build%20a%20simple%20database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    build a simple database
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÂÖ∂‰ªñ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            ÂÖ∂‰ªñ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_1" >
        
          
          <label class="md-nav__link" for="__nav_10_1" id="__nav_10_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CMU15445
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_1">
            <span class="md-nav__icon md-icon"></span>
            CMU15445
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CMU15445/CMU-15-445-spring2023%E9%80%9A%E5%85%B3%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMU15445ÈÄöÂÖ≥ËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2" >
        
          
          <label class="md-nav__link" for="__nav_10_2" id="__nav_10_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSAPP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2">
            <span class="md-nav__icon md-icon"></span>
            CSAPP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/3.%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Á®ãÂ∫èÁöÑÊú∫Âô®Á∫ßË°®Á§∫
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/bomb%20lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bomb lab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/data%20lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data lab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/%E5%BC%82%E5%B8%B8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂºÇÂ∏∏
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËôöÊãüÂÜÖÂ≠ò
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/%E9%93%BE%E6%8E%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÈìæÊé•
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2_7" >
        
          
          <label class="md-nav__link" for="__nav_10_2_7" id="__nav_10_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CMU15 455
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2_7">
            <span class="md-nav__icon md-icon"></span>
            CMU15 455
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/CSAPP/CMU15-455/CMU15-455/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMU15-455
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3" >
        
          
          <label class="md-nav__link" for="__nav_10_3" id="__nav_10_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MIT6.S081 Êìç‰ΩúÁ≥ªÁªü
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3">
            <span class="md-nav__icon md-icon"></span>
            MIT6.S081 Êìç‰ΩúÁ≥ªÁªü
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/1.%20Lab%20Utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Lab Utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/2.%20Lab%20system%20calls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab: system calls
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/3.%20Lab%20page%20tables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab: page tables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/4.%20Lab%20Traps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab: Traps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/MIT6.S081%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/7.%20Lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Lab
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4" >
        
          
          <label class="md-nav__link" for="__nav_10_4" id="__nav_10_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NJU OS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4">
            <span class="md-nav__icon md-icon"></span>
            NJU OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/NJU%20OS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êìç‰ΩúÁ≥ªÁªü
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5" >
        
          
          <label class="md-nav__link" for="__nav_10_5" id="__nav_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OSTEP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5">
            <span class="md-nav__icon md-icon"></span>
            OSTEP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/OSTEP/OSTEP%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OSTEPËØª‰π¶Á¨îËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6" >
        
          
          <label class="md-nav__link" for="__nav_10_6" id="__nav_10_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ËÆ°ÁÆóÊú∫ÁΩëÁªú
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6">
            <span class="md-nav__icon md-icon"></span>
            ËÆ°ÁÆóÊú∫ÁΩëÁªú
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/1.%20%E6%A6%82%E8%AE%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê¶ÇËÆ∫
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/CS144/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS144
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%85%B6%E4%BB%96/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËÆ°ÁÆóÊú∫ÁΩëÁªú
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Â∑•ÂÖ∑‰ΩøÁî®
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Â∑•ÂÖ∑‰ΩøÁî®
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Bash%20%E8%84%9A%E6%9C%AC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bash ËÑöÊú¨
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/CMake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMake
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Doxygen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Doxygen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Helix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Hyprland%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hyprlandÈÖçÁΩÆ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Linux%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LinuxÁ¨îËÆ∞
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Make/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Make‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/MongoDB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/MySQL%E6%8C%87%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySQLÊåá‰ª§
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Nginx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nginx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vim
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docker ‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/gdb%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gdbÂ∏∏Áî®ÂëΩ‰ª§
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/tmux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tmux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/%E5%B8%B8%E7%94%A8Latex%E7%AC%A6%E5%8F%B7%E5%85%AC%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∏∏Áî®LatexÁ¨¶Âè∑ÂÖ¨Âºè
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/%E5%B8%B8%E7%94%A8git%E6%8C%87%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∏∏Áî®gitÊåá‰ª§
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ÁºñÁ®ãËØ≠Ë®Ä
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            ÁºñÁ®ãËØ≠Ë®Ä
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1" >
        
          
          <label class="md-nav__link" for="__nav_12_1" id="__nav_12_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_1">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/C%2B%2B%E4%BB%A3%E7%A0%81%E6%A0%B7%E4%BE%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++-Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/C%2B%2B%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reactor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/GTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GTest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/Google%20benchmark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google benchmark
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/clang-format%20%20%26%20clang-tidy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    clang-format &amp; clang-tidy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_1_6" >
        
          
          <label class="md-nav__link" for="__nav_12_1_6" id="__nav_12_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ËØ≠Ê≥ï
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_12_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_1_6">
            <span class="md-nav__icon md-icon"></span>
            ËØ≠Ê≥ï
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/%E8%AF%AD%E6%B3%95/C%2B%2B%20Template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++ Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/%E8%AF%AD%E6%B3%95/C%2B%2B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%2B%2B/%E8%AF%AD%E6%B3%95/C%2B%2B%E5%BA%93%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++ Â∫ìÂáΩÊï∞
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_2" >
        
          
          <label class="md-nav__link" for="__nav_12_2" id="__nav_12_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CËØ≠Ë®Ä
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_2">
            <span class="md-nav__icon md-icon"></span>
            CËØ≠Ë®Ä
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CËØ≠Ë®Ä
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CËØ≠Ë®ÄÂπ∂ÂèëÁºñÁ®ã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E7%9A%84%E7%BC%96%E8%AF%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CÁöÑÁºñËØë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80/ELF%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ELFÊñá‰ª∂ÁªìÊûÑ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_3" >
        
          
          <label class="md-nav__link" for="__nav_12_3" id="__nav_12_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Go
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_3">
            <span class="md-nav__icon md-icon"></span>
            Go
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go-tricks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go-tricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GoÂü∫Á°ÄËØ≠Ê≥ï
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go%E5%B9%B6%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âπ∂Âèë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/Go%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E8%A7%84%E8%8C%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standard Go Project Layout
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/jwt-go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jwt-go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/protobuf%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    protobuf‰ΩøÁî®
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_4" >
        
          
          <label class="md-nav__link" for="__nav_12_4" id="__nav_12_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Java
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_4">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/Java-OI%E6%B5%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JavaOIÊµÅ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/linux%E5%AE%89%E8%A3%85mysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LinuxÂÆâË£Ömysql
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_5" >
        
          
          <label class="md-nav__link" for="__nav_12_5" id="__nav_12_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rust
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_12_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_5">
            <span class="md-nav__icon md-icon"></span>
            Rust
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/Cargo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cargo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/Rust-Code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/rust%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RustËÆ∞ÂΩï
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/simple%20but%20useful%20code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ‰ª£Á†Å
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12_5_5" >
        
          
          <label class="md-nav__link" for="__nav_12_5_5" id="__nav_12_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ËØ≠Ê≥ï
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_12_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12_5_5">
            <span class="md-nav__icon md-icon"></span>
            ËØ≠Ê≥ï
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/0.%E5%AE%89%E8%A3%85Rust%E5%92%8CHello%2CWorld/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÂÆâË£ÖRustÂíåHello,World
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/1.Rust%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RustÂü∫Êú¨ËØ≠Ê≥ï
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/10.%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÁîüÂëΩÂë®Êúü
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/11.%E9%97%AD%E5%8C%85%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Èó≠ÂåÖÂíåËø≠‰ª£Âô®
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/12.%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êô∫ËÉΩÊåáÈíà
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/13.%E5%B9%B6%E5%8F%91/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Âπ∂Âèë
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/14.%20%E8%BF%9B%E9%98%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ËøõÈò∂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/2.%E6%89%80%E6%9C%89%E6%9D%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊâÄÊúâÊùÉ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/3.%E7%BB%93%E6%9E%84%E4%BD%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÁªìÊûÑ‰Ωì
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/4.%E6%9E%9A%E4%B8%BE%E5%92%8C%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Êûö‰∏æÂíåÊ®°ÂºèÂåπÈÖç
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/5.%E5%B8%B8%E8%A7%81%E9%9B%86%E5%90%88%28Vec%E3%80%81string%E3%80%81map%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Â∏∏ËßÅÈõÜÂêà
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/6.%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê®°Âùó Crate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/7.%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÈîôËØØÂ§ÑÁêÜ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/8.%E6%B3%9B%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ê≥õÂûã
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/9.Trait/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trait
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/%E8%AF%AD%E6%B3%95/%E6%9E%84%E5%BB%BA%E5%A4%9A%E7%BA%BF%E7%A8%8Bweb%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ÊûÑÂª∫Â§öÁ∫øÁ®ãwebÊúçÂä°Âô®
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><a class="glightbox" href="https://s2.loli.net/2022/10/08/ZsKlOvz5xmXSutw.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221008182958877" src="https://s2.loli.net/2022/10/08/ZsKlOvz5xmXSutw.png" /></a></p>
<h1 id="spring">SpringÊ†∏ÂøÉÊäÄÊúØ<a class="headerlink" href="#spring" title="Permanent link">&para;</a></h1>
<h1 id="java-spring">java #spring<a class="headerlink" href="#java-spring" title="Permanent link">&para;</a></h1>
<p><strong>ÂâçÁΩÆËØæÁ®ãË¶ÅÊ±ÇÔºö</strong>ËØ∑ÂêÑ‰ΩçÂ∞è‰ºô‰º¥ÂÖàÂÆåÊàê„ÄäJavaWeb„ÄãÁØá„ÄÅ„ÄäJava 9-17Êñ∞ÁâπÊÄß„ÄãÁØáËßÜÈ¢ëÊïôÁ®ã‰πãÂêéÔºåÂÜçÊù•ËßÇÁúãÊ≠§ÊïôÁ®ã„ÄÇ</p>
<p><strong>Âª∫ËÆÆÔºö</strong>ÂØπJavaÂºÄÂèëËøò‰∏çÊòØÂæàÁÜüÊÇâÁöÑÂêåÂ≠¶ÔºåÊúÄÂ•ΩÂÖàËä±Ë¥πÂçä‰∏™ÊúàÂà∞‰∏Ä‰∏™ÊúàÊó∂Èó¥Â§ßÈáèÂú∞ÂéªÁºñÂÜôÂ∞èÈ°πÁõÆÔºå‰∏çÊé®Ëçê‰∏ÄÂè£Ê∞îÂ≠¶ÂÆåÔºåÂêéÈù¢ÁöÑÂÜÖÂÆπÁõ∏ÊØîÂâçÈù¢ÁöÑÂÜÖÂÆπÂá†‰πéÊòØÈôçÁª¥ÊâìÂáªÔºå‰∏ÄÂè£Ê∞îÂ≠¶ÂÆåÂæàÂÆπÊòìÂøòËÆ∞‰πãÂâçÊâÄÂ≠¶ÁöÑÂü∫Á°ÄÁü•ËØÜÔºåÂ∞§ÂÖ∂ÊòØJavaSEÈò∂ÊÆµÁöÑÂÜÖÂÆπ„ÄÇ</p>
<p><strong>‰∏çÂêå‰∫é2021ÁâàÊú¨SSMÊïôÁ®ãÔºåÊú¨ÊúüËßÜÈ¢ë‰∏∫ÈáçÂà∂ÁâàÊú¨ÔºåËßÜÈ¢ëÂ≠¶‰π†ÁöÑSpringÊ°ÜÊû∂ÁâàÊú¨‰∏∫Ôºö6.0</strong></p>
<p>ÊÅ≠ÂñúÂêÑ‰ΩçÈ°∫Âà©ËøõÂÖ•Âà∞SSMÔºàSpring+SpringMVC+MybatisÔºâÈò∂ÊÆµÁöÑÂ≠¶‰π†Ôºå‰πüÁÆóÊòØÊàêÂäüÂá∫‰∫ÜJavaÊñ∞ÊâãÊùëÔºåÁî±‰∫éÂâçÈù¢Êàë‰ª¨Â∑≤ÁªèÂ≠¶‰π†ËøáMybatis‰∫ÜÔºåÂõ†Ê≠§ÔºåÊú¨ÊúüÊïôÁ®ãÁöÑÊó∂Èó¥ÂÆâÊéíÁõ∏ÊØî‰πãÂâç‰ºöÊõ¥Áü≠‰∏Ä‰∫õ„ÄÇ‰ªéËøôÈáåÂºÄÂßãÔºåÂæàÂ§öÁöÑÊ¶ÇÂøµÁêÜËß£Ëµ∑Êù•Â∞±Á®çÂæÆÊúâ‰∏ÄÁÇπÈöæÂ∫¶‰∫ÜÔºåÂõ†‰∏∫‰Ω†‰ª¨Ê≤°ÊúâÊé•Ëß¶Ëøá‰ºÅ‰∏öÂºÄÂèëÂú∫ÊôØÔºåÂæàÈöæ‰Ωì‰ºöÂà∞ÈÇ£ÁßçÊÄùÊÉ≥Â∏¶Êù•ÁöÑÂ•ΩÂ§ÑÔºåÁîöËá≥Âà∞ÂêéÊúüÊé•Ëß¶Âà∞ÁöÑÂá†‰πéÈÉΩÊòØÂü∫‰∫é‰∫ëËÆ°ÁÆóÂíåÂ§ßÊï∞ÊçÆÁêÜËÆ∫ÂÆûÁé∞ÁöÑÊ°ÜÊû∂ÔºàÂΩì‰∏ãÊúÄÁÉ≠Èó®ÊúÄÂâçÊ≤øÁöÑÊäÄÊúØÔºâÈÄêÊ∏ê‰∏çÂÜçÊòØÂíåËÆ°ÁÆóÊú∫Âü∫Á°ÄÁõ∏ÂÖ≥ËÅîÔºåËÄåÊòØÂíåÊÄé‰πàÈ´òÊïàÂπ≤Ê¥ªÁõ∏ÂÖ≥‰∫Ü„ÄÇ</p>
<p>Âú®JavaWebÈò∂ÊÆµÔºåÊàë‰ª¨Â∑≤ÁªèÂ≠¶‰π†‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®JavaËøõË°åWebÂ∫îÁî®Á®ãÂ∫èÂºÄÂèëÔºåÊàë‰ª¨Áé∞Âú®Â∑≤ÁªèÂÖ∑ÊúâÊê≠Âª∫WebÁΩëÁ´ôÁöÑËÉΩÂäõÔºå‰ΩÜÊòØÔºåÊàë‰ª¨Âú®ÂºÄÂèëÁöÑËøáÁ®ã‰∏≠ÔºåÂèëÁé∞Â≠òÂú®ËØ∏Â§öÁöÑ‰∏ç‰æøÔºåÂú®ÊúÄÂêéÁöÑÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªüÁºñÁ®ãÂÆûÊàò‰∏≠ÔºåÊàë‰ª¨ÂèëÁé∞ËôΩÁÑ∂Êàë‰ª¨ÊÄùË∑ØÂæàÊ∏ÖÊô∞ÔºåÁü•ÈÅìÂ¶Ç‰ΩïÁºñÂÜôÂØπÂ∫îÁöÑÊé•Âè£Ôºå‰ΩÜÊòØËøôÊ†∑ÁöÑÂºÄÂèëÊïàÁéáÔºåÂÆûÂú®ÊòØÂ§™ÊÖ¢‰∫ÜÔºåÂπ∂‰∏îÂØπ‰∫éÂØπË±°ÂàõÂª∫ÁöÑÁÆ°ÁêÜÔºåÂ≠òÂú®ËØ∏Â§öÁöÑ‰∏çÂ¶•‰πãÂ§ÑÔºåÂõ†Ê≠§ÔºåÊàë‰ª¨Ë¶ÅÂéªÁªßÁª≠Â≠¶‰π†Êõ¥Â§öÁöÑÊ°ÜÊû∂ÊäÄÊúØÔºåÊù•ÁÆÄÂåñÂíåËßÑËåÉÊàë‰ª¨ÁöÑJavaÂºÄÂèë„ÄÇ</p>
<p>SpringÂ∞±ÊòØËøôÊ†∑ÁöÑ‰∏Ä‰∏™Ê°ÜÊû∂ÔºàÊñáÊ°£Ôºö<a href="https://docs.spring.io/spring-framework/docs/6.0.10/reference/html/core.html#spring-core">https://docs.spring.io/spring-framework/docs/6.0.10/reference/html/core.html#spring-core</a>ÔºâÔºåÂÆÉÂ∞±ÊòØ‰∏∫‰∫ÜÁÆÄÂåñÂºÄÂèëËÄåÁîüÔºåÂÆÉÊòØËΩªÈáèÁ∫ßÁöÑ<strong>IoC</strong>Âíå<strong>AOP</strong>ÁöÑÂÆπÂô®Ê°ÜÊû∂Ôºå‰∏ªË¶ÅÊòØÈíàÂØπ<strong>Bean</strong>ÁöÑÁîüÂëΩÂë®ÊúüËøõË°åÁÆ°ÁêÜÁöÑËΩªÈáèÁ∫ßÂÆπÂô®ÔºåÂπ∂‰∏îÂÆÉÁöÑÁîüÊÄÅÂ∑≤ÁªèÂèëÂ±ïÂæóÊûÅ‰∏∫Â∫ûÂ§ß„ÄÇÈÇ£‰πàÔºåÈ¶ñÂÖà‰∏ÄÈóÆÔºå‰ªÄ‰πàÊòØ<strong>IoC</strong>Âíå<strong>AOP</strong>Ôºå‰ªÄ‰πàÂèàÊòØ<strong>Bean</strong>Âë¢Ôºü‰∏çË¶ÅÂÆ≥ÊÄïÔºåËøô‰∫õÊ¶ÇÂøµÂè™ÊòØÂê¨Ëµ∑Êù•Êª°Êª°ÁöÑÈ´òÁ∫ßÊÑüÔºåÂÆûÈôÖ‰∏äÊ≤°ÊúâÂ§öÈ´òÁ∫ßÔºàÂæàÂ§ö‰∏úË•øÈÉΩÊòØËøôÊ†∑ÔºåÂêçÂ≠óÂê¨Ëµ∑Êù•ÂæàÁâõÔºåÂÆûÈôÖ‰∏äÂè™ÊòØ‰∏Ä‰∏™ÂæàÂÆπÊòìÁêÜËß£ÁöÑ‰∏úË•øÔºâ</p>
<h2 id="ioc">IoCÂÆπÂô®Âü∫Á°Ä<a class="headerlink" href="#ioc" title="Permanent link">&para;</a></h2>
<p>SpringÊ°ÜÊû∂ÊúÄÊ†∏ÂøÉÁöÑÂÖ∂ÂÆûÂÆÉÁöÑIoCÂÆπÂô®ÔºåËøôÊòØÊàë‰ª¨ÂºÄÂêØSpringÂ≠¶‰π†ÁöÑÁ¨¨‰∏ÄÁ´ô„ÄÇ</p>
<h3 id="ioc_1">IoCÁêÜËÆ∫‰ªãÁªç<a class="headerlink" href="#ioc_1" title="Permanent link">&para;</a></h3>
<p>Âú®Êàë‰ª¨‰πãÂâçÁöÑÂõæ‰π¶ÁÆ°ÁêÜÁ≥ªÁªüWebÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÊàë‰ª¨ÂèëÁé∞ÔºåÊï¥‰∏™Á®ãÂ∫èÂÖ∂ÂÆûÊòØ‰æùÈù†ÂêÑ‰∏™ÈÉ®ÂàÜÁõ∏‰∫íÂçè‰ΩúÔºåÂÖ±ÂêåÂÆåÊàê‰∏Ä‰∏™Êìç‰ΩúÔºåÊØîÂ¶ÇË¶ÅÂ±ïÁ§∫ÂÄüÈòÖ‰ø°ÊÅØÂàóË°®ÔºåÈÇ£‰πàÈ¶ñÂÖàÈúÄË¶Å‰ΩøÁî®ServletËøõË°åËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÊï∞ÊçÆÂ§ÑÁêÜÔºåÁÑ∂ÂêéËØ∑Ê±ÇÁöÑÊï∞ÊçÆÂÖ®ÈÉ®‰∫§ÁªôÂØπÂ∫îÁöÑServiceÔºà‰∏öÂä°Â±ÇÔºâÊù•Â§ÑÁêÜÔºåÂΩìServiceÂèëÁé∞Ë¶Å‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Ëé∑ÂèñÊï∞ÊçÆÊó∂ÔºåÂÜçÂêëÂØπÂ∫îÁöÑMapperÂèëËµ∑ËØ∑Ê±Ç„ÄÇ</p>
<p>ÂÆÉ‰ª¨‰πãÈó¥Â∞±ÂÉèËøûÊé•Âú®‰∏ÄËµ∑ÁöÑÈΩøËΩÆÔºåË∞Å‰πüÁ¶ª‰∏çÂºÄË∞ÅÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/10/08/YQRP2idIS5skHJ4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="img" src="https://s2.loli.net/2022/10/08/YQRP2idIS5skHJ4.png" /></a></p>
<p>Â∞±ÂÉè‰∏Ä‰∏™Âõ¢ÈòüÔºåÊØè‰∏™‰∫∫ÁöÑÂàÜÂ∑•ÈÉΩÂæàÊòéÁ°ÆÔºåÊµÅÊ∞¥Á∫ø‰∏äÁöÑ‰∏ÄÂ•óÊìç‰ΩúÂøÖÈ°ªÁéØÁéØÁõ∏Êâ£ÔºåËøôÊòØ‰∏ÄÁßçÈ´òÂ∫¶ËÄ¶ÂêàÁöÑ‰ΩìÁ≥ª„ÄÇ</p>
<p>ËôΩÁÑ∂ËøôÊ†∑ÁöÑ‰ΩìÁ≥ªÈÄªËæëÈùûÂ∏∏Ê∏ÖÊô∞ÔºåÊï¥‰∏™ÊµÅÁ®ã‰πüËÉΩÂ§üËÆ©‰∫∫Âø´ÈÄü‰∫ÜËß£Ôºå‰ΩÜÊòØËøôÊ†∑Â≠òÂú®‰∏Ä‰∏™Âæà‰∏•ÈáçÁöÑÈóÆÈ¢òÔºåÊàë‰ª¨Áé∞Âú®ÁöÑÊó∂‰ª£ÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ËΩØ‰ª∂È°πÁõÆÈ´òÈÄüËø≠‰ª£ÁöÑÊó∂‰ª£ÔºåÊàë‰ª¨ÂèëÁé∞ÂæàÂ§öApp‰∏âÂ§©‰∏§Â§¥Èöî‰∏âÂ∑Æ‰∫îÂú∞Â∞±Êõ¥Êñ∞ÔºåËÄå‰∏îÊòØ‰ªÄ‰πàÂäüËÉΩÂΩì‰∏ãÊúÄÁÅ´ÔºåÂ∞±È©¨‰∏çÂÅúËπÑÂú∞ËøõË°åË∑üËøõÂºÄÂèëÔºåÂõ†Ê≠§ÔºåÂ∞±ÂæàÂÆπÊòìÂá∫Áé∞Ôºå‰πãÂâçÂÜôÂ•ΩÁöÑ‰ª£Á†ÅÔºåÂÆûÁé∞ÁöÑÂäüËÉΩÔºåÈúÄË¶ÅÂÖ®ÈÉ®Êé®ÁøªÔºåÊîπÊàêÊñ∞ÁöÑÂäüËÉΩÔºåÈÇ£‰πàÊàë‰ª¨Â∞±‰∏çÂæó‰∏çÂéª‰øÆÊîπÊüê‰∫õÊµÅÊ∞¥Á∫ø‰∏äÁöÑÊ®°ÂùóÔºå‰ΩÜÊòØËøôÊ†∑‰∏Ä‰øÆÊîπÔºå‰ºöÁõ¥Êé•ÂØºËá¥Êï¥‰∏™ÊµÅÊ∞¥Á∫øÁöÑÂºïÁî®ÂÖ≥Á≥ªÂ§ßÈù¢ÁßØÊõ¥Êñ∞„ÄÇ</p>
<p>ÊØîÂ¶Ç‰∏ãÈù¢ÁöÑÊÉÖÂÜµÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">A</span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">B</span><span class="w"> </span><span class="n">b</span><span class="p">){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">C</span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">C</span><span class="p">(</span><span class="n">B</span><span class="w"> </span><span class="n">b</span><span class="p">){}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">B</span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåAÂíåCÂú®Â§ßÈáèÂú∞Áõ¥Êé•‰ΩøÁî®BÔºå‰ΩÜÊòØÊüê‰∏ÄÂ§©ÔºåËøô‰∏™BÁöÑÂÆûÁé∞Â∑≤ÁªèËøáÊó∂‰∫ÜÔºåÊ≠§Êó∂Êù•‰∫Ü‰∏™ÊääÂäüËÉΩÂÆûÁé∞ÁöÑÊõ¥Â•ΩÁöÑDÔºåÊàë‰ª¨ÈúÄË¶ÅÁî®Ëøô‰∏™Êñ∞ÁöÑÁ±ªÊù•ÂÆåÊàê‰∏öÂä°‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/FRQn6vEpTklsJKe.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122135859871" src="https://s2.loli.net/2022/11/22/FRQn6vEpTklsJKe.png" /></a></p>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÂõ†‰∏∫Á±ª‰πãÈó¥ÁöÑÂÖ≥ËÅîÊÄßÂ§™Âº∫‰∫ÜÔºå‰ºöÂºÄÂßãÂ§ßÈù¢ÁßØÊä•ÈîôÔºåÊâÄÊúâ‰πãÂâçÁî®‰∫ÜBÁöÑÁ±ªÔºåÂæóÊå®‰∏™ËøõË°å‰øÆÊîπÔºåÂÖ®ÈÉΩÊîπÊàêDÔºåËøôÁÆÄÁõ¥ÊòØÁÅæÈöæÂïäÔºÅ</p>
<p>ÂåÖÊã¨Êàë‰ª¨‰πãÂâçJavaWebÈò∂ÊÆµÁºñÂÜôÁöÑÂÆûÊàòÈ°πÁõÆÔºåÂ¶ÇÊûúÊàë‰ª¨‰∏çÊÉ≥Áî®Êüê‰∏™ServiceÂÆûÁé∞Á±ª‰∫ÜÔºåÊàëÊÉ≥‰ΩøÁî®ÂÖ∂‰ªñÁöÑÂÆûÁé∞Á±ªÁî®‰∏çÂêåÁöÑÈÄªËæëÂÅöËøô‰∫õÂäüËÉΩÔºåÈÇ£‰πàËøô‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨Âè™ËÉΩÊØè‰∏™Á±ªÈÉΩÂéªÊå®‰∏™ËøõË°å‰øÆÊîπÔºåÂΩìÈ°πÁõÆÁâπÂà´Â∫ûÂ§ßÊó∂ÔºåÂÖâÊòØÊîπ‰∏™Á±ªÂêçÂØºËá¥ÁöÑËøûÂ∏¶‰øÆÊîπÂ∞±Â§ü‰Ω†Êîπ‰∏ÄÂ§©‰∫Ü„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÈ´òËÄ¶ÂêàÂ∫¶Â∏¶Êù•ÁöÑÁº∫ÁÇπÊòØÂæàÊòéÊòæÁöÑÔºå‰πüÊòØÁé∞‰ª£ËΩØ‰ª∂ÂºÄÂèë‰∏≠ÂæàËá¥ÂëΩÁöÑÈóÆÈ¢ò„ÄÇÂ¶ÇÊûúË¶ÅÊîπÂñÑËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨Âè™ËÉΩÂ∞ÜÂêÑ‰∏™Ê®°ÂùóËøõË°åËß£ËÄ¶ÔºåËÆ©ÂêÑ‰∏™Ê®°Âùó‰πãÈó¥ÁöÑ‰æùËµñÊÄß‰∏çÂÜçÈÇ£‰πàÂú∞Âº∫„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåServiceÁöÑÂÆûÁé∞Á±ªÔºå‰∏çÂÜçÁî±Êàë‰ª¨ÂÜ≥ÂÆöÔºåËÄåÊòØËÆ©Á®ãÂ∫èËá™Â∑±ÂÜ≥ÂÆöÔºåÊâÄÊúâÁöÑÂÆûÁé∞Á±ªÂØπË±°ÔºåÂÖ®ÈÉ®‰∫§ÁªôÁ®ãÂ∫èÊù•ÁÆ°ÁêÜÔºåÊâÄÊúâÂØπË±°‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºå‰πüÁî±Á®ãÂ∫èÊù•Âä®ÊÄÅÂÜ≥ÂÆöÔºåËøôÊ†∑Â∞±ÂºïÂÖ•‰∫ÜIoCÁêÜËÆ∫„ÄÇ</p>
<p>IOCÊòØInversion of ControlÁöÑÁº©ÂÜôÔºåÁøªËØë‰∏∫Ôºö‚ÄúÊéßÂà∂ÂèçËΩ¨‚ÄùÔºåÊääÂ§çÊùÇÁ≥ªÁªüÂàÜËß£ÊàêÁõ∏‰∫íÂêà‰ΩúÁöÑÂØπË±°ÔºåËøô‰∫õÂØπË±°Á±ªÈÄöËøáÂ∞ÅË£Ö‰ª•ÂêéÔºåÂÜÖÈÉ®ÂÆûÁé∞ÂØπÂ§ñÈÉ®ÊòØÈÄèÊòéÁöÑÔºå‰ªéËÄåÈôç‰Ωé‰∫ÜËß£ÂÜ≥ÈóÆÈ¢òÁöÑÂ§çÊùÇÂ∫¶ÔºåËÄå‰∏îÂèØ‰ª•ÁÅµÊ¥ªÂú∞Ë¢´ÈáçÁî®ÂíåÊâ©Â±ï„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/10/08/XsYQRk93CHewISB.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="img" src="https://s2.loli.net/2022/10/08/XsYQRk93CHewISB.png" /></a></p>
<p>Êàë‰ª¨ÂèØ‰ª•Â∞ÜÂØπË±°‰∫§ÁªôIoCÂÆπÂô®ËøõË°åÁÆ°ÁêÜÔºåÊØîÂ¶ÇÂΩìÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™Êé•Âè£ÁöÑÂÆûÁé∞Êó∂ÔºåÁî±ÂÆÉÊ†πÊçÆÈÖçÁΩÆÊñá‰ª∂Êù•ÂÜ≥ÂÆöÂà∞Â∫ïÁªôÊàë‰ª¨Âì™‰∏Ä‰∏™ÂÆûÁé∞Á±ªÔºåËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰∏çÁî®ÂÜçÂÖ≥ÂøÉÊàë‰ª¨Ë¶ÅÂéª‰ΩøÁî®Âì™‰∏Ä‰∏™ÂÆûÁé∞Á±ª‰∫ÜÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂÖ≥ÂøÉÔºåÁªôÂà∞ÊàëÁöÑ‰∏ÄÂÆöÊòØ‰∏Ä‰∏™ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®ÁöÑÂÆûÁé∞Á±ªÔºåËÉΩÁî®Â∞±ÂÆå‰∫ã‰∫ÜÔºåÂèçÊ≠£Êé•Âè£ÂÆö‰πâ‰∫ÜÂï•ÔºåÊàëÂè™ÁÆ°Ë∞ÉÔºåËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÊîæÂøÉÂú∞ËÆ©‰∏Ä‰∏™‰∫∫ÂéªÂÜôËßÜÂõæÂ±ÇÁöÑ‰ª£Á†ÅÔºå‰∏Ä‰∏™‰∫∫ÂéªÂÜô‰∏öÂä°Â±ÇÁöÑ‰ª£Á†ÅÔºåÂºÄÂèëÊïàÁéáÈÇ£ÊòØÈ´òÁöÑ‰∏ÄÂåπÂïä„ÄÇ</p>
<p>ËøòÊòØ‰πãÂâçÁöÑ‰ª£Á†ÅÔºå‰ΩÜÊòØÊúâ‰∫ÜIoCÂÆπÂô®Âä†ÊåÅ‰πãÂêéÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">A</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">A</span><span class="p">();</span>
<span class="w">    </span><span class="n">a</span><span class="p">.</span><span class="na">test</span><span class="p">(</span><span class="n">IoC</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Service</span><span class="p">.</span><span class="na">class</span><span class="p">));</span><span class="w">   </span><span class="c1">//ÁûéÁºñÁöÑ‰∏Ä‰∏™ÂÆπÂô®Á±ªÔºå‰ΩÜÊòØÊòØÈÇ£‰∏™ÊÑèÊÄù</span>
<span class="w">    </span><span class="c1">//ÊØîÂ¶ÇÁé∞Âú®Âú®IoCÂÆπÂô®‰∏≠ÁÆ°ÁêÜÁöÑServiceÁöÑÂÆûÁé∞ÊòØBÔºåÈÇ£‰πàÊàë‰ª¨‰ªéÈáåÈù¢ÊãøÂà∞ÁöÑServiceÂÆûÁé∞Â∞±ÊòØB</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">A</span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Service</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">;</span><span class="w">   </span><span class="c1">//‰∏ÄÂæã‰ΩøÁî®ServiceÔºåÂÖ∑‰ΩìÂÆûÁé∞Áî±IoCÂÆπÂô®Êèê‰æõ</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Service</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="n">Service</span><span class="w"> </span><span class="n">b</span><span class="p">){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">Service</span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">   </span><span class="c1">//‰ΩøÁî®ServiceÂÅö‰∏Ä‰∏™È°∂Â±ÇÊäΩË±°</span>

<span class="kd">class</span> <span class="nc">B</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Service</span><span class="p">{}</span><span class="w">  </span><span class="c1">//B‰æùÁÑ∂ÊòØÂÖ∑‰ΩìÂÆûÁé∞Á±ªÔºåÂπ∂‰∫§ÁªôIoCÂÆπÂô®ÁÆ°ÁêÜ</span>
</code></pre></div>
<p>ÂΩìÂÖ∑‰ΩìÂÆûÁé∞Á±ªÂèëÁîü‰øÆÊîπÊó∂ÔºåÊàë‰ª¨ÂêåÊ†∑Âè™ÈúÄË¶ÅÂ∞ÜÊñ∞ÁöÑÂÆûÁé∞Á±ª‰∫§ÁªôIoCÂÆπÂô®ÁÆ°ÁêÜÔºåËøôÊ†∑Êàë‰ª¨Êó†ÈúÄ‰øÆÊîπ‰πãÂâçÁöÑ‰ªª‰Ωï‰ª£Á†ÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">interface</span> <span class="nc">Service</span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="kd">class</span> <span class="nc">D</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Service</span><span class="p">{}</span><span class="w">   </span><span class="c1">//Áé∞Âú®ÂÆûÁé∞Á±ªÂèòÊàê‰∫ÜDÔºå‰ΩÜÊòØ‰πãÂâçÁöÑ‰ª£Á†ÅÂπ∂‰∏ç‰ºöÊä•Èîô</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÂç≥‰ΩøÊàë‰ª¨ÁöÑÂ∫ïÂ±ÇÂÆûÁé∞Á±ªÂèëÁîü‰∫Ü‰øÆÊîπÔºå‰πü‰∏ç‰ºöÂØºËá¥‰∏éÂÖ∂Áõ∏ÂÖ≥ËÅîÁöÑÁ±ªÂá∫Áé∞ÈîôËØØÔºåËÄåËøõË°åÂ§ßÈù¢ÁßØ‰øÆÊîπÔºåÈÄöËøáÂÆö‰πâÊäΩË±°+ÂÆπÂô®ÁÆ°ÁêÜÁöÑÂΩ¢ÂºèÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Â∞ÜÂéüÊúâÁöÑÂº∫ÂÖ≥ËÅîËß£Èô§„ÄÇ</p>
<p>È´òÂÜÖËÅöÔºå‰ΩéËÄ¶ÂêàÔºåÊòØÁé∞‰ª£ËΩØ‰ª∂ÁöÑÂºÄÂèëÁöÑËÆæËÆ°ÁõÆÊ†áÔºåËÄåSpringÊ°ÜÊû∂Â∞±ÁªôÊàë‰ª¨Êèê‰æõ‰∫ÜËøôÊ†∑ÁöÑ‰∏Ä‰∏™IoCÂÆπÂô®ËøõË°åÂØπË±°ÁöÑÁöÑÁÆ°ÁêÜÔºå‰∏Ä‰∏™Áî±Spring IoCÂÆπÂô®ÂÆû‰æãÂåñ„ÄÅÁªÑË£ÖÂíåÁÆ°ÁêÜÁöÑÂØπË±°ÔºåÊàë‰ª¨Áß∞ÂÖ∂‰∏∫Bean„ÄÇ</p>
<h3 id="spring_1">Á¨¨‰∏Ä‰∏™SpringÈ°πÁõÆ<a class="headerlink" href="#spring_1" title="Permanent link">&para;</a></h3>
<p>È¶ñÂÖà‰∏ÄÂÆöË¶ÅÊòéÁ°ÆÔºå‰ΩøÁî®SpringÈ¶ñË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫Ü‰ΩøÂæóËΩØ‰ª∂È°πÁõÆËøõË°åËß£ËÄ¶ÔºåËÄå‰∏çÊòØ‰∏∫‰∫ÜÂéªÁÆÄÂåñ‰ª£Á†ÅÔºÅÈÄöËøáÂÆÉÔºåÂ∞±ÂèØ‰ª•Êõ¥Â•ΩÁöÑÂØπÊàë‰ª¨ÁöÑBeanËøõË°åÁÆ°ÁêÜÔºåËøô‰∏ÄÈÉ®ÂàÜÊàë‰ª¨Êù•‰ΩìÈ™å‰∏Ä‰∏ãSpringÁöÑÂü∫Êú¨‰ΩøÁî®„ÄÇ</p>
<p>SpringÂπ∂‰∏çÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÊ°ÜÊû∂ÔºåÂÆÉÂÆûÈôÖ‰∏äÂåÖÂê´‰∫ÜÂæàÂ§öÁöÑÊ®°ÂùóÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/21/KT2XhuCNVmcSvi5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221121233807593" src="https://s2.loli.net/2022/11/21/KT2XhuCNVmcSvi5.png" /></a></p>
<p>ËÄåÊàë‰ª¨È¶ñÂÖàË¶ÅÂéªÂ≠¶‰π†ÁöÑÂ∞±ÊòØCore ContainerÔºå‰πüÂ∞±ÊòØÊ†∏ÂøÉÂÆπÂô®Ê®°ÂùóÔºåÂè™Êúâ‰∫ÜËß£‰∫ÜSpringÁöÑÊ†∏ÂøÉÊäÄÊúØÔºåÊàë‰ª¨ÊâçËÉΩÁúüÊ≠£ËÆ§ËØÜËøô‰∏™Ê°ÜÊû∂‰∏∫Êàë‰ª¨Â∏¶Êù•ÁöÑ‰æøÊç∑‰πãÂ§Ñ„ÄÇ</p>
<p>SpringÊòØ‰∏Ä‰∏™ÈùûÂÖ•‰æµÂºèÁöÑÊ°ÜÊû∂ÔºåÂ∞±ÂÉè‰∏Ä‰∏™Â∑•ÂÖ∑Â∫ì‰∏ÄÊ†∑ÔºåÂÆÉÂèØ‰ª•ÂæàÁÆÄÂçïÂú∞Âä†ÂÖ•Âà∞Êàë‰ª¨Â∑≤ÊúâÁöÑÈ°πÁõÆ‰∏≠ÔºåÂõ†Ê≠§ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÁõ¥Êé•ÂØºÂÖ•ÂÖ∂‰æùËµñÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫ÜÔºåSpringÊ†∏ÂøÉÊ°ÜÊû∂ÁöÑMaven‰æùËµñÂùêÊ†áÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-context<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>6.0.10<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p><strong>Ê≥®ÊÑèÔºö</strong>‰∏éÊóßÁâàÊïôÁ®ã‰∏çÂêåÁöÑÊòØÔºåSpring 6Ë¶ÅÊ±Ç‰Ω†‰ΩøÁî®ÁöÑJavaÁâàÊú¨‰∏∫<code>17</code>Âèä‰ª•‰∏äÔºåÂåÖÊã¨ÂêéÈù¢Êàë‰ª¨Âú®Â≠¶‰π†SpringMvcÊó∂ÔºåË¶ÅÊ±ÇTomcatÁâàÊú¨ÂøÖÈ°ª‰∏∫10‰ª•‰∏ä„ÄÇËøô‰∏™‰æùËµñ‰∏≠ÂåÖÂê´‰∫ÜÂ¶Ç‰∏ã‰æùËµñÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/HszTflPavUdQKGJ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122133820198" src="https://s2.loli.net/2022/11/22/HszTflPavUdQKGJ.png" /></a></p>
<p>ËøôÈáåÂá∫Áé∞ÁöÑÈÉΩÊòØSpringÊ†∏ÂøÉÁõ∏ÂÖ≥ÁöÑÂÜÖÂÆπÔºåÂ¶ÇBeans„ÄÅCore„ÄÅContext„ÄÅSpEL‰ª•ÂèäÈùûÂ∏∏ÂÖ≥ÈîÆÁöÑAOPÊ°ÜÊû∂ÔºåÂú®Êú¨Á´†‰∏≠ÔºåÊàë‰ª¨ÈÉΩ‰ºöËøõË°åËÆ≤Ëß£„ÄÇ</p>
<blockquote>
<p>Â¶ÇÊûúÂú®‰ΩøÁî®SpringÊ°ÜÊû∂ÁöÑËøáÁ®ã‰∏≠Âá∫Áé∞Â¶Ç‰∏ãË≠¶ÂëäÔºö</p>
<div class="highlight"><pre><span></span><code>12Êúà 17, 2022 3:26:26 ‰∏ãÂçà org.springframework.core.LocalVariableTableParameterNameDiscoverer inspectClass
Ë≠¶Âëä: Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: XXXX
</code></pre></div>
<p>ËøôÊòØÂõ†‰∏∫LocalVariableTableParameterNameDiscovererÂú®Spring 6.0.1ÁâàÊú¨Â∑≤ÁªèË¢´Ê†áËÆ∞‰∏∫ËøáÊó∂ÔºåÂπ∂‰∏îÂç≥Â∞ÜÁßªÈô§ÔºåËØ∑Âú®MavenÈÖçÁΩÆÊñá‰ª∂‰∏≠‰∏∫ÁºñËØëÊèí‰ª∂Ê∑ªÂä†<code>-parameters</code>ÁºñËØëÂèÇÊï∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;build&gt;</span>
<span class="w">    </span><span class="nt">&lt;pluginManagement&gt;</span>
<span class="w">        </span><span class="nt">&lt;plugins&gt;</span>
<span class="w">            </span><span class="nt">&lt;plugin&gt;</span>
<span class="w">                </span><span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">                </span><span class="nt">&lt;version&gt;</span>3.10.1<span class="nt">&lt;/version&gt;</span>
<span class="w">                </span><span class="nt">&lt;configuration&gt;</span>
<span class="w">                    </span><span class="nt">&lt;compilerArgs&gt;</span>
<span class="w">                        </span><span class="nt">&lt;arg&gt;</span>-parameters<span class="nt">&lt;/arg&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/compilerArgs&gt;</span>
<span class="w">                </span><span class="nt">&lt;/configuration&gt;</span>
<span class="w">            </span><span class="nt">&lt;/plugin&gt;</span>
<span class="w">        </span><span class="nt">&lt;/plugins&gt;</span>
<span class="w">    </span><span class="nt">&lt;/pluginManagement&gt;</span>
<span class="nt">&lt;/build&gt;</span>
</code></pre></div>
<p>Ê≤°ÊúâÊ≠§ÈóÆÈ¢òËØ∑Êó†ËßÜËøôÈÉ®ÂàÜ„ÄÇ</p>
</blockquote>
<p>ËøôÈáåÊàë‰ª¨Â∞±Êù•Â∞ùËØïÁºñÂÜô‰∏Ä‰∏™ÊúÄÁÆÄÁöÑSpringÈ°πÁõÆÔºåÊàë‰ª¨Âú®ÂâçÈù¢Â∑≤ÁªèËÆ≤Ëøá‰∫ÜÔºåSpring‰ºöÁªôÊàë‰ª¨Êèê‰æõIoCÂÆπÂô®Áî®‰∫éÁÆ°ÁêÜBeanÔºå‰ΩÜÊòØÊàë‰ª¨ÂæóÂÖà‰∏∫Ëøô‰∏™ÂÆπÂô®ÁºñÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÊñá‰ª∂ÂëäËØâÂÆπÂô®ÈúÄË¶ÅÁÆ°ÁêÜÂì™‰∫õBean‰ª•ÂèäBeanÁöÑÂ±ûÊÄß„ÄÅ‰æùËµñÂÖ≥Á≥ªÁ≠âÁ≠â„ÄÇ</p>
<p>È¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂú®resource‰∏≠ÂàõÂª∫‰∏Ä‰∏™SpringÈÖçÁΩÆÊñá‰ª∂ÔºàÂú®resource‰∏≠ÂàõÂª∫ÁöÑÊñá‰ª∂Ôºå‰ºöÂú®ÁºñËØëÊó∂Ë¢´‰∏ÄËµ∑ÊîæÂà∞Á±ªË∑ØÂæÑ‰∏ãÔºâÔºåÂëΩÂêç‰∏∫test.xmlÔºåÁõ¥Êé•Âè≥ÈîÆÁÇπÂáªÂç≥ÂèØÂàõÂª∫Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
<span class="w">       </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="w">       </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans</span>
<span class="s">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div>
<p>Ê≠§Êó∂IDEA‰ºöÊèêÁ§∫Êàë‰ª¨Ê≤°Êúâ‰∏∫Ê≠§Êñá‰ª∂ÈÖçÁΩÆÂ∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáÔºåËøôÈáåÊàë‰ª¨Âè™ÈúÄË¶ÅÊåáÂÆöÊàêÂΩìÂâçÈ°πÁõÆÂ∞±Ë°å‰∫ÜÔºåÂΩìÁÑ∂ÈÖçÁΩÆËøô‰∏™Âè™ÊòØ‰∏∫‰∫Ü‰ª£Á†ÅÊèêÁ§∫Âíå‰æùËµñÂÖ≥Á≥ªÂø´ÈÄüÊü•ÁúãÔºåÂ¶ÇÊûú‰∏çËøõË°åÈÖçÁΩÆ‰πü‰∏ç‰ºöÂΩ±Âìç‰ªÄ‰πàÔºåÁ®ãÂ∫è‰æùÁÑ∂ÂèØ‰ª•Ê≠£Â∏∏ËøêË°åÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/21/bBtrSWlVz9oD2JF.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221121234427739" src="https://s2.loli.net/2022/11/21/bBtrSWlVz9oD2JF.png" /></a></p>
<p>ËøôÈáåÊàë‰ª¨Áõ¥Êé•ÊåâÁÖßÈªòËÆ§ÈÖçÁΩÆÁÇπÁ°ÆÂÆöÂ∞±Ë°å‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/21/xoatfu4nX6iRr3v.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221121234447213" src="https://s2.loli.net/2022/11/21/xoatfu4nX6iRr3v.png" /></a></p>
<p>Spring‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™IoCÂÆπÂô®ÔºåÁî®‰∫éÂéªÂ≠òÊîæÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®ÁöÑÂØπË±°ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂØπË±°‰∫§ÁªôIoCÂÆπÂô®ËøõË°åÁÆ°ÁêÜÔºåÂΩìÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®ÂØπË±°Êó∂ÔºåÂ∞±ÂèØ‰ª•ÂêëIoCÂÆπÂô®ÂéªÁ¥¢Ë¶ÅÔºåÂπ∂Áî±ÂÆÉÊù•ÂÜ≥ÂÆöÁªôÊàë‰ª¨Âì™‰∏Ä‰∏™ÂØπË±°„ÄÇËÄåÊàë‰ª¨Â¶ÇÊûúÈúÄË¶Å‰ΩøÁî®Spring‰∏∫Êàë‰ª¨Êèê‰æõÁöÑIoCÂÆπÂô®ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáÔºåÂÆÉ‰ª£Ë°®ÁöÑÂ∞±ÊòØIoCÂÆπÂô®ÔºåÂÆÉ‰ºöË¥üË¥£ÂÆû‰æãÂåñ„ÄÅÈÖçÁΩÆÂíåÁªÑË£ÖBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//ApplicationContextÊòØÂ∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáÁöÑÈ°∂Â±ÇÊé•Âè£ÔºåÂÆÉÊúâÂæàÂ§öÁßçÂÆûÁé∞ÔºåËøôÈáåÊàë‰ª¨ÂÖà‰ªãÁªçÁ¨¨‰∏ÄÁßç</span>
<span class="w">    </span><span class="c1">//Âõ†‰∏∫ËøôÈáå‰ΩøÁî®ÁöÑÊòØXMLÈÖçÁΩÆÊñá‰ª∂ÔºåÊâÄ‰ª•ËØ¥Êàë‰ª¨Â∞±‰ΩøÁî® ClassPathXmlApplicationContext Ëøô‰∏™ÂÆûÁé∞Á±ª</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;test.xml&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">//ËøôÈáåÂÜô‰∏äÂàöÂàöÁöÑÂêçÂ≠ó</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊØîÂ¶ÇÁé∞Âú®Êàë‰ª¨Ë¶ÅËÆ©IoCÂÆπÂô®Â∏ÆÂä©Êàë‰ª¨ÁÆ°ÁêÜ‰∏Ä‰∏™StudentÂØπË±°ÔºàBeanÔºâÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅËøô‰∏™ÂØπË±°Êó∂ÂÜçÁî≥ËØ∑ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅËøôÊ†∑ÔºåÈ¶ñÂÖàÂÖàÂ∞ÜStudentÁ±ªÂÆö‰πâÂá∫Êù•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nn">com.test.bean</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">hello</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êó¢ÁÑ∂Áé∞Âú®Ë¶ÅËÆ©Âà´‰∫∫Â∏ÆÂøôÁÆ°ÁêÜÂØπË±°ÔºåÈÇ£‰πàÂ∞±‰∏çËÉΩÂÜçÁî±Êàë‰ª¨Ëá™Â∑±ÂéªnewËøô‰∏™ÂØπË±°‰∫ÜÔºåËÄåÊòØÁºñÂÜôÂØπÂ∫îÁöÑÈÖçÁΩÆÔºåÊàë‰ª¨ÊâìÂºÄÂàöÂàöÂàõÂª∫ÁöÑ<code>test.xml</code>Êñá‰ª∂ËøõË°åÁºñËæëÔºåÊ∑ªÂä†Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">bean</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="kd">class</span><span class="err">=&quot;</span><span class="nc">com</span><span class="p">.</span><span class="na">test</span><span class="p">.</span><span class="na">bean</span><span class="p">.</span><span class="na">Student</span><span class="s">&quot;/&gt;</span>
</code></pre></div>
<p>ËøôÈáåÊàë‰ª¨Â∞±Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁºñÂÜôÂ•Ω‰∫ÜÂØπÂ∫îBeanÁöÑ‰ø°ÊÅØÔºå‰πãÂêéÂÆπÂô®Â∞±‰ºöÊ†πÊçÆËøôÈáåÁöÑÈÖçÁΩÆËøõË°åÂ§ÑÁêÜ‰∫Ü„ÄÇ</p>
<p>Áé∞Âú®ÔºåËøô‰∏™ÂØπË±°‰∏çÈúÄË¶ÅÊàë‰ª¨ÂÜçÂéªÂàõÂª∫‰∫ÜÔºåËÄåÊòØÁî±IoCÂÆπÂô®Ëá™Âä®ËøõË°åÂàõÂª∫Âπ∂Êèê‰æõÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ªé‰∏ä‰∏ãÊñá‰∏≠Ëé∑ÂèñÂà∞ÂÆÉ‰∏∫Êàë‰ª¨ÂàõÂª∫ÁöÑÂØπË±°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;test.xml&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Student</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;student&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//‰ΩøÁî®getBeanÊñπÊ≥ïÊù•Ëé∑ÂèñÂØπÂ∫îÁöÑÂØπË±°ÔºàBeanÔºâ</span>
<span class="w">    </span><span class="n">student</span><span class="p">.</span><span class="na">hello</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÔºåËøôÈáåÂæóÂà∞ÁöÑStudentÂØπË±°ÊòØÁî±SpringÈÄöËøáÂèçÂ∞ÑÊú∫Âà∂Â∏ÆÂä©Êàë‰ª¨ÂàõÂª∫ÁöÑÔºåÂàùÂ≠¶ËÄÖ‰ºöÈùûÂ∏∏ÁñëÊÉëÔºå‰∏∫‰ªÄ‰πàË¶ÅËøôÊ†∑Êù•ÂàõÂª∫ÂØπË±°ÔºåÊàë‰ª¨Áõ¥Êé•new‰∏Ä‰∏™ÂÆÉ‰∏çÈ¶ôÂêóÔºü‰∏∫‰ªÄ‰πàË¶Å‰∫§ÁªôIoCÂÆπÂô®ÁÆ°ÁêÜÂë¢ÔºüÂú®ÂêéÈù¢ÁöÑÂ≠¶‰π†‰∏≠ÔºåÊàë‰ª¨ÂÜçÊÖ¢ÊÖ¢ËøõË°å‰Ωì‰ºö„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/sjLiFokU1f3CvH5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122153946251" src="https://s2.loli.net/2022/11/22/sjLiFokU1f3CvH5.png" /></a></p>
<h3 id="bean">BeanÊ≥®ÂÜå‰∏éÈÖçÁΩÆ<a class="headerlink" href="#bean" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨ÈÄöËøá‰∏Ä‰∏™ÁÆÄÂçï‰æãÂ≠ê‰ΩìÈ™å‰∫Ü‰∏Ä‰∏ãÂ¶Ç‰Ωï‰ΩøÁî®SpringÊù•ÁÆ°ÁêÜÊàë‰ª¨ÁöÑÂØπË±°ÔºåÂπ∂ÂêëIoCÂÆπÂô®Á¥¢Ë¶ÅË¢´ÁÆ°ÁêÜÁöÑÂØπË±°„ÄÇËøôËäÇËØæÊàë‰ª¨Â∞±Êù•ËØ¶ÁªÜ‰∫ÜËß£‰∏Ä‰∏ãÂ¶Ç‰ΩïÂêëSpringÊ≥®ÂÜåBean‰ª•ÂèäBeanÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆ„ÄÇ</p>
<p>ÂÆûÈôÖ‰∏äÊàë‰ª¨ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèØ‰ª•ÊúâÂæàÂ§ö‰∏™ÔºåÂπ∂‰∏îËøô‰∫õÈÖçÁΩÆÊñá‰ª∂ÊòØÂèØ‰ª•Áõ∏‰∫íÂØºÂÖ•ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span><span class="w"> </span><span class="err">...</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;import</span><span class="w"> </span><span class="na">resource=</span><span class="s">&quot;test.xml&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div>
<p>‰ΩÜÊòØ‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨ËøòÊòØ‰ªéÂçïÈÖçÁΩÆÊñá‰ª∂ÂºÄÂßãËÆ≤Ëµ∑ÔºåÈ¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìÂ¶Ç‰ΩïÈÖçÁΩÆBeanÂπ∂Ê≥®ÂÜå„ÄÇ</p>
<p>Ë¶ÅÈÖçÁΩÆ‰∏Ä‰∏™BeanÔºåÂè™ÈúÄË¶ÅÊ∑ªÂä†Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean/&gt;</span>
</code></pre></div>
<p>‰ΩÜÊòØËøôÊ†∑ÂÜôÁöÑËØùÔºåSpringÊó†Ê≥ïÂæóÁü•Êàë‰ª¨Ë¶ÅÈÖçÁΩÆÁöÑBeanÂà∞Â∫ïÊòØÂì™‰∏Ä‰∏™Á±ªÔºåÊâÄ‰ª•ËØ¥Êàë‰ª¨ËøòÂæóÊåáÂÆöÂØπÂ∫îÁöÑÁ±ªÊâçÂèØ‰ª•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/SRV3znQJH4A7vDl.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122164149924" src="https://s2.loli.net/2022/11/22/SRV3znQJH4A7vDl.png" /></a></p>
<p>ÂèØ‰ª•ÁúãÂà∞Á±ªÁöÑÊóÅËæπÂá∫Áé∞‰∫ÜBeanÁöÑÂõæÊ†áÔºåË°®Á§∫Êàë‰ª¨ÁöÑBeanÂ∑≤ÁªèÊ≥®ÂÜåÊàêÂäü‰∫ÜÔºåËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Ê†πÊçÆÁ±ªÂûãÂêëÂÆπÂô®Á¥¢Ë¶ÅBeanÂÆû‰æãÂØπË±°‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;test.xml&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//getBeanÊúâÂ§öÁßçÂΩ¢ÂºèÔºåÂÖ∂‰∏≠Á¨¨‰∏ÄÁßçÂ∞±ÊòØÊ†πÊçÆÁ±ªÂûãËé∑ÂèñÂØπÂ∫îÁöÑBean</span>
<span class="w">    </span><span class="c1">//ÂÆπÂô®‰∏≠Âè™Ë¶ÅÊ≥®ÂÜå‰∫ÜÂØπÂ∫îÁ±ªÁöÑBeanÊàñÊòØÂØπÂ∫îÁ±ªÂûãÂ≠êÁ±ªÁöÑBeanÔºåÈÉΩÂèØ‰ª•Ëé∑ÂèñÂà∞</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">student</span><span class="p">.</span><span class="na">hello</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>‰∏çËøáÂú®Êúâ‰∫õÊó∂ÂÄôÔºåBeanÁöÑËé∑ÂèñÂèØËÉΩ‰ºöÂá∫Áé∞Ê≠ß‰πâÔºåÊàë‰ª¨ÂèØ‰ª•Êù•ÂàÜÂà´Ê≥®ÂÜå‰∏§‰∏™Â≠êÁ±ªÁöÑBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArtStudent</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Student</span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">art</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÁà±ÁîªÁîª&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SportStudent</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Student</span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">sport</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÁà±ËøêÂä®&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtStudent&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.SportStudent&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>‰ΩÜÊòØÊ≠§Êó∂Êàë‰ª¨Âú®Ëé∑ÂèñBeanÊó∂Âç¥ÊòØÁ¥¢Ë¶ÅÁöÑÂÆÉ‰ª¨ÁöÑÁà∂Á±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">student</span><span class="p">.</span><span class="na">hello</span><span class="p">();</span>
</code></pre></div>
<p>ËøêË°åÊó∂ÂæóÂà∞Â¶Ç‰∏ãÊä•ÈîôÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/vliWJ4SZdx5E6yX.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122164100561" src="https://s2.loli.net/2022/11/22/vliWJ4SZdx5E6yX.png" /></a></p>
<p>ËøôÈáåÂá∫Áé∞‰∫Ü‰∏Ä‰∏™BeanÂÆö‰πâ‰∏çÂîØ‰∏ÄÂºÇÂ∏∏ÔºåÂæàÊòéÊòæÔºåÂõ†‰∏∫Êàë‰ª¨ÈúÄË¶ÅÁöÑÁ±ªÂûãÊòØStudentÔºå‰ΩÜÊòØÊ≠§Êó∂Êúâ‰∏§‰∏™BeanÂÆö‰πâÈÉΩÊª°Ë∂≥Ëøô‰∏™Á±ªÂûãÔºåÂÆÉ‰ª¨ÈÉΩÊòØStudentÁöÑÂ≠êÁ±ªÔºåÊ≠§Êó∂IoCÂÆπÂô®‰∏çÁü•ÈÅìÁªôÊàë‰ª¨ËøîÂõûÂì™‰∏Ä‰∏™BeanÔºåÊâÄ‰ª•Â∞±Âè™ËÉΩÊäõÂá∫ÂºÇÂ∏∏‰∫Ü„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™BeanÂπ∂‰∏î‰ΩøÁî®Á±ªÂûãËøõË°åËé∑ÂèñÔºåÈÇ£‰πàÂøÖÈ°ªË¶ÅÊåáÊòéÁ±ªÂûãÂπ∂‰∏î‰∏çËÉΩÂá∫Áé∞Ê≠ß‰πâÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">ArtStudent</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">ArtStudent</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">student</span><span class="p">.</span><span class="na">art</span><span class="p">();</span>
</code></pre></div>
<p>ÈÇ£Ë¶ÅÊòØ‰∏§‰∏™BeanÁöÑÁ±ªÂûãÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÂë¢Ôºü</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">bean</span><span class="w"> </span><span class="kd">class</span><span class="err">=&quot;</span><span class="nc">com</span><span class="p">.</span><span class="na">test</span><span class="p">.</span><span class="na">bean</span><span class="p">.</span><span class="na">Student</span><span class="s">&quot;/&gt;</span>
<span class="s">&lt;bean class=&quot;</span><span class="n">com</span><span class="p">.</span><span class="na">test</span><span class="p">.</span><span class="na">bean</span><span class="p">.</span><span class="na">Student</span><span class="s">&quot;/&gt;</span>
</code></pre></div>
<p>ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ∞±Êó†Ê≥ï‰ΩøÁî®ClassÊù•ËøõË°åÂå∫ÂàÜ‰∫ÜÔºåÈô§‰∫Ü‰∏∫BeanÊåáÂÆöÂØπÂ∫îÁ±ªÂûã‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰∏∫BeanÊåáÂÆö‰∏Ä‰∏™ÂêçÁß∞Áî®‰∫éÂå∫ÂàÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;art&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtStudent&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sport&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.SportStudent&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>nameÂ±ûÊÄßÂ∞±ÊòØ‰∏∫Ëøô‰∏™BeanËÆæÂÆö‰∏Ä‰∏™Áã¨‰∏ÄÊó†‰∫åÁöÑÂêçÁß∞ÔºàidÂ±ûÊÄß‰πüÂèØ‰ª•ÔºåË∑ünameÂäüËÉΩÁõ∏ÂêåÔºå‰ΩÜÊòØ‰ºöÊ£ÄÊü•ÂëΩÂêçÊòØÂê¶ËßÑËåÉÔºåÂê¶Âàô‰ºöÊòæÁ§∫ÈªÑÊ†áÔºâÔºå‰∏çÂêåÁöÑBeanÂêçÂ≠ó‰∏çËÉΩÁõ∏ÂêåÔºåÂê¶ÂàôÊä•ÈîôÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåËøô‰∏§‰∏™BeanÊàë‰ª¨Â∞±ÂèØ‰ª•Âå∫ÂàÜÂá∫Êù•‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Student</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="n">student</span><span class="p">.</span><span class="na">hello</span><span class="p">();</span>
</code></pre></div>
<p>ËôΩÁÑ∂ÁõÆÂâçËøô‰∏§BeanÂÆö‰πâÈÉΩÊòØ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÔºå‰πüÊ≤°‰ªÄ‰πàÂå∫Âà´Ôºå‰ΩÜÊòØËøôÁ°ÆÂÆûÊòØ‰∏§‰∏™‰∏çÂêåÁöÑBeanÔºåÂè™ÊòØÁ±ªÂûã‰∏ÄÊ†∑ËÄåÂ∑≤Ôºå‰πãÂêéÊàë‰ª¨ËøòÂèØ‰ª•‰∏∫Ëøô‰∏§‰∏™BeanÂàÜÂà´ËÆæÁΩÆ‰∏çÂêåÁöÑÂÖ∂‰ªñÂ±ûÊÄß„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•ÁªôBeanËµ∑ÂêçÂ≠óÔºå‰πüÂèØ‰ª•Ëµ∑Âà´ÂêçÔºåÂ∞±Ë°åÊàë‰ª¨Èô§‰∫ÜÊúâ‰∏Ä‰∏™ÂêçÂ≠ó‰πãÂ§ñÔºåÂèØËÉΩÂú®ÂÆ∂ÈáåËøòÊúâËá™Â∑±ÁöÑÂ∞èÂêçÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;alias</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="na">alias=</span><span class="s">&quot;test&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨‰ΩøÁî®Âà´Âêç‰πüÊòØÂèØ‰ª•ÊãøÂà∞ÂØπÂ∫îÁöÑBeanÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Student</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">);</span>
<span class="n">student</span><span class="p">.</span><span class="na">hello</span><span class="p">();</span>
</code></pre></div>
<p>ÈÇ£‰πàÁé∞Âú®ÂèàÊúâÊñ∞ÁöÑÈóÆÈ¢ò‰∫ÜÔºåIoCÂÆπÂô®ÂàõÂª∫ÁöÑBeanÊòØÂè™Êúâ‰∏Ä‰∏™ËøòÊòØÊØèÊ¨°Á¥¢Ë¶ÅÁöÑÊó∂ÂÄôÈÉΩ‰ºöÁªôÊàë‰ª¨‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°ÔºüÊàë‰ª¨Áé∞Âú®Âú®‰∏ªÊñπÊ≥ï‰∏≠ËøûÁª≠Ëé∑Âèñ‰∏§Ê¨°BeanÂØπË±°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">Student</span><span class="w"> </span><span class="n">student2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">student1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">student2</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÈªòËÆ§‰∏∫Âçï‰æãÊ®°ÂºèÔºåÂØπË±°ÂßãÁªà‰∏∫Âêå‰∏Ä‰∏™</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÊúÄÂêéÂæóÂà∞ÁöÑÁªìÊûú‰∏∫trueÔºåÈÇ£‰πàËØ¥ÊòéÊØèÊ¨°‰ªéIoCÂÆπÂô®Ëé∑ÂèñÂà∞ÁöÑÂØπË±°ÔºåÂßãÁªàÈÉΩÊòØÂêå‰∏Ä‰∏™ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÈÄöËøáIoCÂÆπÂô®ËøõË°åÁÆ°ÁêÜÁöÑBeanÈÉΩÊòØÂçï‰æãÊ®°ÂºèÁöÑÔºåËøô‰∏™ÂØπË±°Âè™‰ºöË¢´ÂàõÂª∫‰∏ÄÊ¨°„ÄÇ</p>
<p>Â¶ÇÊûúÊàë‰ª¨Â∏åÊúõÊØèÊ¨°ÊãøÂà∞ÁöÑÂØπË±°ÈÉΩÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÔºåÊàë‰ª¨‰πüÂèØ‰ª•Â∞ÜÂÖ∂‰ΩúÁî®ÂüüËøõË°å‰øÆÊîπÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/hDGo7m9uBlgVn5A.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122175719997" src="https://s2.loli.net/2022/11/22/hDGo7m9uBlgVn5A.png" /></a></p>
<p>ËøôÈáå‰∏ÄÂÖ±Êúâ‰∏§Áßç‰ΩúÁî®ÂüüÔºåÁ¨¨‰∏ÄÁßçÊòØ<code>singleton</code>ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂ∞±ÊòØËøô‰∏ÄÁßçÔºåÂΩìÁÑ∂ËøòÊúâ<code>prototype</code>ÔºåË°®Á§∫‰∏∫ÂéüÂûãÊ®°ÂºèÔºà‰∏∫‰∫ÜÊñπ‰æøÂè´Â§ö‰æãÊ®°Âºè‰πüË°åÔºâËøôÁßçÊ®°ÂºèÊØèÊ¨°ÂæóÂà∞ÁöÑÂØπË±°ÈÉΩÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">  </span><span class="c1">//ÂéüÂûãÊ®°Âºè‰∏ãÔºåÂØπË±°‰∏çÂÜçÂßãÁªàÊòØÂêå‰∏Ä‰∏™‰∫Ü</span>
<span class="n">Student</span><span class="w"> </span><span class="n">student2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">student1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">student2</span><span class="p">);</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÔºåÂΩìBeanÁöÑ‰ΩúÁî®Âüü‰∏∫Âçï‰æãÊ®°ÂºèÊó∂ÔºåÈÇ£‰πàÂÆÉ‰ºöÂú®‰∏ÄÂºÄÂßãÔºàÂÆπÂô®Âä†ËΩΩÈÖçÁΩÆÊó∂ÔºâÂ∞±Ë¢´ÂàõÂª∫ÔºåÊàë‰ª¨‰πãÂêéÊãøÂà∞ÁöÑÈÉΩÊòØËøô‰∏™ÂØπË±°„ÄÇËÄåÂ§Ñ‰∫éÂéüÂûãÊ®°Âºè‰∏ãÔºåÂè™ÊúâÂú®Ëé∑ÂèñÊó∂Êâç‰ºöË¢´ÂàõÂª∫Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÂçï‰æãÊ®°Âºè‰∏ãÔºåBean‰ºöË¢´IoCÂÆπÂô®Â≠òÂÇ®ÔºåÂè™Ë¶ÅÂÆπÂô®Ê≤°ÊúâË¢´ÈîÄÊØÅÔºåÈÇ£‰πàÊ≠§ÂØπË±°Â∞Ü‰∏ÄÁõ¥Â≠òÂú®ÔºåËÄåÂéüÂûãÊ®°ÂºèÊâçÊòØÁõ∏ÂΩì‰∫éÂú®Ë¶ÅÁî®ÁöÑÊó∂ÂÄôÁõ¥Êé•new‰∫Ü‰∏Ä‰∏™ÂØπË±°ÔºåÂπ∂‰∏ç‰ºöË¢´‰øùÂ≠ò„ÄÇ</p>
<p>ÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊàë‰ª¨Â∏åÊúõÂçï‰æãÊ®°Âºè‰∏ãÁöÑBean‰∏çÁî®ÂÜç‰∏ÄÂºÄÂßãÂ∞±Âä†ËΩΩÔºåËÄåÊòØ‰∏ÄÊ†∑Á≠âÂà∞ÈúÄË¶ÅÊó∂ÂÜçÂä†ËΩΩÔºàÂä†ËΩΩÂêé‰æùÁÑ∂‰ºöË¢´ÂÆπÂô®Â≠òÂÇ®Ôºå‰πãÂêé‰∏ÄÁõ¥‰ΩøÁî®Ëøô‰∏™ÂØπË±°‰∫ÜÔºå‰∏ç‰ºöÂÜçÂàõÂª∫Êñ∞ÁöÑÔºâÊàë‰ª¨‰πüÂèØ‰ª•ÂºÄÂêØÊáíÂä†ËΩΩÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="w"> </span><span class="na">lazy-init=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ÂºÄÂêØÊáíÂä†ËΩΩÂêéÔºåÂè™ÊúâÂú®ÁúüÊ≠£Á¨¨‰∏ÄÊ¨°‰ΩøÁî®Êó∂Êâç‰ºöÂàõÂª∫ÂØπË±°„ÄÇ</p>
<p>Âõ†‰∏∫Âçï‰æãÊ®°Âºè‰∏ãBeanÊòØÁî±IoCÂÆπÂô®Âä†ËΩΩÔºå‰ΩÜÊòØÂä†ËΩΩÈ°∫Â∫èÊàë‰ª¨Âπ∂‰∏çÊ∏ÖÊ•öÔºåÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÁª¥Êä§BeanÁöÑÂä†ËΩΩÈ°∫Â∫èÔºàÊØîÂ¶ÇÊüê‰∏™BeanÂøÖÈ°ªË¶ÅÂú®Âè¶‰∏Ä‰∏™Bean‰πãÂâçÂàõÂª∫ÔºâÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®<code>depends-on</code>Êù•ËÆæÂÆöÂâçÁΩÆÂä†ËΩΩBeanÔºåËøôÊ†∑Ë¢´‰æùËµñÁöÑBean‰∏ÄÂÆö‰ºöÂú®‰πãÂâçÂä†ËΩΩÔºåÊØîÂ¶ÇTeacherÂ∫îËØ•Âú®Student‰πãÂâçÂä†ËΩΩÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Teacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="w"> </span><span class="na">depends-on=</span><span class="s">&quot;teacher&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑Â∞±ÂèØ‰ª•‰øùËØÅBeanÁöÑÂä†ËΩΩÈ°∫Â∫è‰∫Ü„ÄÇ</p>
<h3 id="_1">‰æùËµñÊ≥®ÂÖ•<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>‰æùËµñÊ≥®ÂÖ•(Dependency Injection, DI)ÊòØ‰∏ÄÁßçËÆæËÆ°Ê®°ÂºèÔºå‰πüÊòØSpringÊ°ÜÊû∂ÁöÑÊ†∏ÂøÉÊ¶ÇÂøµ‰πã‰∏Ä„ÄÇÁé∞Âú®Êàë‰ª¨Â∑≤Áªè‰∫ÜËß£‰∫ÜÂ¶Ç‰ΩïÊ≥®ÂÜåÂíå‰ΩøÁî®‰∏Ä‰∏™BeanÔºå‰ΩÜÊòØËøôÊ†∑ËøòËøúËøú‰∏çÂ§üÔºåËøòËÆ∞ÂæóÊàë‰ª¨‰∏ÄÂºÄÂßãËØ¥ÁöÑÔºåÊ∂àÈô§Á±ª‰πãÈó¥ÁöÑÂº∫ÂÖ≥ËÅîÂêóÔºüÊØîÂ¶ÇÁé∞Âú®Êúâ‰∏Ä‰∏™ÊïôÂ∏àÊé•Âè£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Teacher</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">teach</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÖ∑‰ΩìÁöÑÂÆûÁé∞Êúâ‰∏§‰∏™Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArtTeacher</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Teacher</span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">teach</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÁæéÊúØËÄÅÂ∏àÔºåÊàëÊïô‰Ω†ÁîªÁîªÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ProgramTeacher</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Teacher</span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">teach</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÁºñÁ®ãËÄÅÂ∏àÔºåÊàëÊïô‰Ω†Â≠¶GolangÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÁöÑÂ≠¶Áîü‰∏ÄÂºÄÂßãÊúâ‰∏Ä‰∏™ËÄÅÂ∏àÊïô‰ªñÔºåÊØîÂ¶ÇÁæéÊúØËÄÅÂ∏àÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArtTeacher</span><span class="p">();</span><span class="w">   </span>
<span class="w">    </span><span class="c1">//Âú®‰ª•ÂâçÔºåÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÂà∂ÂÆöÂì™‰∏™ËÄÅÂ∏àÊïôÊàë‰ª¨ÔºåÁõ¥Êé•newÂàõÂª∫ÂØπÂ∫îÁöÑÂØπË±°Â∞±ÂèØ‰ª•‰∫Ü</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">study</span><span class="p">(){</span>
<span class="w">        </span><span class="n">teacher</span><span class="p">.</span><span class="na">teach</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>‰ΩÜÊòØÊàë‰ª¨ÂèëÁé∞ÔºåÂ¶ÇÊûúÁæéÊúØËÄÅÂ∏à‰∏çÊïô‰∫ÜÔºåÁé∞Âú®Êù•‰∫Ü‰∏Ä‰∏™ÂÖ∂‰ªñÁöÑËÄÅÂ∏àÊïôÂ≠¶ÁîüÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂéª‰øÆÊîπStudentÁ±ªÁöÑÂÆö‰πâÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ProgramTeacher</span><span class="p">();</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>ÂèØ‰ª•ÊÉ≥Ë±°‰∏Ä‰∏ãÔºåÂ¶ÇÊûúÁé∞Âú®ÂÜíÂá∫Êù•ÂêÑÁßçÂêÑÊ†∑ÁöÑÁ±ªÈÉΩÈúÄË¶ÅËøôÊ†∑ÂéªÁî®TeacherÔºåÈÇ£‰πà‰∏ÄÊó¶TeacherÁöÑÂÆûÁé∞ÂèëÁîüÂèòÂåñÔºå‰ºöÂØºËá¥Êàë‰ª¨Êå®‰∏™ÂØπ‰πãÂâçÁî®Âà∞TeacherÁöÑÁ±ªËøõË°å‰øÆÊîπÔºåËøôÂ∞±ÂæàÈöæÂèó‰∫Ü„ÄÇ</p>
<p>ËÄåÊúâ‰∫Ü‰æùËµñÊ≥®ÂÖ•‰πãÂêéÔºåStudent‰∏≠ÁöÑTeacherÊàêÂëòÂèòÈáèÔºåÂèØ‰ª•Áî±IoCÂÆπÂô®Êù•ÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑTeacherÂØπË±°ËøõË°åËµãÂÄºÔºå‰πüÂ∞±ÊòØËØ¥ÔºåIoCÂÆπÂô®Âú®ÂàõÂª∫ÂØπË±°Êó∂ÔºåÈúÄË¶ÅÂ∞ÜÊàë‰ª¨È¢ÑÂÖàÁªôÂÆöÁöÑÂ±ûÊÄßÊ≥®ÂÖ•Âà∞ÂØπË±°‰∏≠ÔºåÈùûÂ∏∏ÁÆÄÂçïÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®<code>property</code>Ê†áÁ≠æÊù•ÂÆûÁé∞ÔºåÊàë‰ª¨Â∞ÜbeanÊ†áÁ≠æÂ±ïÂºÄÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ProgramTeacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;teacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>ÂêåÊó∂Êàë‰ª¨ËøòÈúÄË¶Å‰øÆÊîπ‰∏Ä‰∏ãStudentÁ±ªÔºå‰æùËµñÊ≥®ÂÖ•Ë¶ÅÊ±ÇÂØπÂ∫îÁöÑÂ±ûÊÄßÂøÖÈ°ªÊúâ‰∏Ä‰∏™setÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//Ë¶Å‰ΩøÁî®‰æùËµñÊ≥®ÂÖ•ÔºåÊàë‰ª¨ÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏™setÊñπÊ≥ïÔºàÊó†ËÆ∫ÊàêÂëòÂèòÈáèÁöÑËÆøÈóÆÊùÉÈôêÊòØ‰ªÄ‰πàÔºâÂëΩÂêçËßÑÂàô‰æùÁÑ∂ÊòØÈ©ºÂ≥∞ÂëΩÂêçÊ≥ï</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setTeacher</span><span class="p">(</span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">teacher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/wu2EYC8HToJbsva.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122191025279" src="https://s2.loli.net/2022/11/22/wu2EYC8HToJbsva.png" /></a></p>
<p>‰ΩøÁî®<code>property</code>Êù•ÊåáÂÆöÈúÄË¶ÅÊ≥®ÂÖ•ÁöÑÂÄºÊàñÊòØ‰∏Ä‰∏™BeanÔºåËøôÈáåÊàë‰ª¨ÈÄâÊã©ProgramTeacherÔºåÈÇ£‰πàÂú®‰ΩøÁî®Êó∂ÔºåStudentÁ±ª‰∏≠ÁöÑÂæóÂà∞ÁöÑÂ∞±ÊòØËøô‰∏™BeanÁöÑÂØπË±°‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">student</span><span class="p">.</span><span class="na">study</span><span class="p">();</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/n3zYWvIoE8CrRDT.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122191109690" src="https://s2.loli.net/2022/11/22/n3zYWvIoE8CrRDT.png" /></a></p>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÁé∞Âú®Êàë‰ª¨ÁöÑJava‰ª£Á†Å‰∏≠ÔºåÊ≤°ÊúâÂá∫Áé∞‰ªª‰ΩïÁöÑÂÖ∑‰ΩìÂÆûÁé∞Á±ª‰ø°ÊÅØÔºàArtTeacher„ÄÅProgramTeacherÈÉΩÊ≤°Âá∫Áé∞ÔºâÂèñËÄå‰ª£‰πãÁöÑÊòØÈÇ£‰∏ÄÂ†ÜxmlÈÖçÁΩÆÔºåËøôÊ†∑ÔºåÂ∞±ÁÆóÊàë‰ª¨ÂàáÊç¢ËÄÅÂ∏àÁöÑÂÆûÁé∞‰∏∫Âè¶‰∏Ä‰∏™Á±ªÔºå‰πü‰∏çÁî®ÂéªË∞ÉÊï¥‰ª£Á†ÅÔºåÂè™ÈúÄË¶ÅÂèòÂä®‰∏Ä‰∏ãBeanÁöÑÁ±ªÂûãÂ∞±ÂèØ‰ª•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!--  Âè™ÈúÄË¶Å‰øÆÊîπËøôÈáåÁöÑclassÂç≥ÂèØÔºåÁé∞Âú®Êîπ‰∏∫ArtTeacher  --&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtTeacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;teacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåËøô‰∏™BeanÁöÑclassÂ∞±ÂèòÊàê‰∫ÜÊñ∞ÁöÑÁ±ªÂûãÔºåÂπ∂‰∏îÊàë‰ª¨‰∏çÈúÄË¶ÅÂÜçÂéªË∞ÉÊï¥ÂÖ∂‰ªñ‰ΩçÁΩÆÁöÑ‰ª£Á†ÅÔºåÂÜçÊ¨°ÂêØÂä®Á®ãÂ∫èÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/evKArqDYcIQPCXT.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122191427776" src="https://s2.loli.net/2022/11/22/evKArqDYcIQPCXT.png" /></a></p>
<p>ÈÄöËøá‰æùËµñÊ≥®ÂÖ•ÔºåÊòØ‰∏çÊòØÂºÄÂßãÈÄêÊ∏êÊÑüÂèóÂà∞Spring‰∏∫Êàë‰ª¨Â∏¶Êù•ÁöÑ‰æøÂà©‰∫ÜÔºüÂΩìÁÑ∂Ôºå‰æùËµñÊ≥®ÂÖ•Âπ∂‰∏ç‰∏ÄÂÆöË¶ÅÊ≥®ÂÖ•ÂÖ∂‰ªñÁöÑBeanÔºå‰πüÂèØ‰ª•ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÄºÔºö</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">bean</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="kd">class</span><span class="err">=&quot;</span><span class="nc">com</span><span class="p">.</span><span class="na">test</span><span class="p">.</span><span class="na">bean</span><span class="p">.</span><span class="na">Student</span><span class="s">&quot;&gt;</span>
<span class="s">    &lt;property name=&quot;</span><span class="n">name</span><span class="s">&quot; value=&quot;</span><span class="n">Âç¢Êú¨‰ºü</span><span class="s">&quot;/&gt;</span>
<span class="s">&lt;/bean&gt;</span>
</code></pre></div>
<p>Áõ¥Êé•‰ΩøÁî®<code>value</code>ÂèØ‰ª•Áõ¥Êé•‰º†ÂÖ•‰∏Ä‰∏™ÂÖ∑‰ΩìÂÄº„ÄÇ</p>
<p>ÂÆûÈôÖ‰∏äÔºåÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåÁ±ª‰∏≠ÁöÑÊüê‰∫õÂèÇÊï∞ÊòØÂú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠Â∞±Â∑≤ÁªèÂÆåÊàêÁöÑÂàùÂßãÂåñÔºåËÄå‰∏çÊòØÂàõÂª∫‰πãÂêéÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span><span class="w">   </span><span class="c1">//ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÂÆåÊàêÔºåÊâÄ‰ª•ËØ¥ÊòØ‰∏Ä‰∏™finalÂèòÈáè</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Student</span><span class="p">(</span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">){</span><span class="w">   </span><span class="c1">//TeacherÂ±ûÊÄßÊòØÂú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÂÆåÊàêÁöÑÂàùÂßãÂåñ</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">teacher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>Êàë‰ª¨ÂâçÈù¢ËØ¥‰∫ÜÔºåBeanÂÆûÈôÖ‰∏äÊòØÁî±IoCÂÆπÂô®ËøõË°åÂàõÂª∫ÁöÑÔºå‰ΩÜÊòØÁé∞Âú®Êàë‰ª¨‰øÆÊîπ‰∫ÜÈªòËÆ§ÁöÑÊó†ÂèÇÊûÑÈÄ†ÔºåÂèØ‰ª•ÁúãÂà∞ÈÖçÁΩÆÊñá‰ª∂ÈáåÈù¢Êä•Èîô‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/5HN8GKQywWaYvrF.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122174328107" src="https://s2.loli.net/2022/11/22/5HN8GKQywWaYvrF.png" /></a></p>
<p>ÂæàÊòéÊòæÔºåÊòØÂõ†‰∏∫Êàë‰ª¨‰øÆÊîπ‰∫ÜÊûÑÈÄ†ÊñπÊ≥ïÔºåIoCÂÆπÂô®ÈªòËÆ§Âè™‰ºöË∞ÉÁî®Êó†ÂèÇÊûÑÈÄ†ÔºåÊâÄ‰ª•ÔºåÊàë‰ª¨ÈúÄË¶ÅÊåáÊòé‰∏Ä‰∏™ÂèØ‰ª•Áî®ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåÊàë‰ª¨Â±ïÂºÄbeanÊ†áÁ≠æÔºåÊ∑ªÂä†‰∏Ä‰∏™<code>constructor-arg</code>Ê†áÁ≠æÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtTeacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;constructor-arg</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;teacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>ËøôÈáåÁöÑ<code>constructor-arg</code>Â∞±ÊòØÊûÑÈÄ†ÊñπÊ≥ïÁöÑ‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøô‰∏™ÂèÇÊï∞ÂèØ‰ª•ÂÜôÂæàÂ§ö‰∏™Ôºå‰ºöËá™Âä®ÂåπÈÖçÁ¨¶ÂêàÈáåÈù¢ÂèÇÊï∞Êï∞ÈáèÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåËøôÈáåÂåπÈÖçÁöÑÂ∞±ÊòØÊàë‰ª¨ÂàöÂàöÁºñÂÜôÁöÑÈúÄË¶Å‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ï„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/evKArqDYcIQPCXT.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122191427776" src="https://s2.loli.net/2022/11/22/evKArqDYcIQPCXT.png" /></a></p>
<p>ÈÄöËøáËøôÁßçÊñπÂºèÔºåÊàë‰ª¨‰πüËÉΩÂÆûÁé∞‰æùËµñÊ≥®ÂÖ•ÔºåÂè™‰∏çËøáÁé∞Âú®Êàë‰ª¨Â∞Ü‰æùËµñÊ≥®ÂÖ•ÁöÑÊó∂Êú∫ÊèêÂâçÂà∞‰∫ÜÂØπË±°ÊûÑÈÄ†Êó∂„ÄÇ</p>
<p>ÈÇ£Ë¶ÅÊòØÂá∫Áé∞ËøôÁßçÊÉÖÂÜµÂë¢ÔºüÁé∞Âú®Êàë‰ª¨ÁöÑStudentÁ±ª‰∏≠ÊòØËøôÊ†∑ÂÆö‰πâÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Student</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰∏ÄÂè∑ÊûÑÈÄ†ÊñπÊ≥ï&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Student</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰∫åÂè∑ÊûÑÈÄ†ÊñπÊ≥ï&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">age</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≠§Êó∂Êàë‰ª¨Â∏åÊúõ‰ΩøÁî®ÁöÑÊòØ‰∫åÂè∑ÊûÑÈÄ†ÊñπÊ≥ïÔºåÈÇ£‰πàÊÄé‰πàÊâçËÉΩÊåáÂÆöÂë¢ÔºüÊúâ2ÁßçÊñπÂºèÔºåÊàë‰ª¨ÂèØ‰ª•ÁªôÊ†áÁ≠æÊ∑ªÂä†Á±ªÂûãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;constructor-arg</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;int&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>‰πüÂèØ‰ª•ÊåáÂÆö‰∏∫ÂØπÂ∫îÁöÑÂèÇÊï∞ÂêçÁß∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;constructor-arg</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;age&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ÂèçÊ≠£Âè™Ë¶ÅËÉΩÂ§ü‰øùËØÅÊàë‰ª¨ÊåáÂÆöÁöÑÂèÇÊï∞ÂåπÈÖçÂà∞ÁõÆÊ†áÊûÑÈÄ†ÊñπÊ≥ïÂç≥ÂèØ„ÄÇ</p>
<p>Áé∞Âú®Êàë‰ª¨ÁöÑÁ±ª‰∏≠Âá∫Áé∞‰∫Ü‰∏Ä‰∏™ÊØîËæÉÁâπÊÆäÁöÑÁ±ªÂûãÔºåÂÆÉÊòØ‰∏Ä‰∏™ÈõÜÂêàÁ±ªÂûãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setList</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂØπ‰∫éËøôÁßçÈõÜÂêàÁ±ªÂûãÔºåÊúâÁùÄÁâπÊÆäÁöÑÊîØÊåÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="cm">&lt;!--  ÂØπ‰∫éÈõÜÂêàÁ±ªÂûãÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ê†áÁ≠æÁºñËæëÈõÜÂêàÁöÑÈªòËÆ§ÂÄº  --&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;list&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;list&gt;</span>
<span class="w">            </span><span class="nt">&lt;value&gt;</span>AAA<span class="nt">&lt;/value&gt;</span>
<span class="w">            </span><span class="nt">&lt;value&gt;</span>BBB<span class="nt">&lt;/value&gt;</span>
<span class="w">            </span><span class="nt">&lt;value&gt;</span>CCC<span class="nt">&lt;/value&gt;</span>
<span class="w">        </span><span class="nt">&lt;/list&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>‰∏ç‰ªÖ‰ªÖÊòØListÔºåMap„ÄÅSetËøôÁ±ªÂ∏∏Áî®ÈõÜÂêàÁ±ªÂåÖÊã¨Êï∞ÁªÑÂú®ÂÜÖÔºåÈÉΩÊòØÊîØÊåÅËøôÊ†∑ÁºñÂÜôÁöÑÔºåÊØîÂ¶ÇMapÁ±ªÂûãÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®<code>entry</code>Êù•Ê≥®ÂÖ•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;map&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;map&gt;</span>
<span class="w">            </span><span class="nt">&lt;entry</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;ËØ≠Êñá&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;100.0&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;entry</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;Êï∞Â≠¶&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;80.0&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;entry</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;Ëã±ËØ≠&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;92.5&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/map&gt;</span>
<span class="w">    </span><span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>Ëá≥Ê≠§ÔºåÊàë‰ª¨Â∞±Â∑≤ÁªèÂÆåÊàê‰∫Ü‰∏§Áßç‰æùËµñÊ≥®ÂÖ•ÁöÑÂ≠¶‰π†Ôºö</p>
<ul>
<li>Setter‰æùËµñÊ≥®ÂÖ•ÔºöÈÄöËøáÊàêÂëòÂ±ûÊÄßÂØπÂ∫îÁöÑsetÊñπÊ≥ïÂÆåÊàêÊ≥®ÂÖ•„ÄÇ</li>
<li>ÊûÑÈÄ†ÊñπÊ≥ï‰æùËµñÊ≥®ÂÖ•ÔºöÈÄöËøáÊûÑÈÄ†ÊñπÊ≥ïÂÆåÊàêÊ≥®ÂÖ•„ÄÇ</li>
</ul>
<h3 id="_2">Ëá™Âä®Ë£ÖÈÖç<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>Âú®‰πãÂâçÔºåÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®‰æùËµñÊ≥®ÂÖ•ÁöÑËØùÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ<code>property</code>ÂèÇÊï∞ËøõË°åÈÖçÁΩÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;teacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>‰ΩÜÊòØÊúâ‰∫õÊó∂ÂÄô‰∏∫‰∫ÜÊñπ‰æøÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÂºÄÂêØËá™Âä®Ë£ÖÈÖç„ÄÇËá™Âä®Ë£ÖÈÖçÂ∞±ÊòØËÆ©IoCÂÆπÂô®Ëá™Â∑±ÂéªÂØªÊâæÈúÄË¶ÅÂ°´ÂÖ•ÁöÑÂÄºÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂ∞ÜsetÊñπÊ≥ïÊèê‰æõÂ•ΩÂ∞±ÂèØ‰ª•‰∫ÜÔºåËøôÈáåÈúÄË¶ÅÊ∑ªÂä†autowireÂ±ûÊÄßÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="w"> </span><span class="na">autowire=</span><span class="s">&quot;byType&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p><code>autowire</code>Â±ûÊÄßÊúâ‰∏§‰∏™ÂÄºÊôÆÈÄöÔºå‰∏Ä‰∏™ÊòØbyNameÔºåËøòÊúâ‰∏Ä‰∏™ÊòØbyTypeÔºåÈ°æÂêçÊÄù‰πâÔºå‰∏Ä‰∏™ÊòØÊ†πÊçÆÁ±ªÂûãÂéªÂØªÊâæÂêàÈÄÇÁöÑBeanËá™Âä®Ë£ÖÈÖçÔºåËøòÊúâ‰∏Ä‰∏™ÊòØÊ†πÊçÆÂêçÂ≠óÂéªÊâæÔºåËøôÊ†∑Êàë‰ª¨Â∞±‰∏çÈúÄË¶ÅÊòæÂºèÊåáÂÆö<code>property</code>‰∫Ü„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/QIBRwScq6fu4XDm.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122221936559" src="https://s2.loli.net/2022/11/22/QIBRwScq6fu4XDm.png" /></a></p>
<p>Ê≠§Êó∂setÊñπÊ≥ïÊóÅËæπ‰ºöÂá∫Áé∞‰∏Ä‰∏™Ëá™Âä®Ë£ÖÈÖçÂõæÊ†áÔºåÊïàÊûúÂíå‰∏äÈù¢ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ</p>
<p>ÂØπ‰∫é‰ΩøÁî®ÊûÑÈÄ†ÊñπÊ≥ïÂÆåÊàêÁöÑ‰æùËµñÊ≥®ÂÖ•Ôºå‰πüÊîØÊåÅËá™Âä®Ë£ÖÈÖçÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂ∞Üautowire‰øÆÊîπ‰∏∫Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="w"> </span><span class="na">autowire=</span><span class="s">&quot;constructor&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ÂØπÂ∫îÂèÇÊï∞ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂ∞±ÂèØ‰ª•‰∫ÜÔºàËøôÁßçÊÉÖÂÜµÈªòËÆ§‰πüÊòØbyTypeÂØªÊâæÁöÑÔºâÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/rgl7fXJ2ZKAU8Rd.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122230320004" src="https://s2.loli.net/2022/11/22/rgl7fXJ2ZKAU8Rd.png" /></a></p>
<p>ËøôÊ†∑ÂêåÊ†∑ÂèØ‰ª•ÂÆåÊàêËá™Âä®Ê≥®ÂÖ•Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/evKArqDYcIQPCXT.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122191427776" src="https://s2.loli.net/2022/11/22/evKArqDYcIQPCXT.png" /></a></p>
<p>Ëá™Âä®ÂåñÁöÑ‰∏úË•øËôΩÁÑ∂ÁúÅ‰∫ãÔºå‰ΩÜÊòØÂ§™ËøáÊú∫Ê¢∞ÔºåÊúâ‰∫õÊó∂ÂÄôÔºåËá™Âä®Ë£ÖÈÖçÂèØËÉΩ‰ºöÈÅáÂà∞‰∏Ä‰∫õÈóÆÈ¢òÔºåÊØîÂ¶ÇÂá∫Áé∞‰∫Ü‰∏ãÈù¢ÁöÑÊÉÖÂÜµÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/22/SQTchJBq4G8NWyC.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221122223048820" src="https://s2.loli.net/2022/11/22/SQTchJBq4G8NWyC.png" /></a></p>
<p>Ê≠§Êó∂ÔºåÁî±‰∫é<code>autowire</code>ÁöÑËßÑÂàô‰∏∫byTypeÔºåÂ≠òÂú®‰∏§‰∏™ÂÄôÈÄâBeanÔºå‰ΩÜÊòØÊàë‰ª¨ÂÖ∂ÂÆûÂ∏åÊúõProgramTeacherËøô‰∏™BeanÂú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÈÉΩ‰∏çÂèÇ‰∏éÂà∞Ëá™Âä®Ë£ÖÈÖç‰∏≠ÔºåÊ≠§Êó∂Êàë‰ª¨Â∞±ÂèØ‰ª•Â∞ÜÂÆÉÁöÑËá™Âä®Ë£ÖÈÖçÂÄôÈÄâÂÖ≥Èó≠Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtTeacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher2&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ProgramTeacher&quot;</span><span class="w"> </span><span class="na">autowire-candidate=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="w"> </span><span class="na">autowire=</span><span class="s">&quot;byType&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ÂΩì<code>autowire-candidate</code>ËÆæÂÆöfalseÊó∂ÔºåËøô‰∏™BeanÂ∞Ü‰∏çÂÜç‰Ωú‰∏∫Ëá™Âä®Ë£ÖÈÖçÁöÑÂÄôÈÄâBeanÔºåÊ≠§Êó∂Ëá™Âä®Ë£ÖÈÖçÂÄôÈÄâÂ∞±Âè™Ââ©‰∏ã‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑBean‰∫ÜÔºåÊä•ÈîôÊ∂àÂ§±ÔºåÁ®ãÂ∫èÂèØ‰ª•Ê≠£Â∏∏ËøêË°å„ÄÇ</p>
<p>Èô§‰∫ÜËøôÁßçÊñπÂºèÔºåÊàë‰ª¨‰πüÂèØ‰ª•ËÆæÂÆöprimaryÂ±ûÊÄßÔºåË°®Á§∫Ëøô‰∏™Bean‰Ωú‰∏∫‰∏ªË¶ÅÁöÑBeanÔºåÂΩìÂá∫Áé∞Ê≠ß‰πâÊó∂Ôºå‰πü‰ºö‰ºòÂÖàÈÄâÊã©Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtTeacher&quot;</span><span class="w"> </span><span class="na">primary=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher2&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ProgramTeacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="w"> </span><span class="na">autowire=</span><span class="s">&quot;byType&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÂÜôÁ®ãÂ∫è‰æùÁÑ∂ÂèØ‰ª•Ê≠£Â∏∏ËøêË°åÔºåÂπ∂‰∏îÈÄâÊã©ÁöÑ‰πüÊòØArtTeacherÔºàÂ∞±ÊòØ‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πàIDEA‰ºö‰∏äÁ∫¢Ê†áÔºåBUGÔºüÔºâ</p>
<h3 id="_3">ÁîüÂëΩÂë®Êúü‰∏éÁªßÊâø<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>Èô§‰∫Ü‰øÆÊîπÊûÑÈÄ†ÊñπÊ≥ïÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰∏∫BeanÊåáÂÆöÂàùÂßãÂåñÊñπÊ≥ïÂíåÈîÄÊØÅÊñπÊ≥ïÔºå‰ª•‰æøÂú®ÂØπË±°ÂàõÂª∫ÂíåË¢´ÈîÄÊØÅÊó∂ÊâßË°å‰∏Ä‰∫õÂÖ∂‰ªñÁöÑ‰ªªÂä°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂØπË±°ÂàùÂßãÂåñÊó∂Ë¶ÅÂÅöÁöÑ‰∫ãÊÉÖÔºÅ&quot;</span><span class="p">);</span><span class="w">    </span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">destroy</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂØπË±°ÈîÄÊØÅÊó∂Ë¶ÅÂÅöÁöÑ‰∫ãÊÉÖÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèØ‰ª•ÈÄöËøá<code>init-method</code>Âíå<code>destroy-method</code>Êù•ÊåáÂÆöÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="w"> </span><span class="na">init-method=</span><span class="s">&quot;init&quot;</span><span class="w"> </span><span class="na">destroy-method=</span><span class="s">&quot;destroy&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ÈÇ£‰πà‰ªÄ‰πàÊó∂ÂÄôÊòØÂàùÂßãÂåñÔºå‰ªÄ‰πàÊó∂ÂÄôÂèàÊòØÈîÄÊØÅÂë¢Ôºü</p>
<div class="highlight"><pre><span></span><code><span class="c1">//ÂΩìÂÆπÂô®ÂàõÂª∫Êó∂ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãBeanÈÉΩÊòØÂçï‰æãÁöÑÔºåÈÇ£‰πàÈÉΩ‰ºöÂú®‰∏ÄÂºÄÂßãÂ∞±Âä†ËΩΩÂ•ΩÔºåÂØπË±°ÊûÑÈÄ†ÂÆåÊàêÂêéÔºå‰ºöÊâßË°åinit-method</span>
<span class="n">ClassPathXmlApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;test.xml&quot;</span><span class="p">);</span>
<span class="c1">//Êàë‰ª¨ÂèØ‰ª•Ë∞ÉÁî®closeÊñπÊ≥ïÂÖ≥Èó≠ÂÆπÂô®ÔºåÊ≠§Êó∂ÂÆπÂô®ÂÜÖÂ≠òÊîæÁöÑBean‰πü‰ºöË¢´‰∏ÄËµ∑ÈîÄÊØÅÔºå‰ºöÊâßË°ådestroy-method</span>
<span class="n">context</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</code></pre></div>
<p>ÊâÄ‰ª•ËØ¥ÔºåÊúÄÂêéÁöÑÁªìÊûú‰∏∫Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/GWIyPDOaK4TAM1N.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123132604262" src="https://s2.loli.net/2022/11/23/GWIyPDOaK4TAM1N.png" /></a></p>
<p>Ê≥®ÊÑèÔºåÂ¶ÇÊûúBean‰∏çÊòØÂçï‰æãÊ®°ÂºèÔºåËÄåÊòØÈááÁî®ÁöÑÂéüÂûãÊ®°ÂºèÔºåÈÇ£‰πàÂ∞±Âè™‰ºöÂú®Ëé∑ÂèñÊó∂ÊâçÂàõÂª∫ÔºåÂπ∂Ë∞ÉÁî®init-methodÔºåËÄåÂØπÂ∫îÁöÑÈîÄÊØÅÊñπÊ≥ï‰∏ç‰ºöË¢´Ë∞ÉÁî®ÔºàÂõ†Ê≠§ÔºåÂØπ‰∫éÂéüÂûãÊ®°Âºè‰∏ãÁöÑBeanÔºåSpringÊó†Ê≥ïÈ°æÂèäÂÖ∂ÂÆåÊï¥ÁîüÂëΩÂë®ÊúüÔºåËÄåÂú®Âçï‰æãÊ®°Âºè‰∏ãÔºåSpringËÉΩÂ§ü‰ªéBeanÂØπË±°ÁöÑÂàõÂª∫‰∏ÄÁõ¥ÁÆ°ÁêÜÂà∞ÂØπË±°ÁöÑÈîÄÊØÅÔºâÂÆòÊñπÊñáÊ°£ÂéüÊñáÂ¶Ç‰∏ãÔºö</p>
<blockquote>
<p>In contrast to the other scopes, Spring does not manage the complete lifecycle of a prototype bean. The container instantiates, configures, and otherwise assembles a prototype object and hands it to the client, with no further record of that prototype instance. Thus, although initialization lifecycle callback methods are called on all objects regardless of scope, in the case of prototypes, configured destruction lifecycle callbacks are not called. The client code must clean up prototype-scoped objects and release expensive resources that the prototype beans hold. To get the Spring container to release resources held by prototype-scoped beans, try using a custom <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-extension-bpp">bean post-processor</a>, which holds a reference to beans that need to be cleaned up.</p>
</blockquote>
<p>Bean‰πãÈó¥‰πüÊòØÂÖ∑Â§áÁªßÊâøÂÖ≥Á≥ªÁöÑÔºåÂè™‰∏çËøáËøôÈáåÁöÑÁªßÊâøÂπ∂‰∏çÊòØÁ±ªÁöÑÁªßÊâøÔºåËÄåÊòØÂ±ûÊÄßÁöÑÁªßÊâøÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SportStudent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArtStudent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≠§Êó∂ÔºåÊàë‰ª¨ÂÖàÂ∞ÜArtStudentÊ≥®ÂÜå‰∏Ä‰∏™BeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;artStudent&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtStudent&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Â∞èÊòé&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>ËøôÈáåÊàë‰ª¨‰ºöÊ≥®ÂÖ•‰∏Ä‰∏™nameÁöÑÂàùÂßãÂÄºÔºåÊ≠§Êó∂Êàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™SportStudentÁöÑBeanÔºåÊàë‰ª¨Â∏åÊúõËøô‰∏™BeanÁöÑÂ±ûÊÄßË∑üÂàöÂàöÂàõÂª∫ÁöÑBeanÂ±ûÊÄßÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂÜô‰∏Ä‰∏™‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.SportStudent&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Â∞èÊòé&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>‰ΩÜÊòØÂ¶ÇÊûúÂ±ûÊÄßÂ§™Â§öÁöÑËØùÔºåÊòØ‰∏çÊòØÂÜôËµ∑Êù•ÊúâÁÇπÈ∫ªÁÉ¶ÔºüËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈÖçÁΩÆBean‰πãÈó¥ÁöÑÁªßÊâøÂÖ≥Á≥ª‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ©SportStudentËøô‰∏™BeanÁõ¥Êé•ÁªßÊâøArtStudentËøô‰∏™BeanÈÖçÁΩÆÁöÑÂ±ûÊÄßÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.SportStudent&quot;</span><span class="w"> </span><span class="na">parent=</span><span class="s">&quot;artStudent&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÂú®ArtStudent Bean‰∏≠ÈÖçÁΩÆÁöÑÂ±ûÊÄßÔºå‰ºöÁõ¥Êé•ÁªßÊâøÁªôSportStudent BeanÔºàÊ≥®ÊÑèÔºåÊâÄÊúâÈÖçÁΩÆÁöÑÂ±ûÊÄßÔºåÂú®Â≠êBean‰∏≠ÂøÖÈ°ª‰πüË¶ÅÂ≠òÂú®ÔºåÂπ∂‰∏îÂèØ‰ª•ËøõË°åÊ≥®ÂÖ•ÔºåÂê¶Âàô‰ºöÂá∫Áé∞ÈîôËØØÔºâÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÂ≠êÁ±ª‰∏≠Êüê‰∫õÂ±ûÊÄßÊØîËæÉÁâπÊÆäÔºå‰πüÂèØ‰ª•Âú®ÁªßÊâøÁöÑÂü∫Á°Ä‰∏äÂçïÁã¨ÈÖçÁΩÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;artStudent&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtStudent&quot;</span><span class="w"> </span><span class="na">abstract=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Â∞èÊòé&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.SportStudent&quot;</span><span class="w"> </span><span class="na">parent=</span><span class="s">&quot;artStudent&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>Â¶ÇÊûúÊàë‰ª¨Âè™ÊòØÂ∏åÊúõÊüê‰∏Ä‰∏™Bean‰ªÖ‰Ωú‰∏∫‰∏Ä‰∏™ÈÖçÁΩÆÊ®°Áâà‰æõÂÖ∂‰ªñBeanÁªßÊâø‰ΩøÁî®ÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∂ÈÖçÁΩÆ‰∏∫abstractÔºåËøôÊ†∑ÔºåÂÆπÂô®Â∞±‰∏ç‰ºöÂàõÂª∫Ëøô‰∏™BeanÁöÑÂØπË±°‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;artStudent&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ArtStudent&quot;</span><span class="w"> </span><span class="na">abstract=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Â∞èÊòé&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.SportStudent&quot;</span><span class="w"> </span><span class="na">parent=</span><span class="s">&quot;artStudent&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Ê≥®ÊÑèÔºå‰∏ÄÊó¶Â£∞Êòé‰∏∫ÊäΩË±°BeanÔºåÈÇ£‰πàÂ∞±Êó†Ê≥ïÈÄöËøáÂÆπÂô®Ëé∑ÂèñÂà∞ÂÖ∂ÂÆû‰æãÂåñÂØπË±°‰∫Ü„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/SyDkvOldB7ETW4z.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123140409416" src="https://s2.loli.net/2022/11/23/SyDkvOldB7ETW4z.png" /></a></p>
<p>‰∏çËøáBeanÁöÑÁªßÊâø‰ΩøÁî®È¢ëÁéá‰∏çÊòØÂæàÈ´òÔºå‰∫ÜËß£Â∞±Ë°å„ÄÇ</p>
<p>ËøôÈáåÊúÄÂêéÂÜçÊèê‰∏Ä‰∏ãÔºåÊàë‰ª¨ÂâçÈù¢Â∑≤ÁªèÂ≠¶‰π†‰∫ÜÂêÑÁßçÂêÑÊ†∑ÁöÑBeanÈÖçÁΩÆÂ±ûÊÄßÔºåÂ¶ÇÊûúÊàë‰ª¨Â∏åÊúõÊï¥‰∏™‰∏ä‰∏ãÊñá‰∏≠ÊâÄÊúâÁöÑBeanÈÉΩÈááÁî®ÊüêÁßçÈÖçÁΩÆÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÊúÄÂ§ñÂ±ÇÁöÑbeansÊ†áÁ≠æ‰∏≠ËøõË°åÈªòËÆ§ÈÖçÁΩÆÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/KzSUJXa4jBfO9rd.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123141221259" src="https://s2.loli.net/2022/11/23/KzSUJXa4jBfO9rd.png" /></a></p>
<p>ËøôÊ†∑ÔºåÂç≥‰ΩøBeanÊ≤°ÊúâÈÖçÁΩÆÊüêÈ°πÂ±ûÊÄßÔºå‰ΩÜÊòØÂè™Ë¶ÅÂú®ÊúÄÂ§ñÂ±ÇÁºñÂÜô‰∫ÜÈªòËÆ§ÈÖçÁΩÆÔºåÈÇ£‰πàÂêåÊ†∑‰ºöÁîüÊïàÔºåÈô§ÈùûBeanËá™Â∑±ËøõË°åÈÖçÁΩÆË¶ÜÁõñÊéâÈªòËÆ§ÈÖçÁΩÆ„ÄÇ</p>
<h3 id="bean_1">Â∑•ÂéÇÊ®°ÂºèÂíåÂ∑•ÂéÇBean<a class="headerlink" href="#bean_1" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫ÜIoCÂÆπÂô®ÁöÑBeanÂàõÂª∫Êú∫Âà∂ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÆπÂô®‰ºöË∞ÉÁî®BeanÂØπÂ∫îÁ±ªÂûãÁöÑÊûÑÈÄ†ÊñπÊ≥ïËøõË°åÂØπË±°ÂàõÂª∫Ôºå‰ΩÜÊòØÂú®Êüê‰∫õÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØËÉΩ‰∏çÂ∏åÊúõÂ§ñÁïå‰ΩøÁî®Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ïÂÆåÊàêÂØπË±°ÂàõÂª∫ÔºåÊØîÂ¶ÇÂú®Â∑•ÂéÇÊñπÊ≥ïËÆæËÆ°Ê®°Âºè‰∏≠ÔºàËØ¶ÊÉÖËØ∑ËßÇÁúã„ÄäJavaËÆæËÆ°Ê®°Âºè„ÄãÁØá ËßÜÈ¢ëÊïôÁ®ãÔºâÊàë‰ª¨Êõ¥Â∏åÊúõ Spring‰∏çË¶ÅÁõ¥Êé•Âà©Áî®ÂèçÂ∞ÑÊú∫Âà∂ÈÄöËøáÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫BeanÂØπË±°Ôºå ËÄåÊòØÂà©Áî®ÂèçÂ∞ÑÊú∫Âà∂ÂÖàÊâæÂà∞ÂØπÂ∫îÁöÑÂ∑•ÂéÇÁ±ªÔºåÁÑ∂ÂêéÂà©Áî®Â∑•ÂéÇÁ±ªÂéªÁîüÊàêÈúÄË¶ÅÁöÑBeanÂØπË±°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Student</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëË¢´ÊûÑÈÄ†‰∫Ü&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentFactory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">getStudent</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Ê¨¢ËøéÂÖâ‰∏¥ÁîµÂ≠êÂéÇ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≠§Êó∂StudentÊúâ‰∏Ä‰∏™Â∑•ÂéÇÔºåÊàë‰ª¨Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÈúÄË¶Å‰ΩøÁî®Â∑•ÂéÇÊâçÂèØ‰ª•ÂæóÂà∞StudentÂØπË±°ÔºåÁé∞Âú®Êàë‰ª¨Â∏åÊúõSpring‰πüËøôÊ†∑ÂÅöÔºå‰∏çË¶ÅÁõ¥Êé•ÂéªÂèçÂ∞ÑÊêûÊûÑÈÄ†ÊñπÊ≥ïÂàõÂª∫ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáfactory-methodËøõË°åÊåáÂÆöÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.StudentFactory&quot;</span><span class="w"> </span><span class="na">factory-method=</span><span class="s">&quot;getStudent&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Ê≥®ÊÑèÔºåËøôÈáåÁöÑBeanÁ±ªÂûãÈúÄË¶ÅÂ°´ÂÜô‰∏∫StudentÁ±ªÁöÑÂ∑•ÂéÇÁ±ªÔºåÂπ∂‰∏îÊ∑ªÂä†factory-methodÊåáÂÆöÂØπÂ∫îÁöÑÂ∑•ÂéÇÊñπÊ≥ïÔºå‰ΩÜÊòØÊúÄÂêéÊ≥®ÂÜåÁöÑÊòØÂ∑•ÂéÇÊñπÊ≥ïÁöÑËøîÂõûÁ±ªÂûãÔºåÊâÄ‰ª•ËØ¥‰æùÁÑ∂ÊòØStudentÁöÑBeanÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/5Id43xPneJiWfZs.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123143302785" src="https://s2.loli.net/2022/11/23/5Id43xPneJiWfZs.png" /></a></p>
<p>Ê≠§Êó∂Êàë‰ª¨ÂÜçÂéªËøõË°åËé∑ÂèñÔºåÊãøÂà∞ÁöÑ‰πüÊòØÈÄöËøáÂ∑•ÂéÇÊñπÊ≥ïÂæóÂà∞ÁöÑÂØπË±°Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/l8HzN7Rwthqrim5.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123143347376" src="https://s2.loli.net/2022/11/23/l8HzN7Rwthqrim5.png" /></a></p>
<p>ËøôÈáåÊúâ‰∏Ä‰∏™ËØØÂå∫ÔºåÂçÉ‰∏á‰∏çË¶ÅËÆ§‰∏∫ÊòØÊàë‰ª¨Ê≥®ÂÜå‰∫ÜStudentFactoryËøô‰∏™BeanÔºåclassÂ°´ÂÜô‰∏∫Ëøô‰∏™Á±ªËøô‰∏™Âè™ÊòØ‰∏∫‰∫ÜÂëäËØâSpringÊàë‰ª¨ÁöÑÂ∑•ÂéÇÊñπÊ≥ïÂú®Âì™‰∏™‰ΩçÁΩÆÔºåÁúüÊ≠£Ê≥®ÂÜåÁöÑÊòØÂ∑•ÂéÇÊñπÊ≥ïÊèê‰æõÁöÑ‰∏úË•ø„ÄÇ</p>
<p>ÂèØ‰ª•ÂèëÁé∞ÔºåÂΩìÊàë‰ª¨ÈááÁî®Â∑•ÂéÇÊ®°ÂºèÂêéÔºåÊàë‰ª¨Â∞±Êó†Ê≥ïÂÜçÈÄöËøáÈÖçÁΩÆÊñá‰ª∂ÂØπBeanËøõË°å‰æùËµñÊ≥®ÂÖ•Á≠âÊìç‰Ωú‰∫ÜÔºåËÄåÊòØÂè™ËÉΩÂú®Â∑•ÂéÇÊñπÊ≥ï‰∏≠ÂÆåÊàêÔºåËøô‰ºº‰πé‰∏éSpringÁöÑËÆæËÆ°ÁêÜÂøµËÉåÈÅìËÄåÈ©∞Ôºü</p>
<p>ÂΩìÁÑ∂ÔºåÂèØËÉΩÊüê‰∫õÂ∑•ÂéÇÁ±ªÈúÄË¶ÅÊûÑÈÄ†Âá∫ÂØπË±°‰πãÂêéÊâçËÉΩ‰ΩøÁî®ÔºåÊàë‰ª¨‰πüÂèØ‰ª•Â∞ÜÊüê‰∏™Â∑•ÂéÇÁ±ªÁõ¥Êé•Ê≥®ÂÜå‰∏∫Â∑•ÂéÇBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentFactory</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">getStudent</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Ê¨¢ËøéÂÖâ‰∏¥ÁîµÂ≠êÂéÇ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®ÈúÄË¶ÅStudentFactoryÂØπË±°ÊâçÂèØ‰ª•Ëé∑ÂèñÂà∞StudentÔºåÊ≠§Êó∂Êàë‰ª¨Â∞±Âè™ËÉΩÂÖàÂ∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫Bean‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;studentFactory&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.StudentFactory&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ÂÉèËøôÊ†∑Â∞ÜÂ∑•ÂéÇÁ±ªÊ≥®ÂÜå‰∏∫BeanÔºåÊàë‰ª¨Áß∞ÂÖ∂‰∏∫Â∑•ÂéÇBeanÔºåÁÑ∂ÂêéÂÜç‰ΩøÁî®<code>factory-bean</code>Êù•ÊåáÂÆöBeanÁöÑÂ∑•ÂéÇBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">factory-bean=</span><span class="s">&quot;studentFactory&quot;</span><span class="w"> </span><span class="na">factory-method=</span><span class="s">&quot;getStudent&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Ê≥®ÊÑèÔºå‰ΩøÁî®factory-bean‰πãÂêéÔºå‰∏çÂÜçË¶ÅÊ±ÇÊåáÂÆöclassÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/ih1Af7xBdX3ebaG.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123164134470" src="https://s2.loli.net/2022/11/23/ih1Af7xBdX3ebaG.png" /></a></p>
<p>Ê≠§Êó∂ÂèØ‰ª•ÁúãÂà∞ÔºåÂ∑•ÂéÇÊñπÊ≥ï‰∏äÂêåÊ†∑Êúâ‰∫ÜÂõæÊ†áÔºåËøôÁßçÊñπÂºèÔºåÁî±‰∫éÂ∑•ÂéÇÁ±ªË¢´Ê≥®ÂÜå‰∏∫BeanÔºåÊ≠§Êó∂Êàë‰ª¨Â∞±ÂèØ‰ª•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰∏∫Â∑•ÂéÇBeanÈÖçÁΩÆ‰æùËµñÊ≥®ÂÖ•Á≠âÂÜÖÂÆπ‰∫Ü„ÄÇ</p>
<p>ËøôÈáåËøòÊúâ‰∏Ä‰∏™ÂæàÁªÜËäÇÁöÑÊìç‰ΩúÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Ëé∑ÂèñÂ∑•ÂéÇBean‰∏∫Êàë‰ª¨Êèê‰æõÁöÑBeanÔºåÂèØ‰ª•Áõ¥Êé•ËæìÂÖ•Â∑•ÂéÇBeanÁöÑÂêçÁß∞ÔºåËøôÊ†∑‰∏ç‰ºöÂæóÂà∞Â∑•ÂéÇBeanÁöÑÂÆû‰æãÔºåËÄåÊòØÂ∑•ÂéÇBeanÁîü‰∫ßÁöÑBeanÁöÑÂÆû‰æãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Student</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;studentFactory&quot;</span><span class="p">);</span>
</code></pre></div>
<p>ÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅËé∑ÂèñÂ∑•ÂéÇÁ±ªÁöÑÂÆû‰æãÔºåÂèØ‰ª•Âú®ÂêçÁß∞ÂâçÈù¢Ê∑ªÂä†<code>&amp;</code>Á¨¶Âè∑Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="n">StudentFactory</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">StudentFactory</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;&amp;studentFactory&quot;</span><span class="p">);</span>
</code></pre></div>
<p>ÂèàÊòØ‰∏Ä‰∏™Â∞èÁªÜËäÇ„ÄÇ</p>
<h3 id="_4">‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨Â∑≤ÁªèÂÆåÊàê‰∫ÜÂ§ßÈÉ®ÂàÜÁöÑÈÖçÁΩÆÊñá‰ª∂Â≠¶‰π†Ôºå‰ΩÜÊòØÊàë‰ª¨ÂèëÁé∞Ôºå‰ΩøÁî®ÈÖçÁΩÆÊñá‰ª∂ËøõË°åÈÖçÁΩÆÔºåË≤å‰ººÊúâÁÇπÂ§™Á¥Ø‰∫ÜÂêßÔºüÂèØ‰ª•ÊÉ≥Ë±°‰∏Ä‰∏ãÔºåÂ¶ÇÊûúÊàë‰ª¨ÁöÑÈ°πÁõÆÈùûÂ∏∏Â∫ûÂ§ßÔºåÊï¥‰∏™ÈÖçÁΩÆÊñá‰ª∂Â∞Ü‰ºöÂÖÖÊª°BeanÈÖçÁΩÆÔºåÂπ∂‰∏î‰ºöÁªßÁª≠Â∫ûÂ§ß‰∏ãÂéªÔºåËÉΩÂê¶Êúâ‰∏ÄÁßçÊõ¥Âä†È´òÊïàÁöÑÊñπÊ≥ïËÉΩÂ§üÁúÅÂéªÈÖçÁΩÆÂë¢ÔºüËøòËÆ∞ÂæóÊàë‰ª¨Âú®JavaWebÈò∂ÊÆµÁî®Âà∞ÁöÑÈùûÂ∏∏Êñπ‰æø‰∏úË•øÂêóÔºüÊ≤°ÈîôÔºåÂ∞±ÊòØÊ≥®Ëß£„ÄÇ</p>
<p>Êó¢ÁÑ∂Áé∞Âú®Ë¶Å‰ΩøÁî®Ê≥®Ëß£Êù•ËøõË°åÂºÄÂèëÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Âà†Êéâ‰πãÂâçÁöÑxmlÈÖçÁΩÆÊñá‰ª∂ÂêßÔºåÊàë‰ª¨Êù•ÁúãÁúã‰ΩøÁî®Ê≥®Ëß£ËÉΩÊúâÂ§öÊñπ‰æø„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">();</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨‰ΩøÁî®AnnotationConfigApplicationContext‰Ωú‰∏∫‰∏ä‰∏ãÊñáÂÆûÁé∞ÔºåÂÆÉÊòØÊ≥®Ëß£ÈÖçÁΩÆÁöÑ„ÄÇ</p>
<p>Êó¢ÁÑ∂Áé∞Âú®ÈááÁî®Ê≥®Ëß£ÔºåÊàë‰ª¨Â∞±ÈúÄË¶Å‰ΩøÁî®Á±ªÊù•ÁºñÂÜôÈÖçÁΩÆÊñá‰ª∂ÔºåÂú®‰πãÂâçÔºåÊàë‰ª¨Â¶ÇÊûúË¶ÅÁºñÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÁöÑËØùÔºåÈúÄË¶ÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
<span class="w">       </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="w">       </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans</span>
<span class="s">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨Âè™ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÂ∞±ÂèØ‰ª•‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<p>Ëøô‰∏§ËÄÖÊòØÁ≠â‰ª∑ÁöÑÔºåÂêåÊ†∑ÁöÑÔºåÂú®‰∏ÄÂºÄÂßã‰ºöÊèêÁ§∫Êàë‰ª¨Ê≤°ÊúâÈÖçÁΩÆ‰∏ä‰∏ãÊñáÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/YNl5nVkfJriogdD.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123175555433" src="https://s2.loli.net/2022/11/23/YNl5nVkfJriogdD.png" /></a></p>
<p>ËøôÈáåÊåâÁÖßË¶ÅÊ±ÇÈÖçÁΩÆ‰∏Ä‰∏ãÂ∞±ÂèØ‰ª•ÔºåÂêå‰∏äÔºåËøô‰∏™Âè™ÊòØ‰ºöÂΩ±ÂìçIDEAÁöÑ‰ª£Á†ÅÊèêÁ§∫Ôºå‰∏ç‰ºöÂΩ±ÂìçÁ®ãÂ∫èËøêË°å„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•‰∏∫AnnotationConfigApplicationContextÊåáÂÆö‰∏Ä‰∏™ÈªòËÆ§ÁöÑÈÖçÁΩÆÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="c1">//Ëøô‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÂèØ‰ª•Êé•Êî∂Â§ö‰∏™ÈÖçÁΩÆÁ±ªÔºàÊõ¥ÂáÜÁ°ÆÁöÑËØ¥ÊòØÂ§ö‰∏™ÁªÑ‰ª∂Ôºâ</span>
</code></pre></div>
<p>ÈÇ£‰πàÁé∞Âú®Êàë‰ª¨ËØ•Â¶Ç‰ΩïÈÖçÁΩÆBeanÂë¢Ôºü</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span><span class="p">(</span><span class="s">&quot;student&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">student</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÂÜôÁõ∏ÂØπ‰∫éÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
<span class="w">       </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="w">       </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans</span>
<span class="s">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name =</span><span class="w"> </span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div>
<p>ÈÄöËøá@ImportËøòÂèØ‰ª•ÂºïÂÖ•ÂÖ∂‰ªñÈÖçÁΩÆÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Import</span><span class="p">(</span><span class="n">LBWConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w">  </span><span class="c1">//Âú®ËÆ≤Ëß£Âà∞SpringÂéüÁêÜÊó∂ÔºåÊàë‰ª¨Ëøò‰ºöÈÅáÂà∞ÂÆÉÔºåÁõÆÂâçÂè™ÂÅö‰∫ÜËß£Âç≥ÂèØ„ÄÇ</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
</code></pre></div>
<p>Âè™‰∏çËøáÁé∞Âú®ÂèòÊàê‰∫ÜÁî±Java‰ª£Á†Å‰∏∫Êàë‰ª¨Êèê‰æõBeanÈÖçÁΩÆÔºåËøôÊ†∑‰ºöÊõ¥Âä†ÁöÑÁÅµÊ¥ªÔºå‰πüÊõ¥Âä†‰æø‰∫éÊéßÂà∂BeanÂØπË±°ÁöÑÂàõÂª∫„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">student</span><span class="p">);</span>
</code></pre></div>
<p>‰ΩøÁî®ÊñπÊ≥ïÊòØÁõ∏ÂêåÁöÑÔºåËøôË∑ü‰ΩøÁî®XMLÈÖçÁΩÆÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ</p>
<p>ÈÇ£‰πàËÇØÂÆöÂ∞±ÊúâÂ∞è‰ºô‰º¥Â•ΩÂ•á‰∫ÜÔºåÊàë‰ª¨‰πãÂâç‰ΩøÁî®ÁöÑÈÇ£‰πàÂ§öÁâπÊÄßÂú®Âì™ÈáåÈÖçÁΩÆÂë¢ÔºüÈ¶ñÂÖàÔºåÂàùÂßãÂåñÊñπÊ≥ïÂíåÊëßÊØÅÊñπÊ≥ï„ÄÅËá™Âä®Ë£ÖÈÖçÂèØ‰ª•Áõ¥Êé•Âú®@BeanÊ≥®Ëß£‰∏≠ËøõË°åÈÖçÁΩÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">initMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">destroyMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">autowireCandidate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">student</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÖ∂Ê¨°ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÊ≥®Ëß£Êù•ÈÖçÁΩÆÂÖ∂‰ªñÂ±ûÊÄßÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span>
<span class="nd">@Lazy</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w">     </span><span class="c1">//ÂØπÂ∫îlazy-initÂ±ûÊÄß</span>
<span class="nd">@Scope</span><span class="p">(</span><span class="s">&quot;prototype&quot;</span><span class="p">)</span><span class="w">    </span><span class="c1">//ÂØπÂ∫îscopeÂ±ûÊÄß</span>
<span class="nd">@DependsOn</span><span class="p">(</span><span class="s">&quot;teacher&quot;</span><span class="p">)</span><span class="w">    </span><span class="c1">//ÂØπÂ∫îdepends-onÂ±ûÊÄß</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">student</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂØπ‰∫éÈÇ£‰∫õÊàë‰ª¨ÈúÄË¶ÅÈÄöËøáÊûÑÈÄ†ÊñπÊ≥ïÊàñÊòØSetterÂÆåÊàê‰æùËµñÊ≥®ÂÖ•ÁöÑBeanÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.ProgramTeacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;com.test.bean.Student&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;teacher&quot;</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;teacher&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>ÂÉèËøôÁßçÈúÄË¶ÅÂºïÂÖ•ÂÖ∂‰ªñBeanËøõË°åÁöÑÊ≥®ÂÖ•ÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Â∞ÜÂÖ∂‰Ωú‰∏∫ÂΩ¢ÂºèÂèÇÊï∞ÊîæÂà∞ÊñπÊ≥ï‰∏≠Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="nf">teacher</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Teacher</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">student</span><span class="p">(</span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">(</span><span class="n">teacher</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≠§Êó∂Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåÊóÅËæπÂ∑≤ÁªèÂá∫Áé∞ÂõæÊ†á‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/wy5JtiVp8zK1bmG.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123213527325" src="https://s2.loli.net/2022/11/23/wy5JtiVp8zK1bmG.png" /></a></p>
<p>ËøêË°åÁ®ãÂ∫è‰πãÂêéÔºåÊàë‰ª¨ÂèëÁé∞ÔºåËøôÊ†∑Á°ÆÂÆûÂèØ‰ª•Áõ¥Êé•ÂæóÂà∞ÂØπÂ∫îÁöÑBeanÂπ∂‰ΩøÁî®„ÄÇ</p>
<p>Âè™‰∏çËøáÔºåÈô§‰∫ÜËøôÁßçÂü∫‰∫éÊûÑÈÄ†Âô®ÊàñÊòØSetterÁöÑ‰æùËµñÊ≥®ÂÖ•‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Áõ¥Êé•Âà∞BeanÂØπÂ∫îÁöÑÁ±ª‰∏≠‰ΩøÁî®Ëá™Âä®Ë£ÖÈÖçÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Autowired</span><span class="w">   </span><span class="c1">//‰ΩøÁî®Ê≠§Ê≥®Ëß£Êù•ËøõË°åËá™Âä®Ë£ÖÈÖçÔºåÁî±IoCÂÆπÂô®Ëá™Âä®‰∏∫ÂÖ∂ËµãÂÄº</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®ÔºåÊàë‰ª¨ÁîöËá≥ËøûÊûÑÈÄ†ÊñπÊ≥ïÂíåSetterÈÉΩ‰∏çÈúÄË¶ÅÂéªÁºñÂÜô‰∫ÜÔºåÂ∞±ËÉΩÁõ¥Êé•ÂÆåÊàêËá™Âä®Ë£ÖÈÖçÔºåÊòØ‰∏çÊòØÊÑüËßâÊØîÈÇ£Â†ÜÈÖçÁΩÆÊñπ‰æøÂ§ö‰∫ÜÔºü</p>
<p>ÂΩìÁÑ∂Ôºå@AutowiredÂπ∂‰∏çÊòØÂè™ËÉΩÁî®‰∫éÂ≠óÊÆµÔºåÂØπ‰∫éÊûÑÈÄ†ÊñπÊ≥ïÊàñÊòØSetterÔºåÂÆÉÂêåÊ†∑ÂèØ‰ª•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setTeacher</span><span class="p">(</span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">teacher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>@AutowiredÈªòËÆ§ÈááÁî®byTypeÁöÑÊñπÂºèËøõË°åËá™Âä®Ë£ÖÈÖçÔºå‰πüÂ∞±ÊòØËØ¥‰ºö‰ΩøÁî®Á±ªÂûãËøõË°åÈÖçÔºåÈÇ£‰πàË¶ÅÊòØÂá∫Áé∞‰∫ÜÂ§ö‰∏™Áõ∏ÂêåÁ±ªÂûãÁöÑBeanÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Ë¶ÅÊåáÂÆö‰ΩøÁî®ÂÖ∂‰∏≠ÁöÑÊüê‰∏Ä‰∏™ËØ•ÊÄé‰πàÂäûÂë¢Ôºü</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="nf">teacherA</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Teacher</span><span class="p">();</span>
<span class="p">}</span>

<span class="nd">@Bean</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="nf">teacherB</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Teacher</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≠§Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÖçÂêà@QualifierËøõË°åÂêçÁß∞ÂåπÈÖçÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="nd">@Qualifier</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">//ÂåπÈÖçÂêçÁß∞‰∏∫aÁöÑTeacherÁ±ªÂûãÁöÑBean</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÈáåÈúÄË¶ÅÊèê‰∏Ä‰∏ãÔºåÂú®Êàë‰ª¨ÊóßÁâàÊú¨ÁöÑSSMÊïôÁ®ã‰∏≠ËÆ≤Ëß£‰∫Ü@ResourceËøô‰∏™Ê≥®Ëß£Ôºå‰ΩÜÊòØÁé∞Âú®ÂÆÉÊ≤°Êúâ‰∫Ü„ÄÇ</p>
<p>ÈöèÁùÄJavaÁâàÊú¨ÁöÑÊõ¥Êñ∞Ëø≠‰ª£ÔºåÊüê‰∫õjavaxÂåÖ‰∏ãÁöÑÂåÖÔºå‰ºöË¢´ÈÄêÊ∏êÂºÉÁî®Âπ∂ÁßªÈô§„ÄÇÂú®JDK11ÁâàÊú¨‰ª•ÂêéÔºåjavax.annotationËøô‰∏™ÂåÖË¢´ÁßªÈô§Âπ∂‰∏îÊõ¥Âêç‰∏∫jakarta.annotationÔºàÊàë‰ª¨Âú®JavaWebÁØáÂ∑≤Áªè‰ªãÁªçËøá‰∏∫‰ªÄ‰πàË¶ÅÊîπÂêçÂ≠ó‰∫ÜÔºâÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÊ≥®Ëß£ÔºåÂè´ÂÅö@ResourceÔºåÂÆÉÁöÑ‰ΩúÁî®‰∏é@AutowiredÊó∂Áõ∏ÂêåÁöÑÔºå‰πüÂèØ‰ª•ÂÆûÁé∞Ëá™Âä®Ë£ÖÈÖçÔºå‰ΩÜÊòØÂú®IDEA‰∏≠Âπ∂‰∏çÊé®Ëçê‰ΩøÁî®@AutowiredÊ≥®Ëß£ÂØπÊàêÂëòÂ≠óÊÆµËøõË°åËá™Âä®Ë£ÖÈÖçÔºåËÄåÊòØÊé®Ëçê‰ΩøÁî®@ResourceÔºåÂ¶ÇÊûúÈúÄË¶Å‰ΩøÁî®Ëøô‰∏™Ê≥®Ëß£ÔºåËøòÈúÄË¶ÅÈ¢ùÂ§ñÂØºÂÖ•ÂåÖÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>jakarta.annotation<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>jakarta.annotation-api<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>2.1.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>‰ΩøÁî®ÊñπÊ≥ï‰∏ÄÊ†∑ÔºåÁõ¥Êé•ÊõøÊç¢ÊéâÂ∞±ÂèØ‰ª•‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Resource</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Âè™‰∏çËøáÔºå‰ªñ‰ª¨‰∏§Êúâ‰∫õÊú∫Âà∂‰∏äÁöÑ‰∏çÂêåÔºö</p>
<ul>
<li>@ResourceÈªòËÆ§<strong>ByName</strong>Â¶ÇÊûúÊâæ‰∏çÂà∞Âàô<strong>ByType</strong>ÔºåÂèØ‰ª•Ê∑ªÂä†Âà∞setÊñπÊ≥ï„ÄÅÂ≠óÊÆµ‰∏ä„ÄÇ</li>
<li>@AutowiredÈªòËÆ§ÊòØ<strong>byType</strong>ÔºåÂè™‰ºöÊ†πÊçÆÁ±ªÂûãÂØªÊâæÔºåÂèØ‰ª•Ê∑ªÂä†Âú®ÊûÑÈÄ†ÊñπÊ≥ï„ÄÅsetÊñπÊ≥ï„ÄÅÂ≠óÊÆµ„ÄÅÊñπÊ≥ïÂèÇÊï∞‰∏ä„ÄÇ</li>
</ul>
<p>Âõ†‰∏∫@ResourceÁöÑÂåπÈÖçÊú∫Âà∂Êõ¥Âä†ÂêàÁêÜÈ´òÊïàÔºåÂõ†Ê≠§ÂÆòÊñπÂπ∂‰∏çÊé®Ëçê‰ΩøÁî®@AutowiredÂ≠óÊÆµÊ≥®ÂÖ•ÔºåÂΩìÁÑ∂ÔºåÂÆûÈôÖ‰∏äSpringÂÆòÊñπÊõ¥Êé®ËçêÊàë‰ª¨‰ΩøÁî®Âü∫‰∫éÊûÑÈÄ†ÊñπÊ≥ïÊàñÊòØSetterÁöÑ@AutowiredÊ≥®ÂÖ•ÔºåÊØîÂ¶ÇSetter Ê≥®ÂÖ•ÁöÑ‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÔºåSetter ÊñπÊ≥ï‰ΩøËØ•Á±ªÁöÑÂØπË±°ËÉΩÂ§üÂú®‰ª•ÂêéÈáçÊñ∞ÈÖçÁΩÆÊàñÈáçÊñ∞Ê≥®ÂÖ•„ÄÇÂÖ∂ÂÆûÔºåÊúÄÂêé‰ΩøÁî®Âì™‰∏™Ê≥®Ëß£ÔºåËøòÊòØÁúã‰Ω†Ëá™Â∑±ÔºåË¶ÅÊòØÊúâÂº∫Ëø´Áóá‰∏çËÉΩÂøçÂèóÈªÑÊ†á‰ΩÜÊòØÂèàÂÆûÂú®ÊÉ≥Áî®Â≠óÊÆµÊ≥®ÂÖ•ÔºåÈÇ£Â∞±Áî®@ResourceÊ≥®Ëß£„ÄÇ</p>
<p>Èô§‰∫ÜËøô‰∏™Ê≥®Ëß£‰πãÂ§ñÔºåËøòÊúâ@PostConstructÂíå@PreDestroyÔºåÂÆÉ‰ª¨ÊïàÊûúÂíåinit-methodÂíådestroy-methodÊòØ‰∏ÄÊ†∑ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@PostConstruct</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂàùÂßãÂåñÊñπÊ≥ï&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="nd">@PreDestroy</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">destroy</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÈîÄÊØÅÊñπÊ≥ï&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Âè™ÈúÄË¶ÅÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞ÂØπÂ∫îÁöÑÊñπÊ≥ï‰∏äÂç≥ÂèØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">AnnotationConfigApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">context</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/23/wXRuAjVF2ykCOJ4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221123225232979" src="https://s2.loli.net/2022/11/23/wXRuAjVF2ykCOJ4.png" /></a></p>
<p>ÂèØ‰ª•ÁúãÂà∞ÊïàÊûúÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑÔºåËøô‰∫õÊ≥®Ëß£ÈÉΩÊòØjakarta.annotationÊèê‰æõÁöÑÔºåÊúâÂÖ≥SpringÂíåJakartaEEÁöÑÊ∏äÊ∫êÔºåËøòËØ∑ÂêÑ‰ΩçÂ∞è‰ºô‰º¥Ëá™Ë°å‰∫ÜËß£„ÄÇ</p>
<p>ÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫Ü‰ΩøÁî®@BeanÊù•Ê≥®ÂÜåBeanÔºå‰ΩÜÊòØÂÆûÈôÖ‰∏äÊàë‰ª¨ÂèëÁé∞ÔºåÂ¶ÇÊûúÂè™ÊòØÁÆÄÂçïÂ∞Ü‰∏Ä‰∏™Á±ª‰Ωú‰∏∫BeanÁöÑËØùÔºåËøôÊ†∑ÂÜôËøòÊòØ‰∏çÂ§™Êñπ‰æøÔºåÂõ†‰∏∫ÈÉΩÊòØÂõ∫ÂÆöÊ®°ÂºèÔºåÂ∞±ÊòØÂçïÁ∫ØÁöÑnew‰∏Ä‰∏™ÂØπË±°Âá∫Êù•ÔºåËÉΩ‰∏çËÉΩÂÉè‰πãÂâç‰∏ÄÊ†∑ÔºåËÆ©ÂÆπÂô®Ëá™Â∑±ÂèçÂ∞ÑËé∑ÂèñÊûÑÈÄ†ÊñπÊ≥ïÂéªÁîüÊàêËøô‰∏™ÂØπË±°Âë¢Ôºü</p>
<p>ËÇØÂÆöÊòØÂèØ‰ª•ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÈúÄË¶ÅÊ≥®ÂÜå‰∏∫BeanÁöÑÁ±ª‰∏äÊ∑ªÂä†<code>@Component</code>Ê≥®Ëß£Êù•Â∞Ü‰∏Ä‰∏™Á±ªËøõË°åÊ≥®ÂÜå<strong>ÔºàÁé∞Âú®ÊúÄÂ∏∏Áî®ÁöÑÊñπÂºèÔºâ</strong>Ôºå‰∏çËøáË¶ÅÂÆûÁé∞ËøôÊ†∑ÁöÑÊñπÂºèÔºåÊàë‰ª¨ÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∏™Ëá™Âä®Êâ´ÊèèÊù•ÂëäËØâSpringÔºåÂÆÉÈúÄË¶ÅÂú®Âì™‰∫õÂåÖ‰∏≠Êü•ÊâæÊàë‰ª¨Êèê‰æõÁöÑ<code>@Component</code>Â£∞ÊòéÁöÑBean„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span><span class="p">(</span><span class="s">&quot;lbwnb&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">//ÂêåÊ†∑ÂèØ‰ª•Ëá™Â∑±Ëµ∑ÂêçÂ≠ó</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>Ë¶ÅÊ≥®ÂÜåËøô‰∏™Á±ªÁöÑBeanÔºåÂè™ÈúÄË¶ÅÊ∑ªÂä†@ComponentÂç≥ÂèØÔºåÁÑ∂ÂêéÈÖçÁΩÆ‰∏Ä‰∏ãÂåÖÊâ´ÊèèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;com.test.bean&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">//ÂåÖÊâ´ÊèèÔºåËøôÊ†∑SpringÂ∞±‰ºöÂéªÊâ´ÊèèÂØπÂ∫îÂåÖ‰∏ãÊâÄÊúâÁöÑÁ±ª</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>SpringÂú®Êâ´ÊèèÂØπÂ∫îÂåÖ‰∏ãÊâÄÊúâÁöÑÁ±ªÊó∂Ôºå‰ºöËá™Âä®Â∞ÜÈÇ£‰∫õÊ∑ªÂä†‰∫Ü@ComponentÁöÑÁ±ªÊ≥®ÂÜå‰∏∫BeanÔºåÊòØ‰∏çÊòØÊÑüËßâÂæàÊñπ‰æøÔºüÂè™‰∏çËøáËøôÁßçÊñπÂºèÂè™ÈÄÇÁî®‰∫éÊàë‰ª¨Ëá™Â∑±ÁºñÂÜôÁ±ªÁöÑÊÉÖÂÜµÔºåÂ¶ÇÊûúÊòØÁ¨¨‰∏âÊñπÂåÖÊèê‰æõÁöÑÁ±ªÔºåÂè™ËÉΩ‰ΩøÁî®ÂâçËÄÖÂÆåÊàêÊ≥®ÂÜåÔºåÂπ∂‰∏îËøôÁßçÊñπÂºèÂπ∂‰∏çÊòØÈÇ£‰πàÁöÑÁÅµÊ¥ª„ÄÇ</p>
<p>‰∏çËøáÔºåÊó†ËÆ∫ÊòØÈÄöËøá@BeanËøòÊòØ@ComponentÂΩ¢ÂºèÊ≥®ÂÜåÁöÑBeanÔºåSpringÈÉΩ‰ºö‰∏∫ÂÖ∂Ê∑ªÂä†‰∏Ä‰∏™ÈªòËÆ§ÁöÑnameÂ±ûÊÄßÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆÉÁöÑÈªòËÆ§ÂêçÁß∞Áîü‰∫ßËßÑÂàô‰æùÁÑ∂ÊòØÁ±ªÂêçÂπ∂ÊåâÁÖßÈ¶ñÂ≠óÊØçÂ∞èÂÜôÁöÑÈ©ºÂ≥∞ÂëΩÂêçÊ≥ïÊù•ÁöÑÔºåÊâÄ‰ª•ËØ¥ÂØπÂ∫îÁöÑÂ∞±ÊòØstudentÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Student</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;student&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ËøôÊ†∑ÂêåÊ†∑ÂèØ‰ª•Ëé∑ÂèñÂà∞</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">student</span><span class="p">);</span>
</code></pre></div>
<p>ÂêåÊ†∑ÁöÑÔºåÂ¶ÇÊûúÊòØÈÄöËøá@BeanÊ≥®ÂÜåÁöÑÔºåÈªòËÆ§ÂêçÁß∞ÊòØÂØπÂ∫îÁöÑÊñπÊ≥ïÂêçÁß∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">artStudent</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Student</span><span class="p">)</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;artStudent&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">student</span><span class="p">);</span>
</code></pre></div>
<p>Áõ∏ÊØî‰º†ÁªüÁöÑXMLÈÖçÁΩÆÊñπÂºèÔºåÊ≥®Ëß£ÂΩ¢ÂºèÁöÑÈÖçÁΩÆÁ°ÆÂÆûËÉΩÂ§üÂáèÂ∞ëÊàë‰ª¨ÂæàÂ§öÂ∑•‰ΩúÈáè„ÄÇÂπ∂‰∏îÔºåÂØπ‰∫éËøôÁßç‰ΩøÁî®<code>@Component</code>Ê≥®ÂÜåÁöÑBeanÔºåÂ¶ÇÊûúÂÖ∂ÊûÑÈÄ†ÊñπÊ≥ï‰∏çÊòØÈªòËÆ§Êó†ÂèÇÊûÑÈÄ†ÔºåÈÇ£‰πàÈªòËÆ§‰ºöÂØπÂÖ∂ÊØè‰∏Ä‰∏™ÂèÇÊï∞ÈÉΩËøõË°åËá™Âä®Ê≥®ÂÖ•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Student</span><span class="p">(</span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">){</span><span class="w">   </span><span class="c1">//Â¶ÇÊûúÊúâTeacherÁ±ªÂûãÁöÑBeanÔºåÈÇ£‰πàËøôÈáåÁöÑÂèÇÊï∞‰ºöË¢´Ëá™Âä®Ê≥®ÂÖ•</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">teacher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéÔºåÂØπ‰∫éÊàë‰ª¨‰πãÂâç‰ΩøÁî®ÁöÑÂ∑•ÂéÇÊ®°ÂºèÔºåSpring‰πüÊèê‰æõ‰∫ÜÊé•Âè£ÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÂÆûÁé∞Êé•Âè£Ë°®Á§∫Ëøô‰∏™BeanÊòØ‰∏Ä‰∏™Â∑•ÂéÇBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentFactory</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">FactoryBean</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">getObject</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//Áîü‰∫ßÁöÑBeanÂØπË±°</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="nf">getObjectType</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//Áîü‰∫ßÁöÑBeanÁ±ªÂûã</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isSingleton</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//Áîü‰∫ßÁöÑBeanÊòØÂê¶ÈááÁî®Âçï‰æãÊ®°Âºè</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äË∑üÊàë‰ª¨‰πãÂâçÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁºñÂÜôÊòØ‰∏ÄÊ†∑ÁöÑÔºåËøôÈáåÂ∞±‰∏çÂ§öËØ¥‰∫Ü„ÄÇ</p>
<p>ËØ∑Ê≥®ÊÑèÔºå‰ΩøÁî®Ê≥®Ëß£ËôΩÁÑ∂ÂèØ‰ª•ÁúÅ‰∫ãÂæàÂ§öÔºå‰ª£Á†Å‰πüËÉΩÂèòÂæóÊõ¥ÁÆÄÊ¥ÅÔºå‰ΩÜÊòØËøôÂπ∂‰∏ç‰ª£Ë°®XMLÈÖçÁΩÆÊñá‰ª∂Â∞±ÊòØÊ≤°ÊúâÊÑè‰πâÁöÑÔºåÂÆÉ‰ª¨ÊúâÁùÄÂêÑËá™ÁöÑ‰ºòÁÇπÔºåÂú®‰∏çÂêåÁöÑÂú∫ÊôØ‰∏ãÂêàÁêÜ‰ΩøÁî®ÔºåËÉΩÂ§üËµ∑Âà∞‰∫ãÂçäÂäüÂÄçÁöÑÊïàÊûúÔºåÂÆòÊñπÂéüÊñáÔºö</p>
<blockquote>
<p>Are annotations better than XML for configuring Spring?</p>
<p>The introduction of annotation-based configuration raised the question of whether this approach is ‚Äúbetter‚Äù than XML. The short answer is ‚Äúit depends.‚Äù The long answer is that each approach has its pros and cons, and, usually, it is up to the developer to decide which strategy suits them better. Due to the way they are defined, annotations provide a lot of context in their declaration, leading to shorter and more concise configuration. However, XML excels at wiring up components without touching their source code or recompiling them. Some developers prefer having the wiring close to the source while others argue that annotated classes are no longer POJOs and, furthermore, that the configuration becomes decentralized and harder to control.</p>
<p>No matter the choice, Spring can accommodate both styles and even mix them together. It is worth pointing out that through its <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-java">JavaConfig</a> option, Spring lets annotations be used in a non-invasive way, without touching the target components source code and that, in terms of tooling, all configuration styles are supported by the <a href="https://spring.io/tools">Spring Tools for Eclipse</a>.</p>
</blockquote>
<p>Ëá≥Ê≠§ÔºåÂÖ≥‰∫éSpringÁöÑIoCÂü∫Á°ÄÈÉ®ÂàÜÔºåÊàë‰ª¨Â∞±ÂÖ®ÈÉ®‰ªãÁªçÂÆå‰∫Ü„ÄÇÂú®ÊúÄÂêéÔºåÁïôÁªôÂêÑ‰ΩçÂ∞è‰ºô‰º¥‰∏Ä‰∏™ÈóÆÈ¢òÔºåÁé∞Âú®Êúâ‰∏§‰∏™Á±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Resource</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Teacher</span><span class="w"> </span><span class="n">teacher</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Teacher</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Resource</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Ëøô‰∏§‰∏™Á±ª‰∫íÁõ∏ÈúÄË¶ÅÊ≥®ÂÖ•ÂØπÊñπÁöÑÂÆû‰æãÂØπË±°ÔºåËøô‰∏™Êó∂ÂÄôSpring‰ºöÊÄé‰πàËøõË°åÂ§ÑÁêÜÂë¢ÔºüÂ¶ÇÊûúBeanÂèòÊàêÂéüÂûãÊ®°ÂºèÔºåSpringÂèà‰ºöÊÄé‰πàÂ§ÑÁêÜÂë¢Ôºü</p>
<p>Ëøô‰∏™ÈóÆÈ¢òÊàë‰ª¨‰ºöÂú®ÂÆûÁé∞ÂéüÁêÜÊé¢Á©∂ÈÉ®ÂàÜËøõË°åËØ¶ÁªÜ‰ªãÁªç„ÄÇ</p>
<hr />
<h2 id="spring_2">SpringÈ´òÁ∫ßÁâπÊÄßÔºàÈÄâÂ≠¶Ôºâ<a class="headerlink" href="#spring_2" title="Permanent link">&para;</a></h2>
<p><strong>Ê≥®ÊÑèÔºö</strong>Êú¨ÈÉ®ÂàÜ‰∏∫ÈÄâÂ≠¶ÂÜÖÂÆπÔºåÂ¶ÇÊûúSpringÂü∫Á°ÄÈÉ®ÂàÜÂ≠¶ÁöÑ‰∏çÊòØÂæàÊòéÁôΩÔºå‰∏çÂª∫ËÆÆÁúãËøô‰∏ÄÈÉ®ÂàÜÔºåÂú®ÁêÜËß£Ê∏ÖÊ•ö‰πãÂêéÂÜçÊù•Áúã‰πüÂèØ‰ª•Ôºå‰ΩÜ‰πü‰∏çÊòØËØ¥‰ª•ÂêéÂ∞±‰∏çÁî®Â≠¶‰∫ÜÔºåËøô‰∫õ‰∏úË•øÂú®Êüê‰∫õÈ°πÁõÆ‰∏≠ÂèØËÉΩ‰ºöÁî®Âà∞Ôºå‰Ω†ËøüÊó©ËøòÊòØË¶ÅÂõûÊù•Ë°•ÁöÑ„ÄÇ</p>
<p>ÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫ÜSpringÁöÑÂü∫Á°ÄÈÉ®ÂàÜÔºåÊàë‰ª¨Êé•ÁùÄÊù•‰ªãÁªçSpringÁöÑ‰∏Ä‰∫õÂÖ∂‰ªñÈ´òÁ∫ßÁâπÊÄß„ÄÇ</p>
<h3 id="bean-aware">Bean Aware<a class="headerlink" href="#bean-aware" title="Permanent link">&para;</a></h3>
<p>Âú®Spring‰∏≠Êèê‰æõ‰∫Ü‰∏Ä‰∫õ‰ª•AwareÁªìÂ∞æÁöÑÊé•Âè£ÔºåÂÆûÁé∞‰∫ÜAwareÊé•Âè£ÁöÑbeanÂú®Ë¢´ÂàùÂßãÂåñ‰πãÂêéÔºåÂèØ‰ª•Ëé∑ÂèñÁõ∏Â∫îËµÑÊ∫ê„ÄÇAwareÁöÑ‰∏≠ÊñáÊÑèÊÄù‰∏∫<strong>ÊÑüÁü•</strong>„ÄÇÁÆÄÂçïÊù•ËØ¥Ôºå‰ªñÂ∞±ÊòØ‰∏Ä‰∏™Ê†áËØÜÔºåÂÆûÁé∞Ê≠§Êé•Âè£ÁöÑÁ±ª‰ºöËé∑ÂæóÊüê‰∫õÊÑüÁü•ËÉΩÂäõÔºåSpringÂÆπÂô®‰ºöÂú®BeanË¢´Âä†ËΩΩÊó∂ÔºåÊ†πÊçÆÁ±ªÂÆûÁé∞ÁöÑÊÑüÁü•Êé•Âè£Ôºå‰ºöË∞ÉÁî®Á±ª‰∏≠ÂÆûÁé∞ÁöÑÂØπÂ∫îÊÑüÁü•ÊñπÊ≥ï„ÄÇ</p>
<p>ÊØîÂ¶ÇBeanNameAware‰πãÁ±ªÁöÑ‰ª•AwareÁªìÂ∞æÁöÑÊé•Âè£ÔºåËøô‰∏™Êé•Âè£Ëé∑ÂèñÁöÑËµÑÊ∫êÂ∞±ÊòØBeanNameÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">BeanNameAware</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//Êàë‰ª¨Âè™ÈúÄË¶ÅÂÆûÁé∞Ëøô‰∏™Êé•Âè£Â∞±ÂèØ‰ª•‰∫Ü</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setBeanName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//BeanÂú®Âä†ËΩΩÁöÑÊó∂ÂÄôÔºåÂÆπÂô®Â∞±‰ºöËá™Âä®Ë∞ÉÁî®Ê≠§ÊñπÊ≥ïÔºåÂ∞ÜBeanÁöÑÂêçÁß∞ÁªôÂà∞Êàë‰ª¨</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÂú®Âä†ËΩΩÈò∂ÊÆµËé∑Âæó‰∫ÜBeanÂêçÂ≠óÔºö&quot;</span><span class="o">+</span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂèàÊØîÂ¶ÇBeanClassLoaderAwareÔºåÈÇ£‰πàÂÆÉËÉΩÂ§ü‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•Âú®BeanÂä†ËΩΩÈò∂ÊÆµÂ∞±Ëé∑ÂèñÂà∞ÂΩìÂâçBeanÁöÑÁ±ªÂä†ËΩΩÂô®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">BeanClassLoaderAware</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setBeanClassLoader</span><span class="p">(</span><span class="n">ClassLoader</span><span class="w"> </span><span class="n">classLoader</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">classLoader</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊúâÂÖ≥ÂÖ∂‰ªñÁöÑAwareËøôÈáåÂ∞±‰∏ç‰∏Ä‰∏ÄÂàó‰∏æ‰∫ÜÔºåÊàë‰ª¨‰ºöÂú®ÂêéÈù¢ÁöÑÂÆûÁé∞ÂéüÁêÜÊé¢Á©∂ÈÉ®ÂàÜÈÄêÊ≠•ËÆ§ËØÜÁöÑ„ÄÇ</p>
<h3 id="_5">‰ªªÂä°Ë∞ÉÂ∫¶<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>‰∏∫‰∫ÜÊâßË°åÊüê‰∫õ‰ªªÂä°ÔºåÊàë‰ª¨ÂèØËÉΩÈúÄË¶Å‰∏Ä‰∫õÈùûÂ∏∏ËßÑÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÊàë‰ª¨Â∏åÊúõ‰ΩøÁî®Â§öÁ∫øÁ®ãÊù•Â§ÑÁêÜÊàë‰ª¨ÁöÑÁªìÊûúÊàñÊòØÊâßË°å‰∏Ä‰∫õÂÆöÊó∂‰ªªÂä°ÔºåÂà∞ËææÊåáÂÆöÊó∂Èó¥ÂÜçÂéªÊâßË°å„ÄÇËøôÊó∂Êàë‰ª¨È¶ñÂÖàÊÉ≥Âà∞ÁöÑÂ∞±ÊòØÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜÔºåÊàñÊòØ‰ΩøÁî®TimerTaskÊù•ÂÆåÊàêÂÆöÊó∂‰ªªÂä°Ôºå‰ΩÜÊòØÊàë‰ª¨Êúâ‰∫ÜSpringÊ°ÜÊû∂‰πãÂêéÔºåÂ∞±‰∏çÁî®ËøôÊ†∑‰∫ÜÔºåÂõ†‰∏∫SpringÊ°ÜÊû∂‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÊõ¥Âä†‰æøÊç∑ÁöÑÊñπÂºèËøõË°å‰ªªÂä°Ë∞ÉÂ∫¶„ÄÇ</p>
<p>È¶ñÂÖàÊàë‰ª¨Êù•ÁúãÂºÇÊ≠•‰ªªÂä°ÊâßË°åÔºåÈúÄË¶Å‰ΩøÁî®SpringÂºÇÊ≠•‰ªªÂä°ÊîØÊåÅÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®ÈÖçÁΩÆÁ±ª‰∏äÊ∑ªÂä†<code>@EnableAsync</code>Ê≥®Ëß£„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableAsync</span>
<span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;com.test.bean&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Âè™ÈúÄË¶ÅÂú®ÈúÄË¶ÅÂºÇÊ≠•ÊâßË°åÁöÑÊñπÊ≥ï‰∏äÔºåÊ∑ªÂä†<code>@Async</code>Ê≥®Ëß£Âç≥ÂèØÂ∞ÜÊ≠§ÊñπÊ≥ïÊ†áËÆ∞‰∏∫ÂºÇÊ≠•ÔºåÂΩìÊ≠§ÊñπÊ≥ïË¢´Ë∞ÉÁî®Êó∂Ôºå‰ºöÂºÇÊ≠•ÊâßË°åÔºå‰πüÂ∞±ÊòØÊñ∞ÂºÄ‰∏Ä‰∏™Á∫øÁ®ãÊâßË°åÔºåËÄå‰∏çÊòØÂú®ÂΩìÂâçÁ∫øÁ®ãÊâßË°å„ÄÇÊàë‰ª¨Êù•ÊµãËØï‰∏Ä‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">syncTest</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&quot;ÊàëÊòØÂêåÊ≠•ÊâßË°åÁöÑÊñπÊ≥ïÔºåÂºÄÂßã...&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂêåÊ≠•ÊâßË°åÁöÑÊñπÊ≥ïÔºåÁªìÊùüÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Async</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">asyncTest</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="na">currentThread</span><span class="p">().</span><span class="na">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&quot;ÊàëÊòØÂºÇÊ≠•ÊâßË°åÁöÑÊñπÊ≥ïÔºåÂºÄÂßã...&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂºÇÊ≠•ÊâßË°åÁöÑÊñπÊ≥ïÔºåÁªìÊùüÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨Âú®‰∏ªÊñπÊ≥ï‰∏≠ÂàÜÂà´Ë∞ÉÁî®‰∏Ä‰∏ãËØïËØïÁúãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AnnotationConfigApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">student</span><span class="p">.</span><span class="na">asyncTest</span><span class="p">();</span><span class="w">   </span><span class="c1">//ÂºÇÊ≠•ÊâßË°å</span>
<span class="w">    </span><span class="n">student</span><span class="p">.</span><span class="na">syncTest</span><span class="p">();</span><span class="w">    </span><span class="c1">//ÂêåÊ≠•ÊâßË°å</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÊàë‰ª¨ÁöÑ‰ªªÂä°ÊâßË°åÁªìÊûú‰∏∫Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/7VKh3dreROJUTcN.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125153110860" src="https://s2.loli.net/2022/11/25/7VKh3dreROJUTcN.png" /></a></p>
<p>ÂæàÊòéÊòæÔºåÂºÇÊ≠•ÊâßË°åÁöÑ‰ªªÂä°Âπ∂‰∏çÊòØÂú®ÂΩìÂâçÁ∫øÁ®ãÂêØÂä®ÁöÑÔºåËÄåÊòØÂú®ÂÖ∂‰ªñÁ∫øÁ®ãÂêØÂä®ÁöÑÔºåÊâÄ‰ª•ËØ¥Âπ∂‰∏ç‰ºöÂú®ÂΩìÂâçÁ∫øÁ®ãÈòªÂ°ûÔºåÂèØ‰ª•ÁúãÂà∞È©¨‰∏äÂ∞±ÂºÄÂßãÊâßË°å‰∏ã‰∏ÄË°å‰ª£Á†ÅÔºåË∞ÉÁî®ÂêåÊ≠•ÊâßË°åÁöÑ‰ªªÂä°‰∫Ü„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÂΩìÊàë‰ª¨Ë¶ÅÂ∞ÜBeanÁöÑÊüê‰∏™ÊñπÊ≥ïËÆæËÆ°‰∏∫ÂºÇÊ≠•ÊâßË°åÊó∂ÔºåÂ∞±ÂèØ‰ª•Áõ¥Êé•Ê∑ªÂä†Ëøô‰∏™Ê≥®Ëß£„ÄÇ‰ΩÜÊòØÈúÄË¶ÅÊ≥®ÊÑèÔºåÊ∑ªÂä†Ê≠§Ê≥®Ëß£Ë¶ÅÊ±ÇÊñπÊ≥ïÁöÑËøîÂõûÂÄºÂè™ËÉΩÊòØvoidÊàñÊòØFutureÁ±ªÂûãÊâçÂèØ‰ª•ÔºàFutureÁ±ªÂûãÊàë‰ª¨Âú®JUCÁØáËßÜÈ¢ëÊïôÁ®ã‰∏≠ÊúâËØ¶ÁªÜ‰ªãÁªçÔºâ</p>
<p>ËøòÊúâÔºåÂú®‰ΩøÁî®Êó∂ÔºåÂèØËÉΩËøò‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑ‰ø°ÊÅØÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/7RfCIvYAZhMDPJe.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125153426124" src="https://s2.loli.net/2022/11/25/7RfCIvYAZhMDPJe.png" /></a></p>
<p>ËôΩÁÑ∂Âá∫Áé∞‰∫ÜËøôÊ†∑ÁöÑ‰ø°ÊÅØÔºå‰ΩÜÊòØÊàë‰ª¨ÁöÑÁ®ãÂ∫è‰æùÁÑ∂ÂèØ‰ª•Ê≠£Â∏∏ËøêË°åÔºåËøôÊòØÂõ†‰∏∫SpringÈªòËÆ§‰ºö‰ªéÂÆπÂô®‰∏≠ÈÄâÊã©‰∏Ä‰∏™<code>Executor</code>Á±ªÂûãÔºàËøôÂêåÊ†∑ÊòØÂú®JUCÁØáËßÜÈ¢ëÊïôÁ®ã‰∏≠‰ªãÁªçÁöÑÁ±ªÂûãÔºâÁöÑÂÆû‰æãÔºåÂπ∂‰ΩøÁî®ÂÆÉÊù•ÂàõÂª∫Á∫øÁ®ãÊâßË°å‰ªªÂä°ÔºåËøôÊòØSpringÊé®ËçêÁöÑÊñπÂºèÔºåÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞ÔºåÈÇ£‰πà‰ºö‰ΩøÁî®Ëá™Â∏¶ÁöÑ SimpleAsyncTaskExecutor Â§ÑÁêÜÂºÇÊ≠•ÊñπÊ≥ïË∞ÉÁî®„ÄÇ</p>
<p>ËÇØÂÆö‰ºöÊúâÂ∞è‰ºô‰º¥ÁñëÊÉëÔºå‰ªÄ‰πàÊÉÖÂÜµÔºüÔºÅËøô‰∏™ÊñπÊ≥ïÂæàÊòéÊòæÊàë‰ª¨Âπ∂Ê≤°ÊúâÂéªÁºñÂÜôÂºÇÊ≠•ÊâßË°åÁöÑÈÄªËæëÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πà‰ºöÂºÇÊ≠•ÊâßË°åÂë¢ÔºüËøôÈáåÂæàÊòéÊòæÊòØÂêåÊ≠•Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂïä„ÄÇÁöÑÁ°ÆÔºåÂ¶ÇÊûúËøô‰∏™BeanÂè™ÊòØ‰∏Ä‰∏™ÁÆÄÁÆÄÂçïÂçïÁöÑStudentÁ±ªÂûãÁöÑÂØπË±°ÔºåÁ°ÆÂÆûÂÅö‰∏çÂà∞„ÄÇ‰ΩÜÊòØÂÆÉÁúüÁöÑÂè™ÊòØ‰∏Ä‰∏™ÁÆÄÁÆÄÂçïÂçïÁöÑStudentÁ±ªÂûãÂØπË±°ÂêóÔºü</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">student</span><span class="p">.</span><span class="na">getClass</span><span class="p">());</span><span class="w">   </span><span class="c1">//ËøôÈáåÊàë‰ª¨ÈÄöËøágetClassÊù•Ëé∑Âèñ‰∏Ä‰∏ãÁ±ªÂûãÔºå‰Ω†‰ºöÂèëÁé∞ÊÉäÂñú</span>
</code></pre></div>
<p>Êàë‰ª¨Êù•ÁúãÁúãÁªìÊûúÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/qUlV5hj96YEupQM.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125154133618" src="https://s2.loli.net/2022/11/25/qUlV5hj96YEupQM.png" /></a></p>
<p>ÔºüÔºüÔºüËøôÊòØ‰ªÄ‰πà‰∏úË•øÔºüËøôÂÆûÈôÖ‰∏äSpringÂ∏ÆÂä©Êàë‰ª¨Âä®ÊÄÅÁîüÊàêÁöÑ‰∏Ä‰∏™‰ª£ÁêÜÁ±ªÔºåÊàë‰ª¨ÂéüÊú¨ÁöÑÁ±ª‰ª£Á†ÅÂ∑≤ÁªèË¢´‰øÆÊîπ‰∫ÜÔºåÂΩìÁÑ∂ÔºåËøôÂè™ÊòØÂÜ∞Â±±‰∏ÄËßíÔºåÊõ¥Â§öÁöÑÂÜÖÂÆπÔºåÊàë‰ª¨Ëøò‰ºöÂÜçAOPÈù¢ÂêëÂàáÁâáÈÉ®ÂàÜ‰∏≠ÁªßÁª≠‰∏∫Â§ßÂÆ∂ËøõË°å‰ªãÁªçÔºåËÉΩÂÅöÂà∞ËøôÊ†∑ÁöÑÊìç‰ΩúÔºåËøôÂÖ∂ÂÆûÈÉΩÊòØAOPÁöÑÂäüÂä≥„ÄÇ</p>
<p>ÁúãÂÆå‰∫ÜÂºÇÊ≠•‰ªªÂä°ÔºåÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÂÆöÊó∂‰ªªÂä°ÔºåÂÆöÊó∂‰ªªÂä°ÂÖ∂ÂÆûÂ∞±ÊòØÊåáÂÆöÂú®Âì™‰∏™Êó∂ÂÄôÂÜçÂéªÊâßË°åÔºåÂú®JavaSEÈò∂ÊÆµÊàë‰ª¨‰ΩøÁî®ËøáTimerTaskÊù•ÊâßË°åÂÆöÊó∂‰ªªÂä°„ÄÇSpring‰∏≠ÁöÑÂÆöÊó∂‰ªªÂä°ÊòØÂÖ®Â±ÄÊÄßË¥®ÁöÑÔºåÂΩìÊàë‰ª¨ÁöÑSpringÁ®ãÂ∫èÂêØÂä®ÂêéÔºåÈÇ£‰πàÂÆöÊó∂‰ªªÂä°‰πüÂ∞±Ë∑üÁùÄÂêØÂä®‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÈÖçÁΩÆÁ±ª‰∏äÊ∑ªÂä†<code>@EnableScheduling</code>Ê≥®Ëß£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableScheduling</span>
<span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;com.test.bean&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®ÈÖçÁΩÆÁ±ªÈáåÈù¢ÁºñÂÜôÂÆöÊó∂‰ªªÂä°ÔºåÊääÊàë‰ª¨Ë¶ÅÂÅöÁöÑ‰ªªÂä°ÂÜôÊàêÊñπÊ≥ïÔºåÂπ∂Ê∑ªÂä†<code>@Scheduled</code>Ê≥®Ëß£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Scheduled</span><span class="p">(</span><span class="n">fixedRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2000</span><span class="p">)</span><span class="w">   </span><span class="c1">//Âçï‰Ωç‰æùÁÑ∂ÊòØÊØ´ÁßíÔºåËøôÈáåÊòØÊØè‰∏§ÁßíÈíüÊâìÂç∞‰∏ÄÊ¨°</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">task</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂÆöÊó∂‰ªªÂä°ÔºÅ&quot;</span><span class="o">+</span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/aGv7f3eBXPsFdYr.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125155352390" src="https://s2.loli.net/2022/11/25/aGv7f3eBXPsFdYr.png" /></a></p>
<p>Êàë‰ª¨Ê≥®ÊÑèÂà∞<code>@Scheduled</code>‰∏≠ÊúâÂæàÂ§öÂèÇÊï∞ÔºåÊàë‰ª¨ÈúÄË¶ÅÊåáÂÆö'cron', 'fixedDelay(String)', or 'fixedRate(String)'ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÔºåÂê¶ÂàôÊó†Ê≥ïÂàõÂª∫ÂÆöÊó∂‰ªªÂä°Ôºå‰ªñ‰ª¨ÁöÑÂå∫Âà´Â¶Ç‰∏ãÔºö</p>
<ul>
<li>fixedDelayÔºöÂú®‰∏ä‰∏ÄÊ¨°ÂÆöÊó∂‰ªªÂä°ÊâßË°åÂÆå‰πãÂêéÔºåÈó¥ÈöîÂ§ö‰πÖÁªßÁª≠ÊâßË°å„ÄÇ</li>
<li>fixedRateÔºöÊó†ËÆ∫‰∏ä‰∏ÄÊ¨°ÂÆöÊó∂‰ªªÂä°ÊúâÊ≤°ÊúâÊâßË°åÂÆåÊàêÔºå‰∏§Ê¨°‰ªªÂä°‰πãÈó¥ÁöÑÊó∂Èó¥Èó¥Èöî„ÄÇ</li>
<li>cronÔºöÂ¶ÇÊûúÂ´å‰∏äÈù¢‰∏§‰∏™‰∏çÂ§üÁÅµÊ¥ªÔºå‰Ω†ËøòÂèØ‰ª•‰ΩøÁî®cronË°®ËææÂºèÊù•ÊåáÂÆö‰ªªÂä°ËÆ°Âàí„ÄÇ</li>
</ul>
<p>ËøôÈáåÁÆÄÂçïËÆ≤Ëß£‰∏Ä‰∏ãcronË°®ËææÂºèÔºö<a href="https://blog.csdn.net/sunnyzyq/article/details/98597252">https://blog.csdn.net/sunnyzyq/article/details/98597252</a></p>
<h3 id="_6">ÁõëÂê¨Âô®<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>ÁõëÂê¨Âô®ÂØπÊàë‰ª¨Êù•ËØ¥‰πüÊòØ‰∏Ä‰∏™ÊØîËæÉÈôåÁîüÁöÑÊ¶ÇÂøµÔºåÈÇ£‰πà‰ΩïË∞ìÁõëÂê¨Âë¢Ôºü</p>
<p>ÁõëÂê¨ÂÆûÈôÖ‰∏äÂ∞±ÊòØÁ≠âÂæÖÊüê‰∏™‰∫ã‰ª∂ÁöÑËß¶ÂèëÔºåÂΩì‰∫ã‰ª∂Ëß¶ÂèëÊó∂ÔºåÂØπÂ∫î‰∫ã‰ª∂ÁöÑÁõëÂê¨Âô®Â∞±‰ºöË¢´ÈÄöÁü•ÔºåÂ¶ÇÊûú‰Ω†Â≠¶‰π†ËøáJava SwingÁØáËßÜÈ¢ëÊïôÁ®ãÔºåÂ∫îËØ•‰ºöÊ∑±Êúâ‰Ωì‰ºöÔºåÁõëÂê¨Âô®ÂèØÊòØÂæàÂÖ≥ÈîÆÁöÑÔºåÂè™‰∏çËøáÂú®Spring‰∏≠Áî®ÁöÑ‰∏çÊòØÂæàÈ¢ëÁπÅÁΩ¢‰∫Ü„ÄÇ‰ΩÜÊòØËøôÈáåËøòÊòØË¶ÅÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestListener</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ApplicationListener</span><span class="o">&lt;</span><span class="n">ContextRefreshedEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onApplicationEvent</span><span class="p">(</span><span class="n">ContextRefreshedEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="na">getApplicationContext</span><span class="p">());</span><span class="w">   </span><span class="c1">//ÂèØ‰ª•Áõ¥Êé•ÈÄöËøá‰∫ã‰ª∂Ëé∑ÂèñÂà∞‰∫ã‰ª∂Áõ∏ÂÖ≥ÁöÑ‰∏úË•ø</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ë¶ÅÁºñÂÜôÁõëÂê¨Âô®ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅËÆ©BeanÁªßÊâøApplicationListenerÂ∞±ÂèØ‰ª•‰∫ÜÔºåÂπ∂‰∏îÂ∞ÜÁ±ªÂûãÊåáÂÆö‰∏∫ÂØπÂ∫îÁöÑEvent‰∫ã‰ª∂ÔºåËøôÊ†∑ÔºåÂΩìÂèëÁîüÊüê‰∏™‰∫ã‰ª∂Êó∂Â∞±‰ºöÈÄöÁü•Êàë‰ª¨ÔºåÊØîÂ¶ÇContextRefreshedEventÔºåËøô‰∏™‰∫ã‰ª∂‰ºöÂú®SpringÂÆπÂô®ÂàùÂßãÂåñÂÆåÊàê‰ºöËß¶Âèë‰∏ÄÊ¨°Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/MZN3eohGmV17vUJ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125155804255" src="https://s2.loli.net/2022/11/25/MZN3eohGmV17vUJ.png" /></a></p>
<p>ÊòØ‰∏çÊòØÊÑüËßâÊå∫Êô∫ËÉΩÁöÑÔºüSpringÂÜÖÈÉ®ÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑ‰∫ã‰ª∂ÔºåÂΩìÁÑ∂Êàë‰ª¨‰πüÂèØ‰ª•Ëá™Â∑±ÁºñÂÜô‰∫ã‰ª∂ÔºåÁÑ∂ÂêéÂú®Êüê‰∏™Êó∂ÂàªÂèëÂ∏ÉËøô‰∏™‰∫ã‰ª∂Âà∞ÊâÄÊúâÁöÑÁõëÂê¨Âô®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestEvent</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ApplicationEvent</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//Ëá™ÂÆö‰πâ‰∫ã‰ª∂ÈúÄË¶ÅÁªßÊâøApplicationEvent</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">TestEvent</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">source</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestListener</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ApplicationListener</span><span class="o">&lt;</span><span class="n">TestEvent</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">onApplicationEvent</span><span class="p">(</span><span class="n">TestEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÂèëÁîü‰∫Ü‰∏ÄÊ¨°Ëá™ÂÆö‰πâ‰∫ã‰ª∂ÔºåÊàêÂäüÁõëÂê¨Âà∞ÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊØîÂ¶ÇÁé∞Âú®Êàë‰ª¨Â∏åÊúõÂú®ÂÆöÊó∂‰ªªÂä°‰∏≠ÊØèÁßíÈíüÂèëÁîü‰∏ÄÊ¨°Ëøô‰∏™‰∫ã‰ª∂Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TaskComponent</span><span class="w">  </span><span class="kd">implements</span><span class="w"> </span><span class="n">ApplicationEventPublisherAware</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="c1">//Ë¶ÅÂèëÂ∏É‰∫ã‰ª∂ÔºåÈúÄË¶ÅÊãøÂà∞ApplicationEventPublisherÔºåËøôÈáåÊàë‰ª¨ÈÄöËøáAwareÂú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÊãøÂà∞</span>
<span class="w">    </span><span class="c1">//ÂÆûÈôÖ‰∏äÊàë‰ª¨ÁöÑApplicationContextÂ∞±ÊòØApplicationEventPublisherÁöÑÂÆûÁé∞Á±ªÔºåËøôÈáåÊãøÂà∞ÁöÑÂ∞±ÊòØ</span>
<span class="w">    </span><span class="c1">//Êàë‰ª¨ÂàõÂª∫ÁöÑApplicationContextÂØπË±°</span>
<span class="w">    </span><span class="n">ApplicationEventPublisher</span><span class="w"> </span><span class="n">publisher</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Scheduled</span><span class="p">(</span><span class="n">fixedRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w">   </span><span class="c1">//‰∏ÄÁßí‰∏ÄÊ¨°</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">task</span><span class="p">(){</span>
<span class="w">        </span><span class="c1">//Áõ¥Êé•ÈÄöËøáApplicationEventPublisherÁöÑpublishEventÊñπÊ≥ïÂèëÂ∏É‰∫ã‰ª∂</span>
<span class="w">        </span><span class="c1">//ËøôÊ†∑ÔºåÊâÄÊúâËøô‰∏™‰∫ã‰ª∂ÁöÑÁõëÂê¨Âô®ÔºåÈÉΩ‰ºöÁõëÂê¨Âà∞Ëøô‰∏™‰∫ã‰ª∂ÂèëÁîü‰∫Ü</span>
<span class="w">        </span><span class="n">publisher</span><span class="p">.</span><span class="na">publishEvent</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TestEvent</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setApplicationEventPublisher</span><span class="p">(</span><span class="n">ApplicationEventPublisher</span><span class="w"> </span><span class="n">publisher</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">publisher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">publisher</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≠§Êó∂ÔºåÂèëÂ∏É‰∫ã‰ª∂ÊóÅËæπÂá∫Áé∞‰∫ÜÂõæÊ†áÔºåËØ¥ÊòéÂ∞±ÂèØ‰ª•‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/fDxYEGPWdyMt7XF.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125161224037" src="https://s2.loli.net/2022/11/25/fDxYEGPWdyMt7XF.png" /></a></p>
<p>Êàë‰ª¨ÂèØ‰ª•ÁÇπÂáªËøô‰∏™ÂõæÊ†áÂø´ÈÄüË∑≥ËΩ¨Âà∞Âì™ÈáåÁõëÂê¨‰∫ÜËøô‰∏™‰∫ã‰ª∂ÔºåIDEAËøô‰∫õÁªÜËäÇÂÅöÁöÑËøòÊòØÊå∫Â•ΩÁöÑ„ÄÇÊàë‰ª¨Êù•ÁúãÁúãËøêË°åÁªìÊûúÂêßÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/FKy1jBx3MJvVdDN.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125161125557" src="https://s2.loli.net/2022/11/25/FKy1jBx3MJvVdDN.png" /></a></p>
<p>ÊòØ‰∏çÊòØÊÑüËßâÂ•ΩÂÉè‰πüÊ≤°ÈÇ£‰πàÈöæÔºåËøôÂ•óÊú∫Âà∂ÂÖ∂ÂÆûËøòÊå∫ÁÆÄÂçïÁöÑÔºåËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂÆûÁé∞‰∫ÜËá™ÂÆö‰πâ‰∫ã‰ª∂ÂèëÂ∏ÉÂíåÁõëÂê¨„ÄÇ</p>
<hr />
<h2 id="springel">SpringELË°®ËææÂºè<a class="headerlink" href="#springel" title="Permanent link">&para;</a></h2>
<p>SpEL ÊòØ‰∏ÄÁßçÂº∫Â§ßÔºåÁÆÄÊ¥ÅÁöÑË£ÖÈÖç Bean ÁöÑÊñπÂºèÔºåÂÆÉÂèØ‰ª•ÈÄöËøáËøêË°åÊúüÈó¥ÊâßË°åÁöÑË°®ËææÂºèÂ∞ÜÂÄºË£ÖÈÖçÂà∞Êàë‰ª¨ÁöÑÂ±ûÊÄßÊàñÊûÑÈÄ†ÂáΩÊï∞ÂΩì‰∏≠ÔºåÊõ¥ÂèØ‰ª•Ë∞ÉÁî® JDK ‰∏≠Êèê‰æõÁöÑÈùôÊÄÅÂ∏∏ÈáèÔºåËé∑ÂèñÂ§ñÈÉ® Properties Êñá‰ª∂‰∏≠ÁöÑÁöÑÈÖçÁΩÆ„ÄÇ</p>
<h3 id="_7">Â§ñÈÉ®Â±ûÊÄßÊ≥®ÂÖ•<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>Êúâ‰∫õÊó∂ÂÄôÔºåÊàë‰ª¨ÁîöËá≥ÂèØ‰ª•Â∞Ü‰∏Ä‰∫õÂ§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÈÖçÁΩÆËøõË°åËØªÂèñÔºåÂπ∂ÂÆåÊàêÊ≥®ÂÖ•„ÄÇ</p>
<p>Êàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰ª•<code>.properties</code>ÁªìÂ∞æÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåËøôÁßçÈÖçÁΩÆÊñá‰ª∂Ê†ºÂºèÂæàÁÆÄÂçïÔºåÁ±ª‰ºº‰∫éMapÔºåÈúÄË¶Å‰∏Ä‰∏™KeyÂíå‰∏Ä‰∏™ValueÔºå‰∏≠Èó¥‰ΩøÁî®Á≠âÂè∑ËøõË°åËøûÊé•ÔºåËøôÈáåÊàë‰ª¨Âú®resourceÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™<code>test.properties</code>Êñá‰ª∂Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="na">test.name</span><span class="o">=</span><span class="s">Âè™Âõ†</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåKeyÂ∞±ÊòØ<code>test.name</code>ÔºåValueÂ∞±ÊòØ<code>Âè™Âõ†</code>ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∏™Ê≥®Ëß£Áõ¥Êé•ËØªÂèñÂà∞Â§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂØπÂ∫îÁöÑÂ±ûÊÄßÂÄºÔºåÈ¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂºïÂÖ•Ëøô‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÈÖçÁΩÆÁ±ª‰∏äÊ∑ªÂä†<code>@PropertySource</code>Ê≥®Ëß£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;com.test.bean&quot;</span><span class="p">)</span>
<span class="nd">@PropertySource</span><span class="p">(</span><span class="s">&quot;classpath:test.properties&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">//Ê≥®ÊÑèÔºåÁ±ªË∑ØÂæÑ‰∏ãÁöÑÊñá‰ª∂ÂêçÁß∞ÈúÄË¶ÅÂú®ÂâçÈù¢Âä†‰∏äclasspath:</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÂºÄÂßãÂø´‰πêÁöÑ‰ΩøÁî®‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® @Value Ê≥®Ëß£Â∞ÜÂ§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂÄºÊ≥®ÂÖ•Âà∞‰ªª‰ΩïÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑ‰ΩçÁΩÆÔºåÂ∞±ÂÉèÊàë‰ª¨‰πãÂâç‰ΩøÁî®@ResourceËá™Âä®Ê≥®ÂÖ•‰∏ÄÊ†∑Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;${test.name}&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">//ËøôÈáåÈúÄË¶ÅÂú®Â§ñÂ±ÇÂ•ó‰∏ä ${ }</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">   </span><span class="c1">//String‰ºöË¢´Ëá™Âä®ËµãÂÄº‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂØπÂ∫îÂ±ûÊÄßÁöÑÂÄº</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">hello</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÁöÑÂêçÂ≠óÊòØÔºö&quot;</span><span class="o">+</span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><code>@Value</code>‰∏≠ÁöÑ<code>${...}</code>Ë°®Á§∫Âç†‰ΩçÁ¨¶ÔºåÂÆÉ‰ºöËØªÂèñÂ§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂ÁöÑÂ±ûÊÄßÂÄºË£ÖÈÖçÂà∞Â±ûÊÄß‰∏≠ÔºåÂ¶ÇÊûúÈÖçÁΩÆÊ≠£Á°ÆÊ≤°ÈóÆÈ¢òÁöÑËØùÔºåËøôÈáåÁîöËá≥Ëøò‰ºöÁõ¥Êé•ÊòæÁ§∫ÂØπÂ∫îÈÖçÁΩÆÈ°πÁöÑÂÄºÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/HDZ4l3tcreoOGh8.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125164854022" src="https://s2.loli.net/2022/11/25/HDZ4l3tcreoOGh8.png" /></a></p>
<p>Êàë‰ª¨Êù•ÊµãËØï‰∏Ä‰∏ãÂêßÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/g5tBKW4Sm9lXnrR.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125165145332" src="https://s2.loli.net/2022/11/25/g5tBKW4Sm9lXnrR.png" /></a></p>
<p>Â¶ÇÊûúÈÅáÂà∞‰π±Á†ÅÁöÑÊÉÖÂÜµÔºåËØ∑Â∞ÜÈÖçÁΩÆÊñá‰ª∂ÁöÑÁºñÁ†ÅÊ†ºÂºèÂàáÊç¢ÊàêUTF-8ÔºàÂèØ‰ª•Âú®IDEAËÆæÁΩÆ‰∏≠ËøõË°åÈÖçÁΩÆÔºâÁÑ∂ÂêéÂú®@PropertySourceÊ≥®Ëß£‰∏≠Ê∑ªÂä†Â±ûÊÄß encoding = "UTF-8" ËøôÊ†∑Â∞±Ê≠£Â∏∏‰∫ÜÔºåÂΩìÁÑ∂ÔºåÂÖ∂ÂÆû‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã‰πüÂæàÂ∞ë‰ºöÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Áî®Âà∞‰∏≠Êñá„ÄÇ</p>
<p>Èô§‰∫ÜÂú®Â≠óÊÆµ‰∏äËøõË°åÊ≥®ÂÖ•‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Âú®ÈúÄË¶ÅÊ≥®ÂÖ•ÁöÑÊñπÊ≥ï‰∏≠‰ΩøÁî®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="c1">//ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÁöÑÂèÇÊï∞Èô§‰∫ÜË¢´Ëá™Âä®Ê≥®ÂÖ•Â§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÈÄâÊã©‰ΩøÁî®@ValueËøõË°åÊ≥®ÂÖ•</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Student</span><span class="p">(</span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;${test.name}&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">){</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">hello</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÁöÑÂêçÂ≠óÊòØÔºö&quot;</span><span class="o">+</span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊàë‰ª¨Âè™ÊòØÊÉ≥ÁÆÄÂçïÁöÑÊ≥®ÂÖ•‰∏Ä‰∏™Â∏∏ÈáèÂÄºÔºå‰πüÂèØ‰ª•Áõ¥Êé•Â°´ÂÖ•Âõ∫ÂÆöÂÄºÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="kd">public</span><span class="w"> </span><span class="nf">Student</span><span class="p">(</span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;10&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">){</span><span class="w">   </span><span class="c1">//Âè™‰∏çËøáÔºåËøôÈáåÈÉΩÊòØÂ∏∏ÈáèÂÄº‰∫ÜÔºåÊàëÂπ≤Âòõ‰∏çÁõ¥Êé•ÂÜôÂà∞‰ª£Á†ÅÈáåÂë¢</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂΩìÁÑ∂Ôºå@Value ÁöÑÂäüËÉΩËøòËøú‰∏çÊ≠¢Ëøô‰∫õÔºåÈÖçÂêàSpringELË°®ËææÂºèÔºåËÉΩÂ§üÂÆûÁé∞Êõ¥Âä†Âº∫Â§ßÁöÑÂäüËÉΩ„ÄÇ</p>
<h3 id="spel">SpELÁÆÄÂçï‰ΩøÁî®<a class="headerlink" href="#spel" title="Permanent link">&para;</a></h3>
<p>SpringÂÆòÊñπ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏ÄÂ•óÈùûÂ∏∏È´òÁ∫ßSpELË°®ËææÂºèÔºåÈÄöËøá‰ΩøÁî®Ë°®ËææÂºèÔºåÊàë‰ª¨ÂèØ‰ª•Êõ¥Âä†ÁÅµÊ¥ªÂú∞‰ΩøÁî®SpringÊ°ÜÊû∂„ÄÇ</p>
<p>È¶ñÂÖàÊàë‰ª¨Êù•ÁúãÁúãÂ¶Ç‰ΩïÂàõÂª∫‰∏Ä‰∏™SpELË°®ËææÂºèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">ExpressionParser</span><span class="w"> </span><span class="n">parser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpelExpressionParser</span><span class="p">();</span>
<span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;&#39;Hello World&#39;&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">//‰ΩøÁî®parseExpressionÊñπÊ≥ïÊù•ÂàõÂª∫‰∏Ä‰∏™Ë°®ËææÂºè</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span><span class="w">   </span><span class="c1">//Ë°®ËææÂºèÊúÄÁªàÁöÑËøêÁÆóÁªìÊûúÂèØ‰ª•ÈÄöËøágetValue()Ëé∑Âèñ</span>
</code></pre></div>
<p>ËøôÈáåÂæóÂà∞ÁöÑÂ∞±ÊòØ‰∏Ä‰∏™ÂæàÁÆÄÂçïÁöÑ Hello World Â≠óÁ¨¶‰∏≤ÔºåÂ≠óÁ¨¶‰∏≤‰ΩøÁî®ÂçïÂºïÂè∑ÂõäÊã¨ÔºåSpELÊòØÂÖ∑ÊúâËøêÁÆóËÉΩÂäõÁöÑ„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•ÂÉèÂÜôJava‰∏ÄÊ†∑ÔºåÂØπËøô‰∏™Â≠óÁ¨¶‰∏≤ËøõË°åÂêÑÁßçÊìç‰ΩúÔºåÊØîÂ¶ÇË∞ÉÁî®ÊñπÊ≥ï‰πãÁ±ªÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;&#39;Hello World&#39;.toUpperCase()&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//Ë∞ÉÁî®StringÁöÑtoUpperCaseÊñπÊ≥ï</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/PZmheYn5EVTvURN.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125173157008" src="https://s2.loli.net/2022/11/25/PZmheYn5EVTvURN.png" /></a></p>
<p>‰∏ç‰ªÖËÉΩË∞ÉÁî®ÊñπÊ≥ï„ÄÅËøòÂèØ‰ª•ËÆøÈóÆÂ±ûÊÄß„ÄÅ‰ΩøÁî®ÊûÑÈÄ†ÊñπÊ≥ïÁ≠âÔºåÊòØ‰∏çÊòØÊÑüËßâÊå∫ÁâõÁöÑÔºåÂ±ÖÁÑ∂ËøòËÉΩËøôÊ†∑Áé©„ÄÇ</p>
<p>ÂØπ‰∫éGetterÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÂÉèËÆøÈóÆÂ±ûÊÄß‰∏ÄÊ†∑Âéª‰ΩøÁî®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="c1">//ÊØîÂ¶Ç String.getBytes() ÊñπÊ≥ïÔºåÂ∞±ÊòØ‰∏Ä‰∏™GetterÔºåÈÇ£‰πàÂèØ‰ª•ÂÜôÊàê bytes</span>
<span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;&#39;Hello World&#39;.bytes&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<p>Ë°®ËææÂºèÂèØ‰ª•‰∏çÊ≠¢‰∏ÄÁ∫ßÔºåÊàë‰ª¨ÂèØ‰ª•Â§öÁ∫ßË∞ÉÁî®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;&#39;Hello World&#39;.bytes.length&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÁªßÁª≠ËÆøÈóÆÊï∞ÁªÑÁöÑlengthÂ±ûÊÄß</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<p>ÊòØ‰∏çÊòØÊÑüËßâÊå∫Â•ΩÁé©ÁöÑÔºüÊàë‰ª¨ÁªßÁª≠Êù•ËØïËØïÁúãÊûÑÈÄ†ÊñπÊ≥ïÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂÜôJava‰ª£Á†ÅÔºåÂè™ÊòØÂèØ‰ª•ÂÜôÊàêËøôÁßçË°®ËææÂºèËÄåÂ∑≤Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;new String(&#39;hello world&#39;).toUpperCase()&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/25/PZmheYn5EVTvURN.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221125173157008" src="https://s2.loli.net/2022/11/25/PZmheYn5EVTvURN.png" /></a></p>
<p>ÂÆÉÁîöËá≥ËøòÊîØÊåÅÊ†πÊçÆÁâπÂÆöË°®ËææÂºèÔºå‰ªéÁªôÂÆöÂØπË±°‰∏≠Ëé∑ÂèñÂ±ûÊÄßÂá∫Êù•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Student</span><span class="p">(</span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;${test.name}&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">){</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="c1">//ÊØîÂ¶Ç‰∏ãÈù¢Ë¶ÅËÆøÈóÆnameÂ±ûÊÄßÔºåÈÇ£‰πàËøô‰∏™Â±ûÊÄßÂæóÂèØ‰ª•ËÆøÈóÆÊâçË°åÔºåËÆøÈóÆÊùÉÈôê‰∏çÂ§üÊòØ‰∏çË°åÁöÑ</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">ExpressionParser</span><span class="w"> </span><span class="n">parser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SpelExpressionParser</span><span class="p">();</span>
<span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span><span class="w">    </span><span class="c1">//Áõ¥Êé•ËØªÂèñÂØπË±°ÁöÑnameÂ±ûÊÄß</span>
</code></pre></div>
<p>ÊãøÂà∞ÂØπË±°Â±ûÊÄß‰πãÂêéÔºåÁîöËá≥ËøòÂèØ‰ª•ÁªßÁª≠ÂéªÂ§ÑÁêÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;name.bytes.length&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÊãøÂà∞name‰πãÂêéÁªßÁª≠getBytesÁÑ∂Âêélength</span>
</code></pre></div>
<p>Èô§‰∫ÜËé∑ÂèñÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ë∞ÉÁî®Ë°®ËææÂºèÁöÑsetValueÊñπÊ≥ïÊù•ËÆæÂÆöÂ±ûÊÄßÁöÑÂÄºÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">);</span>
<span class="n">exp</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="n">student</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ÂàªÂ∏àÂÇÖ&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÂêåÊ†∑ÁöÑÔºåËøô‰∏™Â±ûÊÄßÂæóÊúâËÆøÈóÆÊùÉÈôê‰∏îËÉΩsetÊâçÂèØ‰ª•ÔºåÂê¶Âàô‰ºöÊä•Èîô</span>
</code></pre></div>
<p>Èô§‰∫ÜÂ±ûÊÄßË∞ÉÁî®ÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®ËøêÁÆóÁ¨¶ËøõË°åÂêÑÁßçÈ´òÁ∫ßËøêÁÆóÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;66 &gt; 77&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÊØîËæÉËøêÁÆó</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;99 + 99 * 3&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÁÆóÊï∞ËøêÁÆó</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<p>ÂØπ‰∫éÈÇ£‰∫õÈúÄË¶ÅÂØºÂÖ•ÊâçËÉΩ‰ΩøÁî®ÁöÑÁ±ªÔºåÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®‰∏Ä‰∏™ÁâπÊÆäÁöÑËØ≠Ê≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;T(java.lang.Math).random()&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//Áî±T()ÂõäÊã¨ÔºåÂåÖÂê´ÂÆåÊï¥ÂåÖÂêç+Á±ªÂêç</span>
<span class="c1">//Expression exp = parser.parseExpression(&quot;T(System).nanoTime()&quot;);   //ÈªòËÆ§ÂØºÂÖ•ÁöÑÁ±ªÂèØ‰ª•‰∏çÂä†ÂåÖÂêç</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<h3 id="_8">ÈõÜÂêàÊìç‰ΩúÁõ∏ÂÖ≥ËØ≠Ê≥ï<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>Áé∞Âú®Êàë‰ª¨ÁöÑÁ±ª‰∏≠Â≠òÂú®‰∏Ä‰∫õÈõÜÂêàÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;‰Ω†Âπ≤Âòõ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;AAA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;BBB&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CCC&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®SpELÂø´ÈÄüÂèñÂá∫ÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;map[&#39;test&#39;]&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">//ÂØπ‰∫éMapËøôÈáåÊò†Â∞ÑÂûãÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®map[key]Êù•ÂèñÂá∫value</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;list[2]&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÂØπ‰∫éList„ÄÅÊï∞ÁªÑËøôÁ±ªÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®[index]</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span>
</code></pre></div>
<p>Êàë‰ª¨‰πüÂèØ‰ª•Âø´ÈÄüÂàõÂª∫ÈõÜÂêàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;{5, 2, 1, 4, 6, 7, 0, 3, 9, 8}&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">//‰ΩøÁî®{}Êù•Âø´ÈÄüÂàõÂª∫ListÈõÜÂêà</span>
<span class="n">List</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">List</span><span class="p">)</span><span class="w"> </span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">();</span>
<span class="n">value</span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;{{1, 2}, {3, 4}}&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÂÆÉÊòØÊîØÊåÅÂµåÂ•ó‰ΩøÁî®ÁöÑ</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">//ÂàõÂª∫Map‰πüÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶Åkey:valueÂ∞±ÂèØ‰ª•‰∫ÜÔºåÊÄé‰πàÊúâËÇ°JSONÂë≥</span>
<span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;{name: &#39;Â∞èÊòé&#39;, info: {address: &#39;Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫&#39;, tel: 10086}}&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">());</span>
</code></pre></div>
<p>‰Ω†‰ª•‰∏∫Â∞±Ëøô‰πàÁÆÄÂçïÂêóÔºåÊàë‰ª¨ËøòÂèØ‰ª•Áõ¥Êé•Ê†πÊçÆÊù°‰ª∂Ëé∑ÂèñÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Clazz</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Clazz</span><span class="p">(</span><span class="s">&quot;È´òÁ≠âÊï∞Â≠¶&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">record</span> <span class="nc">Clazz</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">score</span><span class="p">){</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">//Áé∞Âú®Êàë‰ª¨Â∏åÊúõ‰ªélist‰∏≠Ëé∑ÂèñÈÇ£‰∫õÊª°Ë∂≥Êàë‰ª¨Êù°‰ª∂ÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÁªÑÊàê‰∏Ä‰∏™Êñ∞ÁöÑÈõÜÂêàÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®.?ËøêÁÆóÁ¨¶</span>
<span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;list.?[name == &#39;È´òÁ≠âÊï∞Â≠¶&#39;]&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;list.?[score &gt; 3]&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÈÄâÊã©Â≠¶ÂàÜÂ§ß‰∫é3ÂàÜÁöÑÁßëÁõÆ</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span>
</code></pre></div>
<p>Êàë‰ª¨ËøòÂèØ‰ª•ÈíàÂØπÊüê‰∏™Â±ûÊÄßÂàõÂª∫ÂØπÂ∫îÁöÑÊäïÂΩ±ÈõÜÂêàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;list.![name]&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//‰ΩøÁî®.!ÂàõÂª∫ÊäïÂΩ±ÈõÜÂêàÔºåËøôÈáåÂàõÂª∫ÁöÑÊó∂ËØæÁ®ãÂêçÁß∞ÁªÑÊàêÁöÑÊñ∞ÈõÜÂêà</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/30/yLNHPJnWkoR3Cb2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221130153142677" src="https://s2.loli.net/2022/11/30/yLNHPJnWkoR3Cb2.png" /></a></p>
<p>Êàë‰ª¨Êé•ÁùÄÊù•‰ªãÁªçÂÆâÂÖ®ÂØºËà™ËøêÁÆóÁ¨¶ÔºåÂÆâÂÖ®ÂØºËà™ËøêÁÆóÁ¨¶Áî®‰∫éÈÅøÂÖçNullPointerExceptionÔºåÂÆÉÊù•Ëá™GroovyËØ≠Ë®Ä„ÄÇÈÄöÂ∏∏ÔºåÂΩìÊÇ®ÊúâÂØπÂØπË±°ÁöÑÂºïÁî®Êó∂ÔºåÊÇ®ÂèØËÉΩÈúÄË¶ÅÂú®ËÆøÈóÆÂØπË±°ÁöÑÊñπÊ≥ïÊàñÂ±ûÊÄß‰πãÂâçÈ™åËØÅÂÆÉÊòØÂê¶‰∏∫Á©∫„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçËøôÁßçÊÉÖÂÜµÔºåÂÆâÂÖ®ÂØºËà™ËøêÁÆóÁ¨¶ËøîÂõûnullËÄå‰∏çÊòØÊäõÂá∫ÂºÇÂ∏∏„ÄÇ‰ª•‰∏ãÁ§∫‰æãÊòæÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®ÂÆâÂÖ®ÂØºËà™ËøêÁÆóÁ¨¶Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;name.toUpperCase()&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">//Â¶ÇÊûúStudentÂØπË±°‰∏≠ÁöÑnameÂ±ûÊÄß‰∏∫null</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/30/dojeP5kYcM7KHiv.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221130150723018" src="https://s2.loli.net/2022/11/30/dojeP5kYcM7KHiv.png" /></a></p>
<p>ÂΩìÈÅáÂà∞nullÊó∂Âæà‰∏çÊñπ‰æøÔºåÊàë‰ª¨ËøòÂæóÂÜôÂà§Êñ≠Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="p">(</span><span class="n">student</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">student</span><span class="p">.</span><span class="na">name</span><span class="p">.</span><span class="na">toUpperCase</span><span class="p">());</span>
</code></pre></div>
<p>Java 8‰πãÂêéËÉΩËøôÊ†∑ÂÜôÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Optional</span><span class="p">.</span><span class="na">ofNullable</span><span class="p">(</span><span class="n">student</span><span class="p">.</span><span class="na">name</span><span class="p">).</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
</code></pre></div>
<p>‰ΩÜÊòØ‰Ω†Â¶ÇÊûúÂÜôËøáKotlinÔºö
<div class="highlight"><pre><span></span><code><span class="n">println</span><span class="p">(</span><span class="n">student</span><span class="p">.</span><span class="na">name</span><span class="o">?.</span><span class="na">toUpperCase</span><span class="p">());</span>
</code></pre></div></p>
<p>Á±ª‰ºº‰∫éËøôÁßçÂà§Á©∫ÈóÆÈ¢òÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÂÆâÂÖ®ÂØºËà™ËøêÁÆóÁ¨¶ÔºåSpEL‰πüÊîØÊåÅËøôÁßçÂÜôÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Expression</span><span class="w"> </span><span class="n">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parser</span><span class="p">.</span><span class="na">parseExpression</span><span class="p">(</span><span class="s">&quot;name?.toUpperCase()&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">exp</span><span class="p">.</span><span class="na">getValue</span><span class="p">(</span><span class="n">student</span><span class="p">));</span>
</code></pre></div>
<p>ÂΩìÈÅáÂà∞Á©∫Êó∂ÔºåÂè™‰ºöÂæóÂà∞‰∏Ä‰∏™nullÔºåËÄå‰∏çÊòØÁõ¥Êé•ÊäõÂá∫‰∏Ä‰∏™ÂºÇÂ∏∏Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/30/tOf3LFsWE4H8BVc.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221130150654287" src="https://s2.loli.net/2022/11/30/tOf3LFsWE4H8BVc.png" /></a></p>
<p>Êàë‰ª¨ÂèØ‰ª•Â∞ÜSpELÈÖçÂêà @Value Ê≥®Ëß£ÊàñÊòØxmlÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑvalueÂ±ûÊÄß‰ΩøÁî®ÔºåÊØîÂ¶ÇXML‰∏≠ÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;numberGuess&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.spring.samples.NumberGuess&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;randomNumber&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;#{ T(java.lang.Math).random() * 100.0 }&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre></div>
<p>ÊàñÊòØ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèëÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FieldValueTestBean</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&quot;#{ systemProperties[&#39;user.region&#39;] }&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">defaultLocale</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨ÊúâÊó∂ÂÄôÂú®‰ΩøÁî®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂÄºÊó∂ÔºåÂ∞±ËÉΩËøõË°å‰∏Ä‰∫õÁÆÄÂçïÁöÑÂ§ÑÁêÜ‰∫Ü„ÄÇ</p>
<p>ÊúâÂÖ≥Êõ¥Â§öËØ¶ÁªÜËØ≠Ê≥ïÊïôÁ®ãÔºåËØ∑ÂâçÂæÄÔºö<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-language-ref">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-language-ref</a></p>
<hr />
<h2 id="aop">AOPÈù¢ÂêëÂàáÁâá<a class="headerlink" href="#aop" title="Permanent link">&para;</a></h2>
<p>ÂèàÊòØ‰∏Ä‰∏™Âê¨Ëµ∑Êù•ÂæàÈ´òÂ§ß‰∏äÁöÑÂêçËØçÔºåAOPÔºàAspect Oriented ProgrammingÔºâÊÄùÊÉ≥ÂÆûÈôÖ‰∏äÂ∞±ÊòØÔºöÂú®ËøêË°åÊó∂ÔºåÂä®ÊÄÅÂú∞Â∞Ü‰ª£Á†ÅÂàáÂÖ•Âà∞Á±ªÁöÑÊåáÂÆöÊñπÊ≥ï„ÄÅÊåáÂÆö‰ΩçÁΩÆ‰∏ä„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®AOPÊù•Â∏ÆÂä©Êàë‰ª¨Âú®ÊñπÊ≥ïÊâßË°åÂâçÊàñÊâßË°å‰πãÂêéÔºåÂÅö‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÊìç‰ΩúÔºåÂÆûÈôÖ‰∏äÔºåÂÆÉÂ∞±ÊòØ‰ª£ÁêÜÔºÅ</p>
<p>ÈÄöËøáAOPÊàë‰ª¨ÂèØ‰ª•Âú®‰øùËØÅÂéüÊúâ‰∏öÂä°‰∏çÂèòÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ∑ªÂä†È¢ùÂ§ñÁöÑÂä®‰ΩúÔºåÊØîÂ¶ÇÊàë‰ª¨ÁöÑÊüê‰∫õÊñπÊ≥ïÊâßË°åÂÆåÊàê‰πãÂêéÔºåÈúÄË¶ÅÊâìÂç∞Êó•ÂøóÔºåÈÇ£‰πàËøô‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî®AOPÊù•Â∏ÆÂä©Êàë‰ª¨ÂÆåÊàêÔºåÂÆÉÂèØ‰ª•ÊâπÈáèÂú∞‰∏∫Ëøô‰∫õÊñπÊ≥ïÊ∑ªÂä†Âä®‰Ωú„ÄÇÂèØ‰ª•ËØ¥ÔºåÂÆÉÁõ∏ÂΩì‰∫éÂ∞ÜÊàë‰ª¨ÂéüÊúâÁöÑÊñπÊ≥ïÔºåÂú®‰∏çÊîπÂèòÊ∫ê‰ª£Á†ÅÁöÑÂü∫Á°Ä‰∏äËøõË°å‰∫ÜÂ¢ûÂº∫Â§ÑÁêÜ„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/11/30/sJbSrgiAxa8Vhcv.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221130155358974" src="https://s2.loli.net/2022/11/30/sJbSrgiAxa8Vhcv.png" /></a></p>
<p>Áõ∏ÂΩì‰∫éÊàë‰ª¨ÁöÑÊï¥‰∏™‰∏öÂä°ÊµÅÁ®ãÔºåË¢´Áõ¥Êé•Êñ©Êñ≠ÔºåÂπ∂Âú®Êñ≠ÊéâÁöÑ‰ΩçÁΩÆÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™È¢ùÂ§ñÁöÑÊìç‰ΩúÔºåÂÜçËøûÊé•Ëµ∑Êù•Ôºå‰πüÂ∞±ÊòØÂú®‰∏Ä‰∏™ÂàáÁÇπ‰ΩçÁΩÆÊèíÂÖ•ÂÜÖÂÆπ„ÄÇÂÆÉÁöÑÂéüÁêÜÂÆûÈôÖ‰∏äÂ∞±ÊòØÈÄöËøáÂä®ÊÄÅ‰ª£ÁêÜÊú∫Âà∂ÂÆûÁé∞ÁöÑÔºåÊàë‰ª¨Âú®JavaWebÈò∂ÊÆµÂ∑≤ÁªèÁªôÂ§ßÂÆ∂ËÆ≤Ëß£ËøáÂä®ÊÄÅ‰ª£ÁêÜ‰∫Ü„ÄÇ‰∏çËøáSpringÂ∫ïÂ±ÇÂπ∂‰∏çÊòØ‰ΩøÁî®ÁöÑJDKÊèê‰æõÁöÑÂä®ÊÄÅ‰ª£ÁêÜÔºåËÄåÊòØ‰ΩøÁî®ÁöÑÁ¨¨‰∏âÊñπÂ∫ìÂÆûÁé∞ÔºåÂÆÉËÉΩÂ§ü‰ª•Áà∂Á±ªÁöÑÂΩ¢Âºè‰ª£ÁêÜÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØÊé•Âè£„ÄÇ</p>
<h3 id="aop_1">‰ΩøÁî®ÈÖçÁΩÆÂÆûÁé∞AOP<a class="headerlink" href="#aop_1" title="Permanent link">&para;</a></h3>
<p>Âú®ÂºÄÂßã‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊç¢Âõû‰πãÂâçÁöÑXMLÈÖçÁΩÆÊ®°ÂºèÔºå‰πãÂêé‰πü‰ºöÁªôÂ§ßÂÆ∂ËÆ≤Ëß£Â¶Ç‰Ωï‰ΩøÁî®Ê≥®Ëß£ÂÆåÊàêAOPÊìç‰ΩúÔºåÊ≥®ÊÑèËøôÈáåÊàë‰ª¨ËøòÂä†ÂÖ•‰∫Ü‰∏Ä‰∫õÊñ∞ÁöÑAOPÁõ∏ÂÖ≥ÁöÑÁ∫¶ÊùüËøõÊù•ÔºåÂª∫ËÆÆÁõ¥Êé•CV‰∏ãÈù¢ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
<span class="w">       </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="w">       </span><span class="na">xmlns:aop=</span><span class="s">&quot;http://www.springframework.org/schema/aop&quot;</span>
<span class="w">       </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span>
<span class="s">       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div>
<p>SpringÊòØÊîØÊåÅAOPÁºñÁ®ãÁöÑÊ°ÜÊû∂‰πã‰∏ÄÔºàÂÆûÈôÖ‰∏äÂÆÉÊï¥Âêà‰∫ÜAspectJÊ°ÜÊû∂ÁöÑ‰∏ÄÈÉ®ÂàÜÔºâÔºåË¶Å‰ΩøÁî®AOPÊàë‰ª¨ÈúÄË¶ÅÂÖàÂØºÂÖ•‰∏Ä‰∏™‰æùËµñÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-aspects<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>6.0.10<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>ÈÇ£‰πàÔºåÂ¶Ç‰Ωï‰ΩøÁî®AOPÂë¢ÔºüÈ¶ñÂÖàÊàë‰ª¨Ë¶ÅÊòéÁ°ÆÔºåË¶ÅÂÆûÁé∞AOPÊìç‰ΩúÔºåÊàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìËøô‰∫õÂÜÖÂÆπÔºö</p>
<ol>
<li>ÈúÄË¶ÅÂàáÂÖ•ÁöÑÁ±ªÔºåÁ±ªÁöÑÂì™‰∏™ÊñπÊ≥ïÈúÄË¶ÅË¢´ÂàáÂÖ•</li>
<li>ÂàáÂÖ•‰πãÂêéÈúÄË¶ÅÊâßË°å‰ªÄ‰πàÂä®‰Ωú</li>
<li>ÊòØÂú®ÊñπÊ≥ïÊâßË°åÂâçÂàáÂÖ•ËøòÊòØÂú®ÊñπÊ≥ïÊâßË°åÂêéÂàáÂÖ•</li>
<li>Â¶Ç‰ΩïÂëäËØâSpringÈúÄË¶ÅËøõË°åÂàáÂÖ•</li>
</ol>
<p>ÊØîÂ¶ÇÁé∞Âú®Êàë‰ª¨Â∏åÊúõÂØπËøô‰∏™Â≠¶ÁîüÂØπË±°ÁöÑ<code>study</code>ÊñπÊ≥ïËøõË°åÂ¢ûÂº∫ÔºåÂú®‰∏ç‰øÆÊîπÊ∫ê‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¢ûÂä†‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÊìç‰ΩúÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">study</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÂÆ§ÂèãËøòÂú®ÊâìÊ∏∏ÊàèÔºåÊàëÁã†Áã†ÁöÑÂ≠¶JavaÔºåÂ§™ÁàΩ‰∫Ü&quot;</span><span class="p">);</span><span class="w"> </span>
<span class="w">        </span><span class="c1">//Áé∞Âú®Êàë‰ª¨Â∏åÊúõÂú®Ëøô‰∏™ÊñπÊ≥ïÊâßË°åÂÆå‰πãÂêéÔºåÊâìÂç∞‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÂÜÖÂÆπÔºåÂú®‰∏ç‰øÆÊîπÂéüÊúâ‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåËØ•ÊÄé‰πàÂÅöÂë¢Ôºü</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">bean</span><span class="w"> </span><span class="kd">class</span><span class="err">=&quot;</span><span class="nc">org</span><span class="p">.</span><span class="na">example</span><span class="p">.</span><span class="na">entity</span><span class="p">.</span><span class="na">Student</span><span class="s">&quot;/&gt;</span>
</code></pre></div>
<p>ÈÇ£‰πàÊàë‰ª¨ÊåâÁÖß‰∏äÈù¢ÁöÑÊµÅÁ®ãÔºå‰æùÊ¨°Êù•ÁúãÔºåÈ¶ñÂÖàÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÊòØÔºåÊâæÂà∞ÈúÄË¶ÅÂàáÂÖ•ÁöÑÁ±ªÔºåÂæàÊòéÊòæÔºåÂ∞±ÊòØËøô‰∏™StudentÁ±ªÔºåÊàë‰ª¨Ë¶ÅÂàáÂÖ•ÁöÑÊòØËøô‰∏™<code>study</code>ÊñπÊ≥ï„ÄÇ</p>
<p>Á¨¨‰∫åÊ≠•ÔºåÊàë‰ª¨ÂàáÂÖ•‰πãÂêéË¶ÅÂÅö‰ªÄ‰πàÂë¢ÔºüËøôÈáåÊàë‰ª¨Áõ¥Êé•ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ±ªÔºåÂπ∂Â∞ÜË¶ÅÊâßË°åÁöÑÊìç‰ΩúÂÜôÊàê‰∏Ä‰∏™ÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentAOP</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Ëøô‰∏™ÊñπÊ≥ïÂ∞±ÊòØÊàë‰ª¨ÊâìÁÆóÂØπÂÖ∂ËøõË°åÁöÑÂ¢ûÂº∫Êìç‰Ωú</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">afterStudy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;‰∏∫‰ªÄ‰πàÊØï‰∏ö‰∫Ü‰ªñ‰ª¨ÈÉΩÁªßÊâøÂÆ∂‰∫ßÔºåÊàëËøòÂÄíÁªô‰ªñ‰ª¨ÊâìÂ∑•ÔºåÊàëÂä™ÂäõÁöÑÊÑè‰πâÂú®Âì™Èáå...&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≥®ÊÑèËøô‰∏™Á±ª‰πüÂæóÊ≥®ÂÜå‰∏∫BeanÊâçÂèØ‰ª•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;studentAOP&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.example.entity.StudentAOP&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Á¨¨‰∏âÊ≠•ÔºåÊàë‰ª¨Ë¶ÅÊòéÁ°ÆËøôÊòØÂú®ÊñπÊ≥ïÊâßË°å‰πãÂâçÂàáÂÖ•ËøòÊòØÊâßË°å‰πãÂêéÂàáÂÖ•ÔºåÂæàÊòéÊòæÔºåÊåâÁÖß‰∏äÈù¢ÁöÑË¶ÅÊ±ÇÔºåÊàë‰ª¨ÈúÄË¶ÅÊâßË°å‰πãÂêéËøõË°åÂàáÂÖ•„ÄÇ</p>
<p>Á¨¨ÂõõÊ≠•ÔºåÊúÄÂÖ≥ÈîÆÁöÑÊù•‰∫ÜÔºåÊàë‰ª¨ÊÄé‰πàÊâçËÉΩÂëäËØâSpringÊàë‰ª¨Ë¶ÅËøõË°åÂàáÂÖ•Êìç‰ΩúÂë¢ÔºüËøôÈáåÊàë‰ª¨ÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËøõË°åAOPÈÖçÁΩÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;aop:config&gt;</span>

<span class="nt">&lt;/aop:config&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÂàáÁÇπÔºåÈ¶ñÂÖàÂ°´ÂÜôIDÔºåËøô‰∏™Èöè‰æøËµ∑ÈÉΩÂèØ‰ª•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;aop:pointcut</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="na">expression=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ÁÑ∂ÂêéÂ∞±ÊòØÈÄöËøáÂêéÈù¢ÁöÑ<code>expression</code>Ë°®ËææÂºèÊù•ÈÄâÊã©Âà∞Êàë‰ª¨ÈúÄË¶ÅÂàáÂÖ•ÁöÑÊñπÊ≥ïÔºåËøô‰∏™Ë°®ËææÂºèÊîØÊåÅÂæàÂ§öÁßçÊñπÂºèËøõË°åÈÄâÊã©ÔºåSpring AOPÊîØÊåÅ‰ª•‰∏ãAspectJÂàáÁÇπÊåáÁ§∫Âô®ÔºàPCDÔºâÁî®‰∫éË°®ËææÂºèÔºö</p>
<ul>
<li><code>execution</code>ÔºöÁî®‰∫éÂåπÈÖçÊñπÊ≥ïÊâßË°åËøûÊé•ÁÇπ„ÄÇËøôÊòØ‰ΩøÁî®Spring AOPÊó∂‰ΩøÁî®ÁöÑ‰∏ªË¶ÅÁÇπÂàáÂâ≤ÊåáÁ§∫Âô®„ÄÇ</li>
<li><code>within</code>ÔºöÈôêÂà∂ÂåπÈÖçÂà∞Êüê‰∫õÁ±ªÂûãÁöÑËøûÊé•ÁÇπÔºà‰ΩøÁî®Spring AOPÊó∂Âú®ÂåπÈÖçÁ±ªÂûã‰∏≠Â£∞ÊòéÁöÑÊñπÊ≥ïÁöÑÊâßË°åÔºâ„ÄÇ</li>
<li><code>this</code>ÔºöÈôêÂà∂‰∏éËøûÊé•ÁÇπÂåπÈÖçÔºà‰ΩøÁî®Spring AOPÊó∂ÊñπÊ≥ïÁöÑÊâßË°åÔºâÔºåÂÖ∂‰∏≠beanÂºïÁî®ÔºàSpring AOP‰ª£ÁêÜÔºâÊòØÁªôÂÆöÁ±ªÂûãÁöÑÂÆû‰æã„ÄÇ</li>
<li><code>target</code>ÔºöÈôêÂà∂ÂåπÈÖçËøûÊé•ÁÇπÔºà‰ΩøÁî®Spring AOPÊó∂ÊñπÊ≥ïÁöÑÊâßË°åÔºâÔºåÂÖ∂‰∏≠ÁõÆÊ†áÂØπË±°ÔºàÊ≠£Âú®‰ª£ÁêÜÁöÑÂ∫îÁî®Á®ãÂ∫èÂØπË±°ÔºâÊòØÁªôÂÆöÁ±ªÂûãÁöÑÂÆû‰æã„ÄÇ</li>
<li><code>args</code>ÔºöÈôêÂà∂‰∏éËøûÊé•ÁÇπÂåπÈÖçÔºà‰ΩøÁî®Spring AOPÊó∂ÊñπÊ≥ïÁöÑÊâßË°åÔºâÔºåÂÖ∂‰∏≠ÂèÇÊï∞ÊòØÁªôÂÆöÁ±ªÂûãÁöÑÂÆû‰æã„ÄÇ</li>
<li><code>@target</code>ÔºöÈôêÂà∂ÂåπÈÖçËøûÊé•ÁÇπÔºà‰ΩøÁî®Spring AOPÊó∂ÊñπÊ≥ïÁöÑÊâßË°åÔºâÔºåÂÖ∂‰∏≠ÊâßË°åÂØπË±°ÁöÑÁ±ªÂÖ∑ÊúâÁªôÂÆöÁ±ªÂûãÁöÑÊ≥®Èáä„ÄÇ</li>
<li><code>@args</code>ÔºöÈôêÂà∂ÂåπÈÖçÂà∞ËøûÊé•ÁÇπÔºà‰ΩøÁî®Spring AOPÊó∂ÊñπÊ≥ïÁöÑÊâßË°åÔºâÔºåÂÖ∂‰∏≠‰º†ÈÄíÁöÑÂÆûÈôÖÂèÇÊï∞ÁöÑËøêË°åÊó∂Á±ªÂûãÂÖ∑ÊúâÁªôÂÆöÁ±ªÂûãÁöÑÊ≥®Èáä„ÄÇ</li>
<li><code>@within</code>ÔºöÈôêÂà∂‰∏éÂÖ∑ÊúâÁªôÂÆöÊ≥®ÈáäÁöÑÁ±ªÂûã‰∏≠ÁöÑËøûÊé•ÁÇπÂåπÈÖçÔºà‰ΩøÁî®Spring AOPÊó∂Âú®Â∏¶ÊúâÁªôÂÆöÊ≥®ÈáäÁöÑÁ±ªÂûã‰∏≠Â£∞ÊòéÁöÑÊñπÊ≥ïÁöÑÊâßË°åÔºâ„ÄÇ</li>
<li><code>@annotation</code>Ôºö‰∏éËøûÊé•ÁÇπ‰∏ª‰ΩìÔºàÂú®Spring AOP‰∏≠ËøêË°åÁöÑÊñπÊ≥ïÔºâÂÖ∑ÊúâÁªôÂÆöÊ≥®ÈáäÁöÑËøûÊé•ÁÇπÂåπÈÖçÁöÑÈôêÂà∂„ÄÇ</li>
</ul>
<p>Êõ¥Â§öËØ¶ÁªÜÂÜÖÂÆπËØ∑Êü•ÈòÖÔºö<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-pointcuts-designators">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-pointcuts-designators</a></p>
<p>ÂÖ∂‰∏≠ÔºåÊàë‰ª¨‰∏ªË¶ÅÂ≠¶‰π†ÁöÑ<code>execution</code>Â°´ÂÜôÊ†ºÂºèÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code>‰øÆÈ•∞Á¨¶<span class="w"> </span>ÂåÖÂêç.Á±ªÂêç.ÊñπÊ≥ïÂêçÁß∞(ÊñπÊ≥ïÂèÇÊï∞)
</code></pre></div>
<ul>
<li>‰øÆÈ•∞Á¨¶Ôºöpublic„ÄÅprotected„ÄÅprivate„ÄÅÂåÖÊã¨ËøîÂõûÂÄºÁ±ªÂûã„ÄÅstaticÁ≠âÁ≠âÔºà‰ΩøÁî®* ‰ª£Ë°®‰ªªÊÑè‰øÆÈ•∞Á¨¶Ôºâ</li>
<li>ÂåÖÂêçÔºöÂ¶Çcom.testÔºà<em> ‰ª£Ë°®ÂÖ®ÈÉ®ÔºåÊØîÂ¶Çcom.</em> ‰ª£Ë°®comÂåÖ‰∏ãÁöÑÂÖ®ÈÉ®ÂåÖÔºâ</li>
<li>Á±ªÂêçÔºö‰ΩøÁî®* ‰πüÂèØ‰ª•‰ª£Ë°®ÂåÖ‰∏ãÁöÑÊâÄÊúâÁ±ª</li>
<li>ÊñπÊ≥ïÂêçÁß∞ÔºöÂèØ‰ª•‰ΩøÁî®* ‰ª£Ë°®ÂÖ®ÈÉ®ÊñπÊ≥ï</li>
<li>ÊñπÊ≥ïÂèÇÊï∞ÔºöÂ°´ÂÜôÂØπÂ∫îÁöÑÂèÇÊï∞Âç≥ÂèØÔºåÊØîÂ¶Ç(String, String)Ôºå‰πüÂèØ‰ª•‰ΩøÁî®* Êù•‰ª£Ë°®‰ªªÊÑè‰∏Ä‰∏™ÂèÇÊï∞Ôºå‰ΩøÁî®..‰ª£Ë°®ÊâÄÊúâÂèÇÊï∞„ÄÇ</li>
</ul>
<p>‰πüÂèØ‰ª•‰ΩøÁî®ÂÖ∂‰ªñÂ±ûÊÄßÊù•ËøõË°åÂåπÈÖçÔºåÊØîÂ¶Ç<code>@annotation</code>ÂèØ‰ª•Áî®‰∫éË°®Á§∫Ê†áËÆ∞‰∫ÜÂì™‰∫õÊ≥®Ëß£ÁöÑÊñπÊ≥ïË¢´ÂàáÂÖ•ÔºåËøôÈáåÊàë‰ª¨Â∞±Âè™ÊòØÁÆÄÂçïÁöÑÊâßË°åÔºåÊâÄ‰ª•ËØ¥Âè™ÈúÄË¶ÅËøôÊ†∑ÂÜôÂ∞±ÂèØ‰ª•‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;aop:pointcut</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="na">expression=</span><span class="s">&quot;execution(* org.example.entity.Student.study())&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÊåáÊòé‰∫ÜÈúÄË¶ÅÂàáÂÖ•ÁöÑÊñπÊ≥ïÔºåÁÑ∂ÂêéÂ∞±ÊòØÂ∞ÜÊàë‰ª¨ÁöÑÂ¢ûÂº∫ÊñπÊ≥ïÔºåÊàë‰ª¨Âú®ÈáåÈù¢ÁªßÁª≠Ê∑ªÂä†<code>aop:aspect</code>Ê†áÁ≠æÔºåÂπ∂‰ΩøÁî®<code>ref</code>Â±ûÊÄßÂ∞ÜÂÖ∂ÊåáÂêëÊàë‰ª¨ÂàöÂàöÊ≥®ÂÜåÁöÑAOPÁ±ªBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;aop:config&gt;</span>
<span class="w">    </span><span class="nt">&lt;aop:pointcut</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="na">expression=</span><span class="s">&quot;execution(* org.example.entity.Student.study())&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;aop:aspect</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;studentAOP&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;/aop:aspect&gt;</span>
<span class="nt">&lt;/aop:config&gt;</span>
</code></pre></div>
<p>Êé•ÁùÄÂ∞±ÊòØÊ∑ªÂä†ÂêéÁª≠Âä®‰Ωú‰∫ÜÔºåÂΩìÁÑ∂ÔºåÂÆòÊñπÊîØÊåÅÁöÑÊúâÂ§öÁßçÂ§öÊ†∑ÁöÑÔºåÊØîÂ¶ÇÊâßË°åÂâç„ÄÅÊâßË°åÂêé„ÄÅÊäõÂá∫ÂºÇÂ∏∏Âêé„ÄÅÊñπÊ≥ïËøîÂõûÂêéÁ≠âÁ≠âÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/uopJ9KyqMvQSwi4.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216155201849" src="https://s2.loli.net/2022/12/16/uopJ9KyqMvQSwi4.png" /></a></p>
<p>ÂÖ∂‰∏≠aroundÊñπÊ≥ï‰∏∫ÁéØÁªïÊñπÊ≥ïÔºåËá™ÂÆö‰πâÂ∫¶‰ºöÊõ¥È´òÔºåÊàë‰ª¨‰ºöÂú®Á®çÂêé‰ªãÁªç„ÄÇËøôÈáåÊàë‰ª¨ÊåâÁÖß‰∏äÈù¢ÁöÑË¶ÅÊ±ÇÔºåÁõ¥Êé•Ê∑ªÂä†ÂêéÁª≠Âä®‰ΩúÔºåÊ≥®ÊÑèÈúÄË¶ÅÊåáÊòéÁîüÊïàÁöÑÂàáÁÇπÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;aop:aspect</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;studentAOP&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="cm">&lt;!--     methodÂ∞±ÊòØÊàë‰ª¨ÁöÑÂ¢ûÂº∫ÊñπÊ≥ïÔºåpointcut-refÊåáÂêëÊàë‰ª¨ÂàöÂàöÂàõÂª∫ÁöÑÂàáÁÇπ     --&gt;</span>
<span class="w">    </span><span class="nt">&lt;aop:after</span><span class="w"> </span><span class="na">method=</span><span class="s">&quot;afterStudy&quot;</span><span class="w"> </span><span class="na">pointcut-ref=</span><span class="s">&quot;test&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/aop:aspect&gt;</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÊàêÂäüÈÖçÁΩÆÂ•Ω‰∫ÜÔºåÈÖçÁΩÆÊ≠£Á°Æ‰ºöÂú®ÊóÅËæπÂá∫Áé∞ÂõæÊ†áÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/hBaSmuovMzp5iIn.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216155551779" src="https://s2.loli.net/2022/12/16/hBaSmuovMzp5iIn.png" /></a></p>
<p>Êàë‰ª¨Êù•ËØïËØïÁúãÂêßÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;application.xml&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">bean</span><span class="p">.</span><span class="na">study</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ÁªìÊûúÂ¶Ç‰∏ãÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/JlvLe9rgQw2pbXo.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216155616952" src="https://s2.loli.net/2022/12/16/JlvLe9rgQw2pbXo.png" /></a></p>
<p>ÂèØ‰ª•ÁúãÂà∞Âú®Êàë‰ª¨ÂéüÊú¨ÁöÑÊñπÊ≥ïÊâßË°åÂÆåÊàê‰πãÂêéÔºåÂÆÉËøòÁªßÁª≠ÊâßË°å‰∫ÜÊàë‰ª¨ÁöÑÂ¢ûÂº∫ÊñπÊ≥ïÔºåËøôÂÆûÈôÖ‰∏äÂ∞±ÊòØÂä®ÊÄÅ‰ª£ÁêÜÂÅöÂà∞ÁöÑÔºåÂÆûÁé∞Âú®‰∏ç‰øÆÊîπÂéüÊúâ‰ª£Á†ÅÁöÑÂü∫Á°Ä‰∏äÔºåÂØπÊñπÊ≥ïÁöÑË∞ÉÁî®ËøõË°åÂêÑÁßçÂ¢ûÂº∫ÔºåÂú®‰πãÂêéÁöÑSpringMVCÂ≠¶‰π†‰∏≠ÔºåÊàë‰ª¨ÁîöËá≥ÂèØ‰ª•‰ΩøÁî®ÂÆÉÊù•Âø´ÈÄüÈÖçÁΩÆËÆøÈóÆÊó•ÂøóÊâìÂç∞„ÄÇ</p>
<p>ÂâçÈù¢Êàë‰ª¨ËØ¥‰∫ÜÔºåAOPÊòØÂü∫‰∫éÂä®ÊÄÅ‰ª£ÁêÜÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•ËØ¥Êàë‰ª¨Â¶ÇÊûúÁõ¥Êé•Ëé∑ÂèñBeanÁöÑÁ±ªÂûãÔºå‰ºöÂèëÁé∞‰∏çÊòØÂéüÊú¨ÁöÑÁ±ªÂûã‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">Student</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">bean</span><span class="p">.</span><span class="na">getClass</span><span class="p">());</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/8lsiRj6Q9eTLhSI.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216172042146" src="https://s2.loli.net/2022/12/16/8lsiRj6Q9eTLhSI.png" /></a></p>
<p>ËøôÈáåÂÖ∂ÂÆûÊòØSpringÈÄöËøáCGLib‰∏∫Êàë‰ª¨ÁîüÊàêÁöÑÂä®ÊÄÅ‰ª£ÁêÜÁ±ªÔºå‰πüÂ∞±‰∏çÈöæÁêÜËß£‰∏∫‰ªÄ‰πàË∞ÉÁî®ÊñπÊ≥ï‰ºöÁõ¥Êé•ÂæóÂà∞Â¢ûÂº∫‰πãÂêéÁöÑÁªìÊûú‰∫Ü„ÄÇÂåÖÊã¨Êàë‰ª¨ÂâçÈù¢ËÆ≤Ëß£SpringÁöÑÂºÇÊ≠•‰ªªÂä°Ë∞ÉÂ∫¶Êó∂Ôºå‰∏∫‰ªÄ‰πàËÉΩÂ§üÁõ¥Êé•ÂÆûÁé∞ÂºÇÊ≠•ÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂà©Áî®‰∫ÜAOPÊú∫Âà∂ÂÆûÁé∞ÁöÑÊñπÊ≥ïÂ¢ûÂº∫„ÄÇ</p>
<p>ËôΩÁÑ∂Ëøô‰∫õÂäüËÉΩÂ∑≤ÁªèÈùûÂ∏∏Âº∫Â§ß‰∫ÜÔºå‰ΩÜÊòØ‰ªÖ‰ªÖÂè™ËÉΩÁÆÄÂçïÁöÑÂàáÂÖ•ËøòÊòØ‰∏çËÉΩÊª°Ë∂≥‰∏Ä‰∫õÈúÄÊ±ÇÔºåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØ‰ª•ÈúÄÊ±ÇÊñπÊ≥ïÊâßË°åÁöÑ‰∏Ä‰∫õÂèÇÊï∞ÔºåÊØîÂ¶ÇÊñπÊ≥ïÊâßË°å‰πãÂêéËøîÂõû‰∫Ü‰ªÄ‰πàÔºåÊàñÊòØÊñπÊ≥ïÂºÄÂßã‰πãÂâç‰º†ÂÖ•‰∫Ü‰ªÄ‰πàÂèÇÊï∞Á≠âÁ≠âÔºåÁé∞Âú®Êàë‰ª¨‰øÆÊîπ‰∏Ä‰∏ãStudent‰∏≠<code>study</code>ÊñπÊ≥ïÁöÑÂèÇÊï∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">study</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="p">){</span><span class="w">  </span><span class="c1">//Áé∞Âú®ÊñπÊ≥ïÊúâ‰∏Ä‰∏™StringÁ±ªÂûãÁöÑÂèÇÊï∞</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÈÉΩÂà´Â≠¶Java‰∫ÜÔºåÊ†πÊú¨Êâæ‰∏çÂà∞Â∑•‰ΩúÔºåÂø´ÂéªÂç∑&quot;</span><span class="o">+</span><span class="n">str</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Â∏åÊúõÂú®Â¢ûÂº∫ÁöÑÊñπÊ≥ï‰∏≠‰πüËÉΩÊãøÂà∞Ëøô‰∏™ÂèÇÊï∞ÔºåÁÑ∂ÂêéËøõË°åÂ§ÑÁêÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentAOP</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">afterStudy</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Ëøô‰∏™strÂèÇÊï∞Êàë‰ª¨ËØ•‰ªéÂì™ÈáåÊãøÂë¢Ôºü</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Â≠¶‰ªÄ‰πà&quot;</span><span class="o">+</span><span class="n">str</span><span class="o">+</span><span class="s">&quot;ÔºåRustÂ§©‰∏ãÁ¨¨‰∏ÄÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ëøô‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•‰∏∫Êàë‰ª¨ÂàáÂÖ•ÁöÑÊñπÊ≥ïÊ∑ªÂä†‰∏Ä‰∏™JoinPointÂèÇÊï∞ÔºåÈÄöËøáÊ≠§ÂèÇÊï∞Â∞±ÂèØ‰ª•Âø´ÈÄüËé∑ÂèñÂàáÁÇπ‰ΩçÁΩÆÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">afterStudy</span><span class="p">(</span><span class="n">JoinPoint</span><span class="w"> </span><span class="n">point</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//JoinPointÂÆû‰æã‰ºöË¢´Ëá™Âä®‰º†ÂÖ•</span>
<span class="w">    </span><span class="c1">//ËøôÈáåÊàë‰ª¨Áõ¥Êé•ÈÄöËøágetArgs()ËøîÂõûÁöÑÂèÇÊï∞Êï∞ÁªÑËé∑ÂèñÁ¨¨1‰∏™ÂèÇÊï∞</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Â≠¶‰ªÄ‰πà&quot;</span><span class="o">+</span><span class="n">point</span><span class="p">.</span><span class="na">getArgs</span><span class="p">()</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span><span class="s">&quot;ÔºåRustÂ§©‰∏ãÁ¨¨‰∏ÄÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨‰øÆÊîπ‰∏Ä‰∏ãÂàöÂàöÁöÑAOPÈÖçÁΩÆÔºàÂõ†‰∏∫ÊñπÊ≥ïÂèÇÊï∞ÊúâÂèòÂä®ÔºâÁúãÁúãÁªìÊûúÂêßÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;aop:pointcut</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="na">expression=</span><span class="s">&quot;execution(* org.example.entity.Student.study(String))&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨Êù•ÊµãËØï‰∏Ä‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;application.xml&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">bean</span><span class="p">.</span><span class="na">study</span><span class="p">(</span><span class="s">&quot;PHP&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/NrZA49JvpgEyL2O.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216160501469" src="https://s2.loli.net/2022/12/16/NrZA49JvpgEyL2O.png" /></a></p>
<p>ÊòØ‰∏çÊòØÊÑüËßâÂ§ßÈÉ®ÂàÜÂäüËÉΩÈÉΩÂèØ‰ª•ÈÄöËøáAOPÊù•ÂÆåÊàê‰∫ÜÔºü</p>
<p>Êàë‰ª¨Êé•ÁùÄÊù•ÁúãËá™ÂÆö‰πâÂ∫¶Êõ¥È´òÁöÑÁéØÁªïÊñπÊ≥ïÔºåÁé∞Âú®Êàë‰ª¨Â∏åÊúõÂú®ÊñπÊ≥ïÊâßË°åÂâçÂíåÊâßË°åÂêéÈÉΩÂä†ÂÖ•ÂêÑÁßçÂêÑÊ†∑ÁöÑÂä®‰ΩúÔºåÂ¶ÇÊûúËøòÊòØ‰∏Ä‰∏™‰∏Ä‰∏™ÂàáÁÇπÂÜôÔºåÊúâÁÇπÂ§™ÊÖ¢‰∫ÜÔºåËÉΩ‰∏çËÉΩÁõ¥Êé•ÂÜô‰∏ÄËµ∑Âë¢ÔºåÊ≠§Êó∂Êàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî®ÁéØÁªïÊñπÊ≥ï„ÄÇ</p>
<p>ÁéØÁªïÊñπÊ≥ïÁõ∏ÂΩì‰∫éÂÆåÂÖ®‰ª£ÁêÜ‰∫ÜÊ≠§ÊñπÊ≥ïÔºåÂÆÉÂÆåÂÖ®Â∞ÜÊ≠§ÊñπÊ≥ïÂåÖÂê´Âú®‰∏≠Èó¥ÔºåÈúÄË¶ÅÊàë‰ª¨ÊâãÂä®Ë∞ÉÁî®ÊâçÂèØ‰ª•ÊâßË°åÊ≠§ÊñπÊ≥ïÔºåÂπ∂‰∏îÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Ëé∑ÂèñÊõ¥Â§öÁöÑÂèÇÊï∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">around</span><span class="p">(</span><span class="n">ProceedingJoinPoint</span><span class="w"> </span><span class="n">joinPoint</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊñπÊ≥ïÂºÄÂßã‰πãÂâç&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joinPoint</span><span class="p">.</span><span class="na">proceed</span><span class="p">();</span><span class="w">   </span><span class="c1">//Ë∞ÉÁî®processÊñπÊ≥ïÊù•ÊâßË°åË¢´‰ª£ÁêÜÁöÑÂéüÊñπÊ≥ïÔºåÂ¶ÇÊûúÊúâËøîÂõûÂÄºÔºåÂèØ‰ª•‰ΩøÁî®valueÊé•Êî∂</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊñπÊ≥ïÊâßË°åÂÆåÊàêÔºåÁªìÊûú‰∏∫Ôºö&quot;</span><span class="o">+</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Ê≥®ÊÑèÔºåÂ¶ÇÊûú‰ª£ÁêÜÊñπÊ≥ïÂ≠òÂú®ËøîÂõûÂÄºÔºåÈÇ£‰πàÁéØÁªïÊñπÊ≥ï‰πüÈúÄË¶ÅÊúâ‰∏Ä‰∏™ËøîÂõûÂÄºÔºåÈÄöËøá<code>proceed</code>ÊñπÊ≥ïÊù•ÊâßË°å‰ª£ÁêÜÁöÑÊñπÊ≥ïÔºå‰πüÂèØ‰ª•‰øÆÊîπÂèÇÊï∞‰πãÂêéË∞ÉÁî®<code>proceed(Object[])</code>Ôºå‰ΩøÁî®Êàë‰ª¨ÁªôÂÆöÁöÑÂèÇÊï∞ÂÜçÂéªÊâßË°åÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">around</span><span class="p">(</span><span class="n">ProceedingJoinPoint</span><span class="w"> </span><span class="n">joinPoint</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊñπÊ≥ïÂºÄÂßã‰πãÂâç&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joinPoint</span><span class="p">.</span><span class="na">getArgs</span><span class="p">()</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;‰ºûÂÖµ‰∏ÄÂè∑&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joinPoint</span><span class="p">.</span><span class="na">proceed</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="p">{</span><span class="n">arg</span><span class="p">});</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊñπÊ≥ïÊâßË°åÂÆåÊàêÔºåÁªìÊûú‰∏∫Ôºö&quot;</span><span class="o">+</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÈáåÊàë‰ª¨ËøòÊòØ‰ª•<code>study</code>ÊñπÊ≥ï‰∏∫‰æãÔºåÁé∞Âú®Êàë‰ª¨Â∏åÊúõÂú®Ë∞ÉÁî®Ââç‰øÆÊîπËøô‰∏™ÊñπÊ≥ï‰º†ÂÖ•ÁöÑÂèÇÊï∞ÂÄºÔºåÊîπÊàêÊàë‰ª¨Ëá™Â∑±ÁöÑÔºåÁÑ∂ÂêéÂú®Ë∞ÉÁî®‰πãÂêéÂØπËøîÂõûÂÄºÁªìÊûú‰πüËøõË°åÂ§ÑÁêÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">study</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="p">){</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;Java&quot;</span><span class="p">))</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÁöÑÊ¢¶ÊÉ≥ÊòØÂ≠¶Java&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÂ∞±Ë¶ÅÂ≠¶JavaÔºå‰∏çË¶Å‰øÆÊîπÊàëÁöÑÊ¢¶ÊÉ≥ÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Java&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">str</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨ÁºñÂÜô‰∏Ä‰∏™ÁéØÁªïÊñπÊ≥ïÔºåÂØπÂÖ∂ËøõË°åÂÖ®ÊñπÈù¢Â§ÑÁêÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">around</span><span class="p">(</span><span class="n">ProceedingJoinPoint</span><span class="w"> </span><span class="n">joinPoint</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂ•πÁöÑÂÆ∂ÈïøÔºå‰ªñ‰∏çËÉΩÂ≠¶JavaÔºåÂøÖÈ°ªÂ≠¶RustÔºåËøôÊòØ‰∏∫‰ªñÂ•Ω&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joinPoint</span><span class="p">.</span><span class="na">proceed</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="p">{</span><span class="s">&quot;Rust&quot;</span><span class="p">});</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;Java&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Âê¨ËØùÔºåÂ≠¶Rust‰ª•ÂêéËøõÂ§ßÂéÇÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Rust&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂêåÊ†∑ÁöÑÔºåÂõ†‰∏∫ÊñπÊ≥ïÂèòÂä®‰∫ÜÔºåÁé∞Âú®Êàë‰ª¨Âéª‰øÆÊîπ‰∏Ä‰∏ãÊàë‰ª¨ÁöÑAOPÈÖçÁΩÆÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;aop:pointcut</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="na">expression=</span><span class="s">&quot;execution(* org.example.entity.Student.study(String))&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;aop:aspect</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;studentAOP&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;aop:around</span><span class="w"> </span><span class="na">method=</span><span class="s">&quot;around&quot;</span><span class="w"> </span><span class="na">pointcut-ref=</span><span class="s">&quot;test&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/aop:aspect&gt;</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/FPwQjRvsDgTnoWx.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216162003675" src="https://s2.loli.net/2022/12/16/FPwQjRvsDgTnoWx.png" /></a></p>
<p>ÁªÜÂøÉÁöÑÂ∞è‰ºô‰º¥ÂèØËÉΩ‰ºöÂèëÁé∞ÔºåÁéØÁªïÊñπÊ≥ïÁöÑÂõæÊ†áÊòØÂÖ®ÂåÖÁöÑÔºåË∑üÊàë‰ª¨‰πãÂâçÁöÑÂõæÊ†á‰∏çÂ§™‰∏ÄÊ†∑„ÄÇ</p>
<p>Áé∞Âú®Êàë‰ª¨Êù•ËØïËØïÁúãÂêßÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;application.xml&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Â∑≤Êä•ÂêçÔºö&quot;</span><span class="o">+</span><span class="n">bean</span><span class="p">.</span><span class="na">study</span><span class="p">(</span><span class="s">&quot;Java&quot;</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/pGl7n8qboe4tuJf.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216161855358" src="https://s2.loli.net/2022/12/16/pGl7n8qboe4tuJf.png" /></a></p>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂÆûÁé∞‰∫ÜÁéØÁªïÊñπÊ≥ïÔºåÈÄöËøáÂêàÁêÜÂà©Áî®AOPÂ∏¶Êù•ÁöÑ‰æøÊç∑ÔºåÂèØ‰ª•‰ΩøÂæóÊàë‰ª¨ÁöÑ‰ª£Á†ÅÊõ¥Âä†Ê∏ÖÁàΩÂíå‰ºòÁæé„ÄÇËøôÈáå‰ªãÁªç‰∏Ä‰∏ã AOP È¢ÜÂüü‰∏≠ÁöÑÁâπÊÄßÊúØËØ≠ÔºåÈò≤Ê≠¢Ëá™Â∑±‰∏ãÊù•Áúã‰∏çÊáÇÊñáÁ´†Ôºö</p>
<ul>
<li>ÈÄöÁü•ÔºàAdviceÔºâ: AOP Ê°ÜÊû∂‰∏≠ÁöÑÂ¢ûÂº∫Â§ÑÁêÜÔºåÈÄöÁü•ÊèèËø∞‰∫ÜÂàáÈù¢‰ΩïÊó∂ÊâßË°å‰ª•ÂèäÂ¶Ç‰ΩïÊâßË°åÂ¢ûÂº∫Â§ÑÁêÜÔºå‰πüÂ∞±ÊòØÊàë‰ª¨‰∏äÈù¢ÁºñÂÜôÁöÑÊñπÊ≥ïÂÆûÁé∞„ÄÇ</li>
<li>ËøûÊé•ÁÇπÔºàjoin pointÔºâ: ËøûÊé•ÁÇπË°®Á§∫Â∫îÁî®ÊâßË°åËøáÁ®ã‰∏≠ËÉΩÂ§üÊèíÂÖ•ÂàáÈù¢ÁöÑ‰∏Ä‰∏™ÁÇπÔºåËøô‰∏™ÁÇπÂèØ‰ª•ÊòØÊñπÊ≥ïÁöÑË∞ÉÁî®„ÄÅÂºÇÂ∏∏ÁöÑÊäõÂá∫ÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØÊàë‰ª¨Âú®ÊñπÊ≥ïÊâßË°åÂâçÊàñÊòØÊâßË°åÂêéÈúÄË¶ÅÂÅöÁöÑÂÜÖÂÆπ„ÄÇ</li>
<li>ÂàáÁÇπÔºàPointCutÔºâ: ÂèØ‰ª•ÊèíÂÖ•Â¢ûÂº∫Â§ÑÁêÜÁöÑËøûÊé•ÁÇπÔºåÂèØ‰ª•ÊòØÊñπÊ≥ïÊâßË°å‰πãÂâç‰πüÂèØ‰ª•ÊñπÊ≥ïÊâßË°å‰πãÂêéÔºåËøòÂèØ‰ª•ÊòØÊäõÂá∫ÂºÇÂ∏∏‰πãÁ±ªÁöÑ„ÄÇ</li>
<li>ÂàáÈù¢ÔºàAspectÔºâ: ÂàáÈù¢ÊòØÈÄöÁü•ÂíåÂàáÁÇπÁöÑÁªìÂêàÔºåÊàë‰ª¨‰πãÂâçÂú®xml‰∏≠ÂÆö‰πâÁöÑÂ∞±ÊòØÂàáÈù¢ÔºåÂåÖÊã¨ÂæàÂ§ö‰ø°ÊÅØ„ÄÇ</li>
<li>ÂºïÂÖ•ÔºàIntroductionÔºâÔºöÂºïÂÖ•ÂÖÅËÆ∏Êàë‰ª¨ÂêëÁé∞ÊúâÁöÑÁ±ªÊ∑ªÂä†Êñ∞ÁöÑÊñπÊ≥ïÊàñËÄÖÂ±ûÊÄß„ÄÇ</li>
<li>ÁªáÂÖ•ÔºàWeavingÔºâ: Â∞ÜÂ¢ûÂº∫Â§ÑÁêÜÊ∑ªÂä†Âà∞ÁõÆÊ†áÂØπË±°‰∏≠ÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™Ë¢´Â¢ûÂº∫ÁöÑÂØπË±°ÔºåÊàë‰ª¨‰πãÂâçÈÉΩÊòØÂú®Â∞ÜÊàë‰ª¨ÁöÑÂ¢ûÂº∫Â§ÑÁêÜÊ∑ªÂä†Âà∞ÁõÆÊ†áÂØπË±°Ôºå‰πüÂ∞±ÊòØÁªáÂÖ•ÔºàËøôÂêçÂ≠óÊå∫ÊúâÊñáËâ∫ËåÉÁöÑÔºâ</li>
</ul>
<h3 id="aop_2">‰ΩøÁî®Êé•Âè£ÂÆûÁé∞AOP<a class="headerlink" href="#aop_2" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®xmlÈÖçÁΩÆ‰∏Ä‰∏™AOPÊìç‰ΩúÔºåËøôËäÇËØæÊàë‰ª¨Êù•ÁúãÁúãÂ¶Ç‰Ωï‰ΩøÁî®AdviceÂÆûÁé∞AOP„ÄÇ</p>
<p>ÂÆÉ‰∏éÊàë‰ª¨‰πãÂâçÂ≠¶‰π†ÁöÑÂä®ÊÄÅ‰ª£ÁêÜÊõ¥Êé•Ëøë‰∏Ä‰∫õÔºåÊØîÂ¶ÇÂú®ÊñπÊ≥ïÂºÄÂßãÊâßË°å‰πãÂâçÊàñÊòØÊâßË°å‰πãÂêé‰ºöÂéªË∞ÉÁî®Êàë‰ª¨ÂÆûÁé∞ÁöÑÊé•Âè£ÔºåÈ¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂ∞Ü‰∏Ä‰∏™Á±ªÂÆûÁé∞AdviceÊé•Âè£ÔºåÂè™ÊúâÂÆûÁé∞Ê≠§Êé•Âè£ÔºåÊâçÂèØ‰ª•Ë¢´ÈÄöÁü•ÔºåÊØîÂ¶ÇÊàë‰ª¨ËøôÈáå‰ΩøÁî®<code>MethodBeforeAdvice</code>Ë°®Á§∫ÊòØ‰∏Ä‰∏™Âú®ÊñπÊ≥ïÊâßË°å‰πãÂâçÁöÑÂä®‰ΩúÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentAOP</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MethodBeforeAdvice</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">before</span><span class="p">(</span><span class="n">Method</span><span class="w"> </span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">target</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÈÄöËøáAdviceÂÆûÁé∞AOP&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÊñπÊ≥ï‰∏≠ÂåÖÊã¨‰∫ÜÂæàÂ§öÁöÑÂèÇÊï∞ÔºåÂÖ∂‰∏≠args‰ª£Ë°®ÁöÑÊòØÊñπÊ≥ïÊâßË°åÂâçÂæóÂà∞ÁöÑÂÆûÂèÇÂàóË°®ÔºåËøòÊúâtargetË°®Á§∫ÊâßË°åÊ≠§ÊñπÊ≥ïÁöÑÂÆû‰æãÂØπË±°„ÄÇËøêË°å‰πãÂêéÔºåÊïàÊûúÂíå‰πãÂâçÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ΩÜÊòØÂú®ËøôÈáåÊàë‰ª¨Â∞±ÂèØ‰ª•Âø´ÈÄüËé∑ÂèñÂà∞Êõ¥Â§ö‰ø°ÊÅØ„ÄÇËøòÊòØ‰ª•ÁÆÄÂçïÁöÑstudyÊñπÊ≥ï‰∏∫‰æãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">study</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂ≠¶‰π†ÊñπÊ≥ïÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;student&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.example.entity.Student&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;studentAOP&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.example.entity.StudentAOP&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;aop:config&gt;</span>
<span class="w">    </span><span class="nt">&lt;aop:pointcut</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;test&quot;</span><span class="w"> </span><span class="na">expression=</span><span class="s">&quot;execution(* org.example.entity.Student.study())&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="cm">&lt;!--  ËøôÈáåÂè™ÈúÄË¶ÅÊ∑ªÂä†Êàë‰ª¨ÂàöÂàöÂÜôÂ•ΩÁöÑadvisorÂ∞±ÂèØ‰ª•‰∫ÜÔºåÊ≥®ÊÑèÊòØBeanÁöÑÂêçÂ≠ó  --&gt;</span>
<span class="w">    </span><span class="nt">&lt;aop:advisor</span><span class="w"> </span><span class="na">advice-ref=</span><span class="s">&quot;studentAOP&quot;</span><span class="w"> </span><span class="na">pointcut-ref=</span><span class="s">&quot;test&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/aop:config&gt;</span>
</code></pre></div>
<p>Êàë‰ª¨Êù•ÊµãËØï‰∏Ä‰∏ãÂêßÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/ofducpb2mLh9XHi.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216164110367" src="https://s2.loli.net/2022/12/16/ofducpb2mLh9XHi.png" /></a></p>
<p>Èô§‰∫ÜÊ≠§Êé•Âè£‰ª•Â§ñÔºåËøòÊúâÂÖ∂‰ªñÁöÑÊé•Âè£ÔºåÊØîÂ¶Ç<code>AfterReturningAdvice</code>Â∞±ÈúÄË¶ÅÂÆûÁé∞‰∏Ä‰∏™ÊñπÊ≥ïÊâßË°å‰πãÂêéÁöÑÊìç‰ΩúÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentAOP</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MethodBeforeAdvice</span><span class="p">,</span><span class="w"> </span><span class="n">AfterReturningAdvice</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">before</span><span class="p">(</span><span class="n">Method</span><span class="w"> </span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">target</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÈÄöËøáAdviceÂÆûÁé∞AOP&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">afterReturning</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">returnValue</span><span class="p">,</span><span class="w"> </span><span class="n">Method</span><span class="w"> </span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">target</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÊñπÊ≥ïÊâßË°å‰πãÂêéÁöÑÁªìÊûúÔºåÊñπÊ≥ïËøîÂõûÂÄº‰∏∫Ôºö&quot;</span><span class="o">+</span><span class="n">returnValue</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Âõ†‰∏∫‰ΩøÁî®ÁöÑÊòØÊé•Âè£ÔºåÂ∞±ÈùûÂ∏∏Êñπ‰æøÔºåÁõ¥Êé•ÂÜô‰∏ÄËµ∑ÔºåÈÖçÁΩÆÊñá‰ª∂ÈÉΩ‰∏çÈúÄË¶ÅÊîπ‰∫ÜÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/DUZzqaBSiJKNv8j.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216164242506" src="https://s2.loli.net/2022/12/16/DUZzqaBSiJKNv8j.png" /></a></p>
<p>Êàë‰ª¨‰πüÂèØ‰ª•‰ΩøÁî®MethodInterceptorÔºàÂêåÊ†∑‰πüÊòØAdviceÁöÑÂ≠êÊé•Âè£ÔºâËøõË°åÊõ¥Âä†ÁéØÁªïÈÇ£Ê†∑ÁöÑËá™ÂÆö‰πâÁöÑÂ¢ûÂº∫ÔºåÂÆÉÁî®Ëµ∑Êù•Â∞±ÁúüÁöÑÂÉè‰ª£ÁêÜ‰∏ÄÊ†∑Ôºå‰æãÂ≠êÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">study</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂ≠¶‰π†ÊñπÊ≥ïÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;lbwnb&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentAOP</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">MethodInterceptor</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//ÂÆûÁé∞MethodInterceptorÊé•Âè£</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">invoke</span><span class="p">(</span><span class="n">MethodInvocation</span><span class="w"> </span><span class="n">invocation</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">//invokeÊñπÊ≥ïÂ∞±ÊòØ‰ª£ÁêÜÊñπÊ≥ï</span>
<span class="w">        </span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">invocation</span><span class="p">.</span><span class="na">proceed</span><span class="p">();</span><span class="w">   </span><span class="c1">//Ë∑ü‰πãÂâç‰∏ÄÊ†∑ÔºåÈúÄË¶ÅÊâãÂä®proceed()ÊâçËÉΩË∞ÉÁî®ÂéüÊñπÊ≥ï</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="o">+</span><span class="s">&quot;Â¢ûÂº∫&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Êù•ÁúãÁúãÁªìÊûúÂêßÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/ARcUW2mJrn7Y6f9.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216173211310" src="https://s2.loli.net/2022/12/16/ARcUW2mJrn7Y6f9.png" /></a></p>
<p>‰ΩøÁî®Ëµ∑Êù•ËøòÊòØÊå∫ÁÆÄÂçïÁöÑ„ÄÇ</p>
<h3 id="aop_3">‰ΩøÁî®Ê≥®Ëß£ÂÆûÁé∞AOP<a class="headerlink" href="#aop_3" title="Permanent link">&para;</a></h3>
<p>Êé•ÁùÄÊàë‰ª¨Êù•ÁúãÁúãÂ¶Ç‰Ωï‰ΩøÁî®Ê≥®Ëß£ÂÆûÁé∞AOPÊìç‰ΩúÔºåÁé∞Âú®ÂèòÂõûÊàë‰ª¨‰πãÂâçÁöÑÊ≥®Ëß£ÂºÄÂèëÔºåÈ¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂú®‰∏ªÁ±ªÊ∑ªÂä†<code>@EnableAspectJAutoProxy</code>Ê≥®Ëß£ÔºåÂºÄÂêØAOPÊ≥®Ëß£ÊîØÊåÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@EnableAspectJAutoProxy</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;org.example.entity&quot;</span><span class="p">)</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøòÊòØÁÜüÊÇâÁöÑÁé©Ê≥ïÔºåÁ±ª‰∏äÁõ¥Êé•Ê∑ªÂä†<code>@Component</code>Âø´ÈÄüÊ≥®ÂÜåBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">study</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂ≠¶‰π†ÊñπÊ≥ïÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨ÈúÄË¶ÅÂú®ÂÆö‰πâAOPÂ¢ûÂº∫Êìç‰ΩúÁöÑÁ±ª‰∏äÊ∑ªÂä†<code>@Aspect</code>Ê≥®Ëß£Âíå<code>@Component</code>Â∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫BeanÂç≥ÂèØÔºåÂ∞±ÂÉèÊàë‰ª¨‰πãÂâçÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰πüË¶ÅÂ∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫BeanÈÇ£Ê†∑Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Aspect</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StudentAOP</span><span class="w"> </span><span class="p">{</span>

<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÈáåÈù¢ÁºñÂÜôÂ¢ûÂº∫ÊñπÊ≥ïÔºåÂπ∂Â∞ÜÊ≠§ÊñπÊ≥ïÊ∑ªÂä†Âà∞‰∏Ä‰∏™ÂàáÁÇπ‰∏≠ÔºåÊØîÂ¶ÇÊàë‰ª¨Â∏åÊúõÂú®StudentÁöÑstudyÊñπÊ≥ïÊâßË°å‰πãÂâçÊâßË°åÊàë‰ª¨ÁöÑ<code>before</code>ÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">before</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰πãÂâçÊâßË°åÁöÑÂÜÖÂÆπÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÇ£‰πàÂè™ÈúÄË¶ÅÊ∑ªÂä†@BeforeÊ≥®Ëß£Âç≥ÂèØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Before</span><span class="p">(</span><span class="s">&quot;execution(* org.example.entity.Student.study())&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">//executionÂÜôÊ≥ïË∑ü‰πãÂâç‰∏ÄÊ†∑</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">before</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰πãÂâçÊâßË°åÁöÑÂÜÖÂÆπÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåËøô‰∏™ÊñπÊ≥ïÂ∞±‰ºöÂú®ÊåáÂÆöÊñπÊ≥ïÊâßË°å‰πãÂâçÊâßË°å‰∫ÜÔºåÊòØ‰∏çÊòØÊÑüËßâÊØîXMLÈÖçÁΩÆÊñπ‰æøÂ§ö‰∫Ü„ÄÇÊàë‰ª¨Êù•ÊµãËØï‰∏Ä‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">bean</span><span class="p">.</span><span class="na">study</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/16/KpiXcdNt7BglYQh.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221216165625372" src="https://s2.loli.net/2022/12/16/KpiXcdNt7BglYQh.png" /></a></p>
<p>ÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•‰∏∫ÂÖ∂Ê∑ªÂä†<code>JoinPoint</code>ÂèÇÊï∞Êù•Ëé∑ÂèñÂàáÂÖ•ÁÇπ‰ø°ÊÅØÔºå‰ΩøÁî®ÊñπÊ≥ïË∑ü‰πãÂâç‰∏ÄÊ†∑Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Before</span><span class="p">(</span><span class="s">&quot;execution(* org.example.entity.Student.study())&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">before</span><span class="p">(</span><span class="n">JoinPoint</span><span class="w"> </span><span class="n">point</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÂèÇÊï∞ÂàóË°®Ôºö&quot;</span><span class="o">+</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">point</span><span class="p">.</span><span class="na">getArgs</span><span class="p">()));</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰πãÂâçÊâßË°åÁöÑÂÜÖÂÆπÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>‰∏∫‰∫ÜÊõ¥Êñπ‰æøÔºåÊàë‰ª¨ËøòÂèØ‰ª•Áõ¥Êé•Â∞ÜÂèÇÊï∞ÊîæÂÖ•ÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">study</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂ≠¶‰π†ÊñπÊ≥ïÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>‰ΩøÁî®ÂëΩÂêçÁªëÂÆöÊ®°ÂºèÔºåÂèØ‰ª•Âø´ÈÄüÂæóÂà∞ÂéüÊñπÊ≥ïÁöÑÂèÇÊï∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Before</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;execution(* org.example.entity.Student.study(..)) &amp;&amp; args(str)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">argNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;str&quot;</span><span class="p">)</span>
<span class="c1">//ÂëΩÂêçÁªëÂÆöÊ®°ÂºèÂ∞±ÊòØÊ†πÊçÆ‰∏ãÈù¢ÁöÑÊñπÊ≥ïÂèÇÊï∞ÂàóË°®ËøõË°åÂåπÈÖç</span>
<span class="c1">//ËøôÈáåargsÊåáÊòéÂèÇÊï∞ÔºåÊ≥®ÊÑèÈúÄË¶ÅË∑üÂéüÊñπÊ≥ï‰øùÊåÅ‰∏ÄËá¥ÔºåÁÑ∂ÂêéÂú®argNames‰∏≠ÊåáÊòé</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">before</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">str</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÂèØ‰ª•Âø´ÈÄüÂæóÂà∞‰º†ÂÖ•ÁöÑÂèÇÊï∞</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰πãÂâçÊâßË°åÁöÑÂÜÖÂÆπÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Èô§‰∫Ü@BeforeÔºåËøòÊúâÂæàÂ§öÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÁöÑÊ≥®Ëß£ÔºåÊØîÂ¶Ç@AfterReturning„ÄÅ@AfterThrowingÁ≠âÔºåÊØîÂ¶Ç@AfterReturningÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">study</span><span class="p">(){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂ≠¶‰π†ÊñπÊ≥ïÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;lbwnb&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nd">@AfterReturning</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;execution(* org.example.entity.Student.study())&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">argNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;returnVal&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">returning</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;returnVal&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">//‰ΩøÁî®returningÊåáÂÆöÊé•Êî∂ÊñπÊ≥ïËøîÂõûÂÄºÁöÑÂèÇÊï∞returnVal</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">afterReturn</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">returnVal</span><span class="p">){</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ËøîÂõûÂÄºÊòØÔºö&quot;</span><span class="o">+</span><span class="n">returnVal</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂêåÊ†∑ÁöÑÔºåÁéØÁªï‰πüÂèØ‰ª•Áõ¥Êé•ÈÄöËøáÊ≥®Ëß£Â£∞ÊòéÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Around</span><span class="p">(</span><span class="s">&quot;execution(* com.test.bean.Student.test(..))&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">around</span><span class="p">(</span><span class="n">ProceedingJoinPoint</span><span class="w"> </span><span class="n">point</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊñπÊ≥ïÊâßË°å‰πãÂâçÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">point</span><span class="p">.</span><span class="na">proceed</span><span class="p">();</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊñπÊ≥ïÊâßË°å‰πãÂêéÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÔºåÊó†ËÆ∫ÊòØ‰ΩøÁî®Ê≥®Ëß£ÊàñÊòØXMLÈÖçÁΩÆÔºåÊàë‰ª¨Ë¶ÅÂÅöÁöÑÊµÅÁ®ãÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂú®‰πãÂêéÁöÑÂ≠¶‰π†‰∏≠ÔºåÊàë‰ª¨Ëøò‰ºöÈÅáÂà∞Êõ¥Â§öÈúÄË¶Å‰ΩøÁî®AOPÁöÑÂú∞Êñπ„ÄÇ</p>
<hr />
<h2 id="_9">Êï∞ÊçÆÂ∫ìÊ°ÜÊû∂Êï¥Âêà<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>Â≠¶‰π†‰∫ÜSpring‰πãÂêéÔºåÊàë‰ª¨Â∑≤Áªè‰∫ÜËß£Â¶Ç‰ΩïÂ∞Ü‰∏Ä‰∏™Á±ª‰Ωú‰∏∫Bean‰∫§Áî±IoCÂÆπÂô®ÁÆ°ÁêÜÔºåËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøáÊõ¥Êñπ‰æøÁöÑÊñπÂºèÊù•‰ΩøÁî®MybatisÊ°ÜÊû∂ÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÊääSqlSessionFactory„ÄÅMapper‰∫§ÁªôSpringËøõË°åÁÆ°ÁêÜÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøáÊ≥®ÂÖ•ÁöÑÊñπÂºèÂø´ÈÄüÂú∞‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÊàë‰ª¨Ë¶ÅÂ≠¶‰π†‰∏Ä‰∏ãÂ¶Ç‰ΩïÂ∞ÜMybatis‰∏éSpringËøõË°åÊï¥ÂêàÔºåÈÇ£‰πàÈ¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®‰πãÂâçÁü•ËØÜÁöÑÂü∫Á°Ä‰∏äÁªßÁª≠Ê∑±ÂåñÂ≠¶‰π†„ÄÇ</p>
<h3 id="_10">‰∫ÜËß£Êï∞ÊçÆÊ∫ê<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>Âú®‰πãÂâçÔºåÊàë‰ª¨Â¶ÇÊûúÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™JDBCÁöÑËøûÊé•ÔºåÈÇ£‰πàÂøÖÈ°ª‰ΩøÁî®<code>DriverManager.getConnection()</code>Êù•ÂàõÂª∫ËøûÊé•ÔºåËøûÊé•Âª∫Á´ãÂêéÔºåÊàë‰ª¨ÊâçÂèØ‰ª•ËøõË°åÊï∞ÊçÆÂ∫ìÊìç‰Ωú„ÄÇËÄåÂ≠¶‰π†‰∫ÜMybatis‰πãÂêéÔºåÊàë‰ª¨Â∞±‰∏çÁî®ÂÜçÂéª‰ΩøÁî®<code>DriverManager</code>‰∏∫Êàë‰ª¨Êèê‰æõËøûÊé•ÂØπË±°ÔºåËÄåÊòØÁõ¥Êé•‰ΩøÁî®Mybatis‰∏∫Êàë‰ª¨Êèê‰æõÁöÑ<code>SqlSessionFactory</code>Â∑•ÂÖ∑Á±ªÊù•Ëé∑ÂèñÂØπÂ∫îÁöÑ<code>SqlSession</code>ÈÄöËøá‰ºöËØùÂØπË±°ÂéªÊìç‰ΩúÊï∞ÊçÆÂ∫ì„ÄÇ</p>
<p>ÈÇ£‰πàÔºåÂÆÉÂà∞Â∫ïÊòØÂ¶Ç‰ΩïÂ∞ÅË£ÖJDBCÁöÑÂë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ËØïÁùÄÊù•ÁåúÊÉ≥‰∏Ä‰∏ãÔºå‰ºö‰∏ç‰ºöÊòØMybatisÊØèÊ¨°ÈÉΩÊòØÂ∏ÆÂä©Êàë‰ª¨Ë∞ÉÁî®<code>DriverManager</code>Êù•ÂÆûÁé∞ÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•ÂàõÂª∫ÔºüÊàë‰ª¨ÂèØ‰ª•ÁúãÁúãMybatisÁöÑÊ∫êÁ†ÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">SqlSession</span><span class="w"> </span><span class="nf">openSession</span><span class="p">(</span><span class="kt">boolean</span><span class="w"> </span><span class="n">autoCommit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">openSessionFromDataSource</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">getDefaultExecutorType</span><span class="p">(),</span><span class="w"> </span><span class="p">(</span><span class="n">TransactionIsolationLevel</span><span class="p">)</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">autoCommit</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Âú®ÈÄöËøá<code>SqlSessionFactory</code>Ë∞ÉÁî®<code>openSession</code>ÊñπÊ≥ï‰πãÂêéÔºåÂÆÉË∞ÉÁî®‰∫ÜÂÜÖÈÉ®ÁöÑ‰∏Ä‰∏™ÁßÅÊúâÁöÑÊñπÊ≥ï<code>openSessionFromDataSource</code>ÔºåÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÔºåËøô‰∏™ÊñπÊ≥ïÈáåÈù¢ÂÆö‰πâ‰∫Ü‰ªÄ‰πàÂÜÖÂÆπÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span><span class="w"> </span><span class="n">SqlSession</span><span class="w"> </span><span class="nf">openSessionFromDataSource</span><span class="p">(</span><span class="n">ExecutorType</span><span class="w"> </span><span class="n">execType</span><span class="p">,</span><span class="w"> </span><span class="n">TransactionIsolationLevel</span><span class="w"> </span><span class="n">level</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">autoCommit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Transaction</span><span class="w"> </span><span class="n">tx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">    </span><span class="n">DefaultSqlSession</span><span class="w"> </span><span class="n">var8</span><span class="p">;</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Ëé∑ÂèñÂΩìÂâçÁéØÂ¢ÉÔºàÁî±ÈÖçÁΩÆÊñá‰ª∂Êò†Â∞ÑÁöÑÂØπË±°ÂÆû‰ΩìÔºâ</span>
<span class="w">        </span><span class="n">Environment</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">getEnvironment</span><span class="p">();</span>
<span class="w">        </span><span class="c1">//‰∫ãÂä°Â∑•ÂéÇÔºàÊöÇÊó∂‰∏çÊèêÔºå‰∏ã‰∏ÄÊùøÂùóËÆ≤Ëß£Ôºâ</span>
<span class="w">        </span><span class="n">TransactionFactory</span><span class="w"> </span><span class="n">transactionFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getTransactionFactoryFromEnvironment</span><span class="p">(</span><span class="n">environment</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ôºö&lt;transactionManager type=&quot;JDBC&quot;/&gt;</span>
<span class="w">        </span><span class="c1">//ÁîüÊàê‰∫ãÂä°ÔºàÊ†πÊçÆÊàë‰ª¨ÁöÑÈÖçÁΩÆÔºå‰ºöÈªòËÆ§ÁîüÊàêJdbcTransactionÔºâÔºåËøôÈáåÊòØÂÖ≥ÈîÆÔºåÊàë‰ª¨ÁúãÂà∞ËøôÈáåÁî®Âà∞‰∫Üenvironment.getDataSource()ÊñπÊ≥ï</span>
<span class="w">        </span><span class="n">tx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">transactionFactory</span><span class="p">.</span><span class="na">newTransaction</span><span class="p">(</span><span class="n">environment</span><span class="p">.</span><span class="na">getDataSource</span><span class="p">(),</span><span class="w"> </span><span class="n">level</span><span class="p">,</span><span class="w"> </span><span class="n">autoCommit</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//ÊâßË°åÂô®ÔºåÂåÖÊã¨ÂÖ®ÈÉ®ÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÊñπÊ≥ïÂÆö‰πâÔºåÊú¨Ë¥®‰∏äÊòØÂú®‰ΩøÁî®ÊâßË°åÂô®Êìç‰ΩúÊï∞ÊçÆÂ∫ìÔºåÈúÄË¶Å‰º†ÂÖ•‰∫ãÂä°ÂØπË±°</span>
<span class="w">        </span><span class="n">Executor</span><span class="w"> </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">configuration</span><span class="p">.</span><span class="na">newExecutor</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span><span class="w"> </span><span class="n">execType</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//Â∞ÅË£Ö‰∏∫SqlSessionÂØπË±°</span>
<span class="w">        </span><span class="n">var8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultSqlSession</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">configuration</span><span class="p">,</span><span class="w"> </span><span class="n">executor</span><span class="p">,</span><span class="w"> </span><span class="n">autoCommit</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">var12</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">closeTransaction</span><span class="p">(</span><span class="n">tx</span><span class="p">);</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ExceptionFactory</span><span class="p">.</span><span class="na">wrapException</span><span class="p">(</span><span class="s">&quot;Error opening session.  Cause: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">var12</span><span class="p">,</span><span class="w"> </span><span class="n">var12</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ErrorContext</span><span class="p">.</span><span class="na">instance</span><span class="p">().</span><span class="na">reset</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">var8</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>‰πüÂ∞±ÊòØËØ¥ÔºåÊàë‰ª¨ÁöÑÊï∞ÊçÆÊ∫êÈÖçÁΩÆ‰ø°ÊÅØÔºåÂ≠òÊîæÂú®‰∫Ü<code>Transaction</code>ÂØπË±°‰∏≠ÔºåÈÇ£‰πàÁé∞Âú®Êàë‰ª¨Âè™ÈúÄË¶ÅÁü•ÈÅìÊâßË°åÂô®Âà∞Â∫ïÊòØÂ¶Ç‰ΩïÊâßË°åSQLËØ≠Âè•ÁöÑÔºåÊàë‰ª¨Â∞±Áü•ÈÅìÂà∞Â∫ïÂ¶Ç‰ΩïÂàõÂª∫<code>Connection</code>ÂØπË±°‰∫ÜÔºåËøôÊó∂Â∞±ÈúÄË¶ÅËé∑ÂèñÊï∞ÊçÆÂ∫ìÁöÑÈìæÊé•‰ø°ÊÅØ‰∫ÜÔºåÈÇ£‰πàÊàë‰ª¨Êù•ÁúãÁúãÔºåËøô‰∏™<code>DataSource</code>Âà∞Â∫ïÊòØ‰∏™‰ªÄ‰πàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">DataSource</span><span class="w">  </span><span class="kd">extends</span><span class="w"> </span><span class="n">CommonDataSource</span><span class="p">,</span><span class="w"> </span><span class="n">Wrapper</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="p">;</span>

<span class="w">  </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span>
<span class="w">    </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÂÆÉÊòØÂú®<code>javax.sql</code>ÂÆö‰πâÁöÑ‰∏Ä‰∏™Êé•Âè£ÔºåÂÆÉÂåÖÊã¨‰∫Ü‰∏§‰∏™ÊñπÊ≥ïÔºåÈÉΩÊòØÁî®‰∫éËé∑ÂèñËøûÊé•ÁöÑ„ÄÇÂõ†Ê≠§ÔºåÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•Êñ≠ÂÆöÔºåÂπ∂‰∏çÊòØÈÄöËøá‰πãÂâç<code>DriverManager</code>ÁöÑÊñπÊ≥ïÂéªËé∑ÂèñËøûÊé•‰∫ÜÔºåËÄåÊòØ‰ΩøÁî®<code>DataSource</code>ÁöÑÂÆûÁé∞Á±ªÊù•Ëé∑ÂèñÁöÑÔºåÂõ†Ê≠§Ôºå‰πüÂ∞±Ê≠£ÂºèÂºïÂÖ•Âà∞Êàë‰ª¨Ëøô‰∏ÄËäÇÁöÑËØùÈ¢ò‰∫ÜÔºö</p>
<blockquote>
<p>Êï∞ÊçÆÂ∫ìÈìæÊé•ÁöÑÂª∫Á´ãÂíåÂÖ≥Èó≠ÊòØÊûÅÂÖ∂ËÄóË¥πÁ≥ªÁªüËµÑÊ∫êÁöÑÊìç‰ΩúÔºåÈÄöËøáDriverManagerËé∑ÂèñÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•Ôºå‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìËøûÊé•ÂØπË±°ÂùáÂØπÂ∫î‰∏Ä‰∏™Áâ©ÁêÜÊï∞ÊçÆÂ∫ìËøûÊé•ÔºåÊØèÊ¨°Êìç‰ΩúÈÉΩÊâìÂºÄ‰∏Ä‰∏™Áâ©ÁêÜËøûÊé•Ôºå‰ΩøÁî®ÂÆåÂêéÁ´ãÂç≥ÂÖ≥Èó≠ËøûÊé•ÔºåÈ¢ëÁπÅÁöÑÊâìÂºÄ„ÄÅÂÖ≥Èó≠ËøûÊé•‰ºöÊåÅÁª≠Ê∂àËÄóÁΩëÁªúËµÑÊ∫êÔºåÈÄ†ÊàêÊï¥‰∏™Á≥ªÁªüÊÄßËÉΩÁöÑ‰Ωé‰∏ã„ÄÇ</p>
</blockquote>
<p>Âõ†Ê≠§ÔºåJDBC‰∏∫Êàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êï∞ÊçÆÊ∫êÁöÑÊ†áÂáÜÔºå‰πüÂ∞±ÊòØ<code>DataSource</code>Êé•Âè£ÔºåÂëäËØâÊï∞ÊçÆÊ∫êÊï∞ÊçÆÂ∫ìÁöÑËøûÊé•‰ø°ÊÅØÔºåÂπ∂Â∞ÜÊâÄÊúâÁöÑËøûÊé•ÂÖ®ÈÉ®‰∫§ÁªôÊï∞ÊçÆÊ∫êËøõË°åÈõÜ‰∏≠ÁÆ°ÁêÜÔºåÂΩìÈúÄË¶Å‰∏Ä‰∏™<code>Connection</code>ÂØπË±°Êó∂ÔºåÂèØ‰ª•ÂêëÊï∞ÊçÆÊ∫êÁî≥ËØ∑ÔºåÊï∞ÊçÆÊ∫ê‰ºöÊ†πÊçÆÂÜÖÈÉ®Êú∫Âà∂ÔºåÂêàÁêÜÂú∞ÂàÜÈÖçËøûÊé•ÂØπË±°ÁªôÊàë‰ª¨„ÄÇ</p>
<p>‰∏ÄËà¨ÊØîËæÉÂ∏∏Áî®ÁöÑ<code>DataSource</code>ÂÆûÁé∞ÔºåÈÉΩÊòØÈááÁî®Ê±†ÂåñÊäÄÊúØÔºåÂ∞±ÊòØÂú®‰∏ÄÂºÄÂßãÂ∞±ÂàõÂª∫Â•ΩN‰∏™ËøûÊé•ÔºåËøôÊ†∑‰πãÂêé‰ΩøÁî®Â∞±Êó†ÈúÄÂÜçÊ¨°ËøõË°åËøûÊé•ÔºåËÄåÊòØÁõ¥Êé•‰ΩøÁî®Áé∞ÊàêÁöÑ<code>Connection</code>ÂØπË±°ËøõË°åÊï∞ÊçÆÂ∫ìÊìç‰Ωú„ÄÇ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/rk4mcdvYn6osOLW.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217134119558" src="https://s2.loli.net/2022/12/17/rk4mcdvYn6osOLW.png" /></a></p>
<p>ÂΩìÁÑ∂Ôºå‰πüÂèØ‰ª•‰ΩøÁî®‰º†ÁªüÁöÑÂç≥Áî®Âç≥ËøûÁöÑÊñπÂºèËé∑Âèñ<code>Connection</code>ÂØπË±°ÔºåMybatis‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂá†‰∏™ÈªòËÆ§ÁöÑÊï∞ÊçÆÊ∫êÂÆûÁé∞ÔºåÊàë‰ª¨‰πãÂâç‰∏ÄÁõ¥Âú®‰ΩøÁî®ÁöÑÊòØÂÆòÊñπÁöÑÈªòËÆ§ÈÖçÁΩÆÔºå‰πüÂ∞±ÊòØÊ±†ÂåñÊï∞ÊçÆÊ∫êÔºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE configuration</span>
<span class="cp">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
<span class="w">    </span><span class="nt">&lt;environments</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;development&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;environment</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;development&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;transactionManager</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;JDBC&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataSource</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;POOLED&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;driver&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${È©±Âä®Á±ªÔºàÂê´ÂåÖÂêçÔºâ}&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;url&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${Êï∞ÊçÆÂ∫ìËøûÊé•URL}&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;username&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${Áî®Êà∑Âêç}&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;password&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;${ÂØÜÁ†Å}&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/dataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/environment&gt;</span>
<span class="w">    </span><span class="nt">&lt;/environments&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<p>ËøôÈáåÁöÑ<code>type</code>Â±ûÊÄß‰∏ÄÂÖ±‰∏â‰∏™ÈÄâÈ°πÔºö</p>
<ul>
<li>UNPOOLED   ‰∏ç‰ΩøÁî®ËøûÊé•Ê±†ÁöÑÊï∞ÊçÆÊ∫ê</li>
<li>POOLED    ‰ΩøÁî®ËøûÊé•Ê±†ÁöÑÊï∞ÊçÆÊ∫ê</li>
<li>JNDI     ‰ΩøÁî®JNDIÂÆûÁé∞ÁöÑÊï∞ÊçÆÊ∫ê</li>
</ul>
<h3 id="mybatis">Ëß£ËØªMybatisÊï∞ÊçÆÊ∫êÂÆûÁé∞ÔºàÈÄâÂ≠¶Ôºâ<a class="headerlink" href="#mybatis" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨‰ªãÁªç‰∫ÜDataSourceÊï∞ÊçÆÊ∫êÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Êù•ÁúãÁúãÔºåMybatisÂà∞Â∫ïÊòØÊÄé‰πàÂÆûÁé∞ÁöÑ„ÄÇÊàë‰ª¨ÂÖàÊù•ÁúãÁúãÔºå‰∏ç‰ΩøÁî®Ê±†ÂåñÁöÑÊï∞ÊçÆÊ∫êÂÆûÁé∞ÔºåÂÆÉÂè´ÂÅö<code>UnpooledDataSource</code>ÔºåÊàë‰ª¨Êù•ÁúãÁúãÊ∫êÁ†ÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UnpooledDataSource</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ClassLoader</span><span class="w"> </span><span class="n">driverClassLoader</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Properties</span><span class="w"> </span><span class="n">driverProperties</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Driver</span><span class="o">&gt;</span><span class="w"> </span><span class="n">registeredDrivers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConcurrentHashMap</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">driver</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="n">autoCommit</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">defaultTransactionIsolationLevel</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">defaultNetworkTimeout</span><span class="p">;</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>È¶ñÂÖàËøô‰∏™Á±ª‰∏≠ÂÆö‰πâ‰∫ÜÂæàÂ§öÁöÑÊàêÂëòÔºåÂåÖÊã¨Êï∞ÊçÆÂ∫ìÁöÑËøûÊé•‰ø°ÊÅØ„ÄÅÊï∞ÊçÆÂ∫ìÈ©±Âä®‰ø°ÊÅØ„ÄÅ‰∫ãÂä°Áõ∏ÂÖ≥‰ø°ÊÅØÁ≠â„ÄÇÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÔºåÂÆÉÊòØÂ¶Ç‰ΩïÂÆûÁé∞<code>DataSource</code>‰∏≠Êèê‰æõÁöÑÊé•Âè£ÊñπÊ≥ïÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">doGetConnection</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">username</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">password</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">doGetConnection</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÔºåËøô‰∏§‰∏™ÊñπÊ≥ïÈÉΩÊåáÂêë‰∫ÜÂÜÖÈÉ®ÁöÑ‰∏Ä‰∏™<code>doGetConnection</code>ÊñπÊ≥ïÔºåÈÇ£‰πàÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">doGetConnection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Properties</span><span class="w"> </span><span class="n">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Properties</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">driverProperties</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">props</span><span class="p">.</span><span class="na">putAll</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">driverProperties</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">props</span><span class="p">.</span><span class="na">setProperty</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">password</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">props</span><span class="p">.</span><span class="na">setProperty</span><span class="p">(</span><span class="s">&quot;password&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">doGetConnection</span><span class="p">(</span><span class="n">props</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÈáåÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÈÖçÁΩÆÂ∞ÅË£Ö‰∏∫‰∏Ä‰∏™PropertiesÂØπË±°ÔºåÁÑ∂ÂêéÊâßË°åÂè¶‰∏Ä‰∏™ÈáçËΩΩÂêåÂêçÁöÑÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">doGetConnection</span><span class="p">(</span><span class="n">Properties</span><span class="w"> </span><span class="n">properties</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Ëã•Êú™ÂàùÂßãÂåñÈ©±Âä®ÔºåÈúÄË¶ÅÂÖàÂàùÂßãÂåñÔºåÂÜÖÈÉ®Áª¥Êä§‰∫Ü‰∏Ä‰∏™MapÊù•ËÆ∞ÂΩïÂàùÂßãÂåñ‰ø°ÊÅØÔºåËøôÈáå‰∏çÂ§ö‰ªãÁªç‰∫Ü</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">initializeDriver</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//‰º†ÁªüÁöÑËé∑ÂèñËøûÊé•ÁöÑÊñπÂºèÔºåÊòØ‰∏çÊòØÁªà‰∫éÊâæÂà∞ÁÜüÊÇâÁöÑÂë≥ÈÅì‰∫Ü</span>
<span class="w">    </span><span class="n">Connection</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DriverManager</span><span class="p">.</span><span class="na">getConnection</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">url</span><span class="p">,</span><span class="w"> </span><span class="n">properties</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÂØπËøûÊé•ËøõË°åÈ¢ùÂ§ñÁöÑ‰∏Ä‰∫õÈÖçÁΩÆ</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">configureConnection</span><span class="p">(</span><span class="n">connection</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">connection</span><span class="p">;</span><span class="w">   </span><span class="c1">//ËøîÂõûÂæóÂà∞ÁöÑConnectionÂØπË±°</span>
<span class="p">}</span>
</code></pre></div>
<p>Âà∞ËøôÈáåÔºåÂ∞±ËøîÂõû<code>Connection</code>ÂØπË±°‰∫ÜÔºåËÄåÊ≠§ÂØπË±°Ê≠£ÊòØÈÄöËøá<code>DriverManager</code>Êù•ÂàõÂª∫ÁöÑÔºåÂõ†Ê≠§ÔºåÈùûÊ±†ÂåñÁöÑÊï∞ÊçÆÊ∫êÂÆûÁé∞‰æùÁÑ∂‰ΩøÁî®ÁöÑÊòØ‰º†ÁªüÁöÑËøûÊé•ÂàõÂª∫ÊñπÂºèÔºåÈÇ£Êàë‰ª¨Êé•ÁùÄÊù•ÁúãÊ±†ÂåñÁöÑÊï∞ÊçÆÊ∫êÂÆûÁé∞ÔºåÂÆÉÊòØ<code>PooledDataSource</code>Á±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PooledDataSource</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Log</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LogFactory</span><span class="p">.</span><span class="na">getLog</span><span class="p">(</span><span class="n">PooledDataSource</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PoolState</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PoolState</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÂÜÖÈÉ®Áª¥Êä§‰∫Ü‰∏Ä‰∏™ÈùûÊ±†ÂåñÁöÑÊï∞ÊçÆÊ∫êÔºåËøôÊòØË¶ÅÂπ≤ÂòõÔºü</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">UnpooledDataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">poolMaximumActiveConnections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">poolMaximumIdleConnections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">poolMaximumCheckoutTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20000</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">poolTimeToWait</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20000</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">poolMaximumLocalBadConnectionTolerance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">poolPingQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;NO PING QUERY SET&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">poolPingEnabled</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">poolPingConnectionsNotUsedFor</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">expectedConnectionTypeCode</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//Âπ∂ÂèëÁõ∏ÂÖ≥Á±ªÔºåÊàë‰ª¨Âú®JUCÁØáËßÜÈ¢ëÊïôÁ®ã‰∏≠‰ªãÁªçËøáÔºåÊÑüÂÖ¥Ë∂£ÂèØ‰ª•ÂâçÂæÄËßÇÁúã</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Lock</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ReentrantLock</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Condition</span><span class="w"> </span><span class="n">condition</span><span class="p">;</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÂú®ËøôÈáåÁöÑÂÆö‰πâÂ∞±ÊØîÈùûÊ±†ÂåñÁöÑÂÆûÁé∞Â§çÊùÇÂæóÂ§ö‰∫ÜÔºåÂõ†‰∏∫ÂÆÉËøòË¶ÅËÄÉËôëÂπ∂ÂèëÁöÑÈóÆÈ¢òÔºåÂπ∂‰∏îËøòË¶ÅËÄÉËôëÂ¶Ç‰ΩïÂêàÁêÜÂú∞Â≠òÊîæÂ§ßÈáèÁöÑÈìæÊé•ÂØπË±°ÔºåËØ•Â¶Ç‰ΩïËøõË°åÂêàÁêÜÂàÜÈÖçÔºåÂõ†Ê≠§ÂÆÉÁöÑÁé©Ê≥ïÈùûÂ∏∏‰πãÈ´òÁ∫ßÔºå‰ΩÜÊòØÔºåÂÜçÈ´òÁ∫ßÁöÑÁé©Ê≥ïÔºåÊàë‰ª¨ÈÉΩË¶ÅÊãø‰∏ã„ÄÇ</p>
<p>È¶ñÂÖàÊ≥®ÊÑèÔºåÂÆÉÂ≠òÊîæ‰∫Ü‰∏Ä‰∏™UnpooledDataSourceÔºåÊ≠§ÂØπË±°ÊòØÂú®ÊûÑÈÄ†Êó∂Â∞±Ë¢´ÂàõÂª∫ÔºåÂÖ∂ÂÆûÂàõÂª∫ConnectionËøòÊòØ‰æùÈù†Êï∞ÊçÆÂ∫ìÈ©±Âä®ÂàõÂª∫ÔºåÊàë‰ª¨ÂêéÈù¢ÊÖ¢ÊÖ¢Ëß£ÊûêÔºåÈ¶ñÂÖàÊàë‰ª¨Êù•ÁúãÁúãÂÆÉÊòØÂ¶Ç‰ΩïÂÆûÁé∞Êé•Âè£ÊñπÊ≥ïÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">popConnection</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">dataSource</span><span class="p">.</span><span class="na">getUsername</span><span class="p">(),</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">dataSource</span><span class="p">.</span><span class="na">getPassword</span><span class="p">()).</span><span class="na">getProxyConnection</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">popConnection</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">).</span><span class="na">getProxyConnection</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆÉË∞ÉÁî®‰∫Ü<code>popConnection()</code>ÊñπÊ≥ïÊù•Ëé∑ÂèñËøûÊé•ÂØπË±°ÔºåÁÑ∂ÂêéËøõË°å‰∫Ü‰∏Ä‰∏™‰ª£ÁêÜÔºåÈÄöËøáËøôÊñπÊ≥ïÂêçÂ≠óÊàë‰ª¨ÂèØ‰ª•ÁåúÊµãÔºåÊúâÂèØËÉΩÊï¥‰∏™ËøûÊé•Ê±†Â∞±ÊòØ‰∏Ä‰∏™Á±ª‰ºº‰∫éÊ†àÁöÑÈõÜÂêàÁ±ªÂûãÁªìÊûÑÂÆûÁé∞ÁöÑ„ÄÇÈÇ£‰πàÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÁúã<code>popConnection</code>ÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">private</span><span class="w"> </span><span class="n">PooledConnection</span><span class="w"> </span><span class="nf">popConnection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">countedWait</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//ËøîÂõûÁöÑÊòØPooledConnectionÂØπË±°Ôºå</span>
<span class="w">    </span><span class="n">PooledConnection</span><span class="w"> </span><span class="n">conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">();</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">localBadConnectionCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">conn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">synchronized</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//Âä†ÈîÅÔºåÂõ†‰∏∫ÊúâÂèØËÉΩÂæàÂ§ö‰∏™Á∫øÁ®ãÈÉΩÈúÄË¶ÅËé∑ÂèñËøûÊé•ÂØπË±°</span>
<span class="w">            </span><span class="n">PoolState</span><span class="w"> </span><span class="n">var10000</span><span class="p">;</span>
<span class="w">            </span><span class="c1">//PoolStateÂ≠ò‰∫Ü‰∏§‰∏™ListÔºå‰∏Ä‰∏™ÊòØÁ©∫Èó≤ÂàóË°®Ôºå‰∏Ä‰∏™ÊòØÊ¥ªË∑ÉÂàóË°®</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">idleConnections</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//ÊúâÁ©∫Èó≤ÁöÑËøûÊé•Êó∂ÔºåÂèØ‰ª•Áõ¥Êé•ÂàÜÈÖçConnection</span>
<span class="w">                </span><span class="n">conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PooledConnection</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">idleConnections</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">  </span><span class="c1">//ArrayList‰∏≠ÂèñÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Checked out connection &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealHashCode</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; from pool.&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="c1">//Â¶ÇÊûúÂ∑≤ÁªèÊ≤°ÊúâÂ§ö‰ΩôÁöÑËøûÊé•ÂèØ‰ª•ÂàÜÈÖçÔºåÈÇ£‰πàÂ∞±Ê£ÄÊü•‰∏Ä‰∏ãÊ¥ªË∑ÉËøûÊé•Êï∞ÊòØÂê¶ËææÂà∞ÊúÄÂ§ßÁöÑÂàÜÈÖç‰∏äÈôêÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂ∞±new‰∏Ä‰∏™Êñ∞ÁöÑ</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">activeConnections</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">poolMaximumActiveConnections</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">//Ê≥®ÊÑènew‰∫Ü‰πãÂêéÂπ∂Ê≤°ÊúâÁ´ãÂç≥ÂæÄListÈáåÈù¢Â°ûÔºåÂè™ÊòØÂ≠ò‰∫Ü‰∏Ä‰∫õÂü∫Êú¨‰ø°ÊÅØ</span>
<span class="w">                </span><span class="c1">//Êàë‰ª¨ÂèëÁé∞ÔºåËøôÈáå‰æùÈù†UnpooledDataSourceÂàõÂª∫‰∫Ü‰∏Ä‰∏™ConnectionÂØπË±°ÔºåÂπ∂Â∞ÜÂÖ∂Â∞ÅË£ÖÂà∞PooledConnection‰∏≠</span>
<span class="w">                </span><span class="c1">//ÊâÄ‰ª•ËØ¥ÂÜÖÈÉ®Áª¥Êä§ÁöÑUnpooledDataSourceÂØπË±°ÂÖ∂ÂÆûÊòØ‰∏∫‰∫ÜËäÇÁúÅ‰ª£Á†ÅÔºåÂõ†‰∏∫ÂàõÂª∫Êï∞ÊçÆÂ∫ìËøûÊé•ÂÖ∂ÂÆûÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÊñπÂºè</span>
<span class="w">                </span><span class="n">conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PooledConnection</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">dataSource</span><span class="p">.</span><span class="na">getConnection</span><span class="p">(),</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Created connection &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealHashCode</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">              </span><span class="c1">//‰ª•‰∏äÊù°‰ª∂ÈÉΩ‰∏çÊª°Ë∂≥ÔºåÈÇ£‰πàÂè™ËÉΩ‰ªé‰πãÂâçÁöÑËøûÊé•‰∏≠ÂØªÊâæ‰∫ÜÔºåÁúãÁúãÊúâÊ≤°ÊúâÈÇ£ÁßçÂç°‰ΩèÁöÑÈìæÊé•ÔºàÊØîÂ¶ÇÔºåÁî±‰∫éÁΩëÁªúÈóÆÈ¢òÊúâÂèØËÉΩ‰πãÂâçÁöÑËøûÊé•‰∏ÄÁõ¥Ë¢´Âç°‰ΩèÔºåÁÑ∂ËÄåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊó©Â∞±ÁªìÊùüÂπ∂‰∏îÂèØ‰ª•‰ΩøÁî®‰∫ÜÔºåÊâÄ‰ª•ËøôÈáåÁõ∏ÂΩì‰∫éÊòØ‰ºòÂåñ‰πüÁÆóÊòØ‰∏ÄÁßçÊç°ÊºèÁöÑÊñπÂºèÔºâ</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">//Ëé∑ÂèñÊúÄÊó©ÂàõÂª∫ÁöÑËøûÊé•</span>
<span class="w">                </span><span class="n">PooledConnection</span><span class="w"> </span><span class="n">oldestActiveConnection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">PooledConnection</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">activeConnections</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">                </span><span class="kt">long</span><span class="w"> </span><span class="n">longestCheckoutTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">oldestActiveConnection</span><span class="p">.</span><span class="na">getCheckoutTime</span><span class="p">();</span>
<span class="w">                </span><span class="c1">//Âà§Êñ≠ÊòØÂê¶Ë∂ÖËøáÊúÄÂ§ßÁöÑ‰ΩøÁî®Êó∂Èó¥</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">longestCheckoutTime</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="na">poolMaximumCheckoutTime</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">//Ë∂ÖÊó∂ÁªüËÆ°‰ø°ÊÅØÔºà‰∏çÈáçË¶ÅÔºâ</span>
<span class="w">                    </span><span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">claimedOverdueConnectionCount</span><span class="p">;</span>
<span class="w">                    </span><span class="n">var10000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">;</span>
<span class="w">                    </span><span class="n">var10000</span><span class="p">.</span><span class="na">accumulatedCheckoutTimeOfOverdueConnections</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">longestCheckoutTime</span><span class="p">;</span>
<span class="w">                    </span><span class="n">var10000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">;</span>
<span class="w">                    </span><span class="n">var10000</span><span class="p">.</span><span class="na">accumulatedCheckoutTime</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">longestCheckoutTime</span><span class="p">;</span>
<span class="w">                    </span><span class="c1">//‰ªéÊ¥ªË∑ÉÂàóË°®‰∏≠ÁßªÈô§Ê≠§ÈìæÊé•‰ø°ÊÅØ</span>
<span class="w">                    </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">activeConnections</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">oldestActiveConnection</span><span class="p">);</span>
<span class="w">                    </span><span class="c1">//Â¶ÇÊûúÂºÄÂêØ‰∫ãÂä°ÔºåËøòÈúÄË¶ÅÂõûÊªö‰∏Ä‰∏ã</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">oldestActiveConnection</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">getAutoCommit</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">oldestActiveConnection</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">rollback</span><span class="p">();</span>
<span class="w">                        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SQLException</span><span class="w"> </span><span class="n">var15</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Bad connection. Could not roll back&quot;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">}</span>

<span class="w">                    </span><span class="c1">//ËøôÈáåÂ∞±Ê†πÊçÆ‰πãÂâçÁöÑËøûÊé•ÂØπË±°Áõ¥Êé•new‰∏Ä‰∏™Êñ∞ÁöÑËøûÊé•ÔºàÊ≥®ÊÑè‰ΩøÁî®ÁöÑËøòÊòØ‰πãÂâçÁöÑConnectionÂØπË±°ÔºåÂπ∂Ê≤°ÊúâÂàõÂª∫Êñ∞ÁöÑÂØπË±°ÔºåÂè™ÊòØË¢´ÈáçÊñ∞Â∞ÅË£Ö‰∫ÜÔºâ</span>
<span class="w">                    </span><span class="n">conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PooledConnection</span><span class="p">(</span><span class="n">oldestActiveConnection</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">(),</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">                    </span><span class="n">conn</span><span class="p">.</span><span class="na">setCreatedTimestamp</span><span class="p">(</span><span class="n">oldestActiveConnection</span><span class="p">.</span><span class="na">getCreatedTimestamp</span><span class="p">());</span>
<span class="w">                    </span><span class="n">conn</span><span class="p">.</span><span class="na">setLastUsedTimestamp</span><span class="p">(</span><span class="n">oldestActiveConnection</span><span class="p">.</span><span class="na">getLastUsedTimestamp</span><span class="p">());</span>
<span class="w">                    </span><span class="c1">//ËøáÊúü</span>
<span class="w">                    </span><span class="n">oldestActiveConnection</span><span class="p">.</span><span class="na">invalidate</span><span class="p">();</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Claimed overdue connection &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealHashCode</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="c1">//Ê≤°ÊúâË∂ÖÊó∂ÔºåÈÇ£Â∞±Á°ÆÂÆûÊòØÊ≤°ËøûÊé•ÂèØ‰ª•Áî®‰∫ÜÔºåÂè™ËÉΩÂç°‰Ωè‰∫ÜÔºàÈòªÂ°ûÔºâ</span>
<span class="w">                  </span><span class="c1">//ÁÑ∂ÂêéÈ°∫ÊâãËÆ∞ÂΩï‰∏Ä‰∏ãÁõÆÂâçÊúâÂá†‰∏™Á∫øÁ®ãÂú®Á≠âÂæÖÂÖ∂‰ªñÁöÑ‰ªªÂä°ÊêûÂÆå</span>
<span class="w">                    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">countedWait</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">hadToWaitCount</span><span class="p">;</span>
<span class="w">                            </span><span class="n">countedWait</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">                        </span><span class="p">}</span>

<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Waiting as long as &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">poolTimeToWait</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; milliseconds for connection.&quot;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                        </span><span class="c1">//ÊúÄÂêéÂÜçÁ≠âÁ≠â</span>
<span class="w">                        </span><span class="kt">long</span><span class="w"> </span><span class="n">wt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">();</span>
<span class="w">                        </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">wait</span><span class="p">((</span><span class="kt">long</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="na">poolTimeToWait</span><span class="p">);</span>
<span class="w">                        </span><span class="c1">//Ë¶ÅÊòØË∂ÖËøáÁ≠âÂæÖÊó∂Èó¥ËøòÊòØÊ≤°Á≠âÂà∞ÔºåÂè™ËÉΩÊîæÂºÉ‰∫Ü</span>
<span class="w">                        </span><span class="c1">//Ê≥®ÊÑèËøôÊ†∑ÁöÑËØùconÂ∞±‰∏∫null‰∫Ü</span>
<span class="w">                        </span><span class="n">var10000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">;</span>
<span class="w">                        </span><span class="n">var10000</span><span class="p">.</span><span class="na">accumulatedWaitTime</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wt</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">var16</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">break</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">//ÁªèËøá‰πãÂâçÁöÑÊìç‰ΩúÔºåÂπ∂‰∏îÂ∑≤ÁªèÊàêÂäüÂàÜÈÖçÂà∞ËøûÊé•ÂØπË±°ÁöÑÊÉÖÂÜµ‰∏ã</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">conn</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="na">isValid</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">//È¶ñÂÖàÈ™åËØÅÊòØÂê¶ÊúâÊïà</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">getAutoCommit</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">//Ê∏ÖÁêÜ‰πãÂâçÂèØËÉΩÂ≠òÂú®ÁöÑÈÅóÁïô‰∫ãÂä°Êìç‰Ωú</span>
<span class="w">                        </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">rollback</span><span class="p">();</span>
<span class="w">                    </span><span class="p">}</span>

<span class="w">                    </span><span class="n">conn</span><span class="p">.</span><span class="na">setConnectionTypeCode</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">assembleConnectionTypeCode</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">dataSource</span><span class="p">.</span><span class="na">getUrl</span><span class="p">(),</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">));</span>
<span class="w">                    </span><span class="n">conn</span><span class="p">.</span><span class="na">setCheckoutTimestamp</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">());</span>
<span class="w">                    </span><span class="n">conn</span><span class="p">.</span><span class="na">setLastUsedTimestamp</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">());</span>
<span class="w">                    </span><span class="c1">//Ê∑ªÂä†Âà∞Ê¥ªË∑ÉË°®‰∏≠</span>
<span class="w">                    </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">activeConnections</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">conn</span><span class="p">);</span>
<span class="w">                    </span><span class="c1">//ÁªüËÆ°‰ø°ÊÅØÔºà‰∏çÈáçË¶ÅÔºâ</span>
<span class="w">                    </span><span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">requestCount</span><span class="p">;</span>
<span class="w">                    </span><span class="n">var10000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">;</span>
<span class="w">                    </span><span class="n">var10000</span><span class="p">.</span><span class="na">accumulatedRequestTime</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">//Êó†ÊïàÁöÑËøûÊé•ÔºåÁõ¥Êé•ÊäõÂºÇÂ∏∏</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;A bad connection (&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealHashCode</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;) was returned from the pool, getting another connection.&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>

<span class="w">                    </span><span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">badConnectionCount</span><span class="p">;</span>
<span class="w">                    </span><span class="o">++</span><span class="n">localBadConnectionCount</span><span class="p">;</span>
<span class="w">                    </span><span class="n">conn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">localBadConnectionCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">poolMaximumIdleConnections</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">poolMaximumLocalBadConnectionTolerance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;PooledDataSource: Could not get a good connection to the database.&quot;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">}</span>

<span class="w">                        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SQLException</span><span class="p">(</span><span class="s">&quot;PooledDataSource: Could not get a good connection to the database.&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//ÊúÄÂêéËØ•Âπ≤ÂòõÂπ≤ÂòõÔºåË¶ÅÊòØ‰πãÂâçÊãøÂà∞ÁöÑconÊòØnullÁöÑËØùÔºåÁõ¥Êé•ÊäõÂºÇÂ∏∏</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">conn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;PooledDataSource: Unknown severe error condition.  The connection pool returned a null connection.&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SQLException</span><span class="p">(</span><span class="s">&quot;PooledDataSource: Unknown severe error condition.  The connection pool returned a null connection.&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">conn</span><span class="p">;</span><span class="w">   </span><span class="c1">//Âê¶ÂàôÊ≠£Â∏∏ËøîÂõû</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÁªèËøá‰∏äÈù¢‰∏ÄÈ°øÁåõÂ¶ÇËôéÁöÑÊìç‰Ωú‰πãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂà∞‰ª•‰∏ã‰ø°ÊÅØÔºö</p>
<blockquote>
<p>Â¶ÇÊûúÊúÄÂêéÂæóÂà∞‰∫ÜËøûÊé•ÂØπË±°ÔºàÊúâÂèØËÉΩÊòØ‰ªéÁ©∫Èó≤ÂàóË°®‰∏≠ÂæóÂà∞ÔºåÊúâÂèØËÉΩÊòØÁõ¥Êé•ÂàõÂª∫ÁöÑÊñ∞ÁöÑÔºåËøòÊúâÂèØËÉΩÊòØÁªèËøáÂõûÊî∂Á≠ñÁï•ÂõûÊî∂ÂæóÂà∞ÁöÑÔºâÔºåÈÇ£‰πàËøûÊé•(Connection)ÂØπË±°‰∏ÄÂÆö‰ºöË¢´ÊîæÂú®Ê¥ªË∑ÉÂàóË°®‰∏≠(state.activeConnections)</p>
</blockquote>
<p>ÈÇ£‰πàËÇØÂÆöÊúâ‰∏Ä‰∏™ÁñëÈóÆÔºåÁé∞Âú®Êàë‰ª¨Â∑≤ÁªèÁü•ÈÅìËé∑Âèñ‰∏Ä‰∏™ÈìæÊé•‰ºöÁõ¥Êé•ËøõÂÖ•Âà∞Ê¥ªË∑ÉÂàóË°®‰∏≠ÔºåÈÇ£‰πàÔºåÂ¶ÇÊûú‰∏Ä‰∏™ËøûÊé•Ë¢´ÂÖ≥Èó≠ÔºåÂèà‰ºöÂèëÁîü‰ªÄ‰πà‰∫ãÊÉÖÂë¢ÔºåÊàë‰ª¨Êù•ÁúãÁúãÊ≠§ÊñπÊ≥ïËøîÂõû‰πãÂêéÔºå‰ºöË∞ÉÁî®<code>getProxyConnection</code>Êù•Ëé∑Âèñ‰∏Ä‰∏™‰ª£ÁêÜÂØπË±°ÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØ<code>PooledConnection</code>Á±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">PooledConnection</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">InvocationHandler</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">CLOSE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;close&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;[]</span><span class="w"> </span><span class="n">IFACES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Class</span><span class="o">[]</span><span class="p">{</span><span class="n">Connection</span><span class="p">.</span><span class="na">class</span><span class="p">};</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">hashCode</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//‰ºöËÆ∞ÂΩïÊòØÊù•Ëá™Âì™‰∏Ä‰∏™Êï∞ÊçÆÊ∫êÂàõÂª∫ÁöÑÁöÑ</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">PooledDataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//ËøûÊé•ÂØπË±°Êú¨‰Ωì</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="n">realConnection</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//‰ª£ÁêÜÁöÑÈìæÊé•ÂØπË±°</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="n">proxyConnection</span><span class="p">;</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>ÂÆÉÁõ¥Êé•‰ª£ÁêÜ‰∫ÜÊûÑÈÄ†ÊñπÊ≥ï‰∏≠‰º†ÂÖ•ÁöÑConnectionÂØπË±°Ôºå‰πüÊòØ‰ΩøÁî®JDKÁöÑÂä®ÊÄÅ‰ª£ÁêÜÂÆûÁé∞ÁöÑÔºåÈÇ£‰πàÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÔºåÂÆÉÊòØÂ¶Ç‰ΩïËøõË°å‰ª£ÁêÜÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">invoke</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">proxy</span><span class="p">,</span><span class="w"> </span><span class="n">Method</span><span class="w"> </span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Throwable</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">methodName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">getName</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//Â¶ÇÊûúË∞ÉÁî®ÁöÑÊòØConnectionÂØπË±°ÁöÑcloseÊñπÊ≥ïÔºå</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;close&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">methodName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//ËøôÈáåÂπ∂‰∏ç‰ºöÁúüÁöÑÂÖ≥Èó≠ËøûÊé•ÔºàËøô‰πüÊòØ‰∏∫‰ªÄ‰πàÁî®‰ª£ÁêÜÔºâÔºåËÄåÊòØË∞ÉÁî®‰πãÂâçÊï∞ÊçÆÊ∫êÁöÑpushConnectionÊñπÊ≥ïÔºåÂ∞ÜÊ≠§ËøûÊé•Êîπ‰∏∫‰∏∫Á©∫Èó≤Áä∂ÊÄÅ</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">dataSource</span><span class="p">.</span><span class="na">pushConnection</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Object</span><span class="p">.</span><span class="na">class</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">method</span><span class="p">.</span><span class="na">getDeclaringClass</span><span class="p">()))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">checkConnection</span><span class="p">();</span>
<span class="w">                </span><span class="c1">//‰ªª‰ΩïÊìç‰ΩúÊâßË°å‰πãÂâçÈÉΩ‰ºöÊ£ÄÊü•ËøûÊé•ÊòØÂê¶ÂèØÁî®</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="c1">//ÂéüÊñπÊ≥ïËØ•Âπ≤ÂòõÂπ≤Âòõ</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">method</span><span class="p">.</span><span class="na">invoke</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">realConnection</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">var6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="n">ExceptionUtil</span><span class="p">.</span><span class="na">unwrapThrowable</span><span class="p">(</span><span class="n">var6</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Ëøô‰∏ãÔºåÊ±†ÂåñÊï∞ÊçÆÊ∫êÁöÑÂ§ßËá¥ÊµÅÁ®ãÂÖ∂ÂÆûÂ∞±Â∑≤ÁªèÂæàÊ∏ÖÊô∞‰∫ÜÔºåÈÇ£‰πàÊàë‰ª¨ÊúÄÂêéÂÜçÊù•ÁúãÁúã<code>pushConnection</code>ÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">pushConnection</span><span class="p">(</span><span class="n">PooledConnection</span><span class="w"> </span><span class="n">conn</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">synchronized</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//ËÄÅËßÑÁü©ÔºåÂÖàÊù•ÊääÈîÅ</span>
<span class="w">        </span><span class="c1">//ÂÖà‰ªéÊ¥ªË∑ÉÂàóË°®ÁßªÈô§Ê≠§ËøûÊé•</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">activeConnections</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">conn</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//Âà§Êñ≠Ê≠§ÈìæÊé•ÊòØÂê¶ÂèØÁî®</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="na">isValid</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">PoolState</span><span class="w"> </span><span class="n">var10000</span><span class="p">;</span>
<span class="w">            </span><span class="c1">//ÁúãÁúãÈó≤ÁΩÆÂàóË°®ÂÆπÈáèÊòØÂê¶Â∑≤Êª°ÔºàÂÆπÈáèÊª°‰∫ÜÂ∞±Âõû‰∏çÂéª‰∫ÜÔºâ</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">idleConnections</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">poolMaximumIdleConnections</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getConnectionTypeCode</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">expectedConnectionTypeCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">var10000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">;</span>
<span class="w">                </span><span class="n">var10000</span><span class="p">.</span><span class="na">accumulatedCheckoutTime</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getCheckoutTime</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">getAutoCommit</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">rollback</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="c1">//ÊääÂîØ‰∏ÄÊúâÁî®ÁöÑConnectionÂØπË±°ÊãøÂá∫Êù•ÔºåÁÑ∂ÂêéÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™PooledConnectionÂåÖË£Ö</span>
<span class="w">                </span><span class="n">PooledConnection</span><span class="w"> </span><span class="n">newConn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PooledConnection</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">(),</span><span class="w"> </span><span class="k">this</span><span class="p">);</span>
<span class="w">                </span><span class="c1">//ÊîæÂÖ•Èó≤ÁΩÆÂàóË°®ÔºåÊàêÂäüÂõûÊî∂</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">idleConnections</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">newConn</span><span class="p">);</span>
<span class="w">                </span><span class="n">newConn</span><span class="p">.</span><span class="na">setCreatedTimestamp</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="na">getCreatedTimestamp</span><span class="p">());</span>
<span class="w">                </span><span class="n">newConn</span><span class="p">.</span><span class="na">setLastUsedTimestamp</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="na">getLastUsedTimestamp</span><span class="p">());</span>
<span class="w">                </span><span class="n">conn</span><span class="p">.</span><span class="na">invalidate</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Returned connection &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">newConn</span><span class="p">.</span><span class="na">getRealHashCode</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; to pool.&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">notifyAll</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">var10000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">;</span>
<span class="w">                </span><span class="n">var10000</span><span class="p">.</span><span class="na">accumulatedCheckoutTime</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getCheckoutTime</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">getAutoCommit</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">rollback</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealConnection</span><span class="p">().</span><span class="na">close</span><span class="p">();</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Closed connection &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealHashCode</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="n">conn</span><span class="p">.</span><span class="na">invalidate</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;A bad connection (&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">conn</span><span class="p">.</span><span class="na">getRealHashCode</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;) attempted to return to the pool, discarding connection.&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="na">state</span><span class="p">.</span><span class="na">badConnectionCount</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±Â∑≤ÁªèÂÆåÂÖ®‰∫ÜËß£‰∫ÜMybatisÁöÑÊ±†ÂåñÊï∞ÊçÆÊ∫êÁöÑÊâßË°åÊµÅÁ®ã‰∫Ü„ÄÇÂè™‰∏çËøáÔºåÊó†ËÆ∫ConnectionÁÆ°ÁêÜÊñπÂºèÂ¶Ç‰ΩïÂèòÊç¢ÔºåÊó†ËÆ∫Êï∞ÊçÆÊ∫êÂÜçÈ´òÁ∫ßÔºåÊàë‰ª¨Ë¶ÅÁü•ÈÅìÔºåÂÆÉÈÉΩÊúÄÁªàÈÉΩ‰ºö‰ΩøÁî®<code>DriverManager</code>Êù•ÂàõÂª∫ËøûÊé•ÂØπË±°ÔºåËÄåÊúÄÁªà‰ΩøÁî®ÁöÑ‰πüÊòØ<code>DriverManager</code>Êèê‰æõÁöÑ<code>Connection</code>ÂØπË±°„ÄÇ</p>
<h3 id="mybatis_1">Êï¥ÂêàMybatisÊ°ÜÊû∂<a class="headerlink" href="#mybatis_1" title="Permanent link">&para;</a></h3>
<p>ÈÄöËøá‰∫ÜËß£Êï∞ÊçÆÊ∫êÔºåÊàë‰ª¨Â∑≤ÁªèÊ∏ÖÊ•öÔºåMybatisÂÆûÈôÖ‰∏äÊòØÂú®‰ΩøÁî®Ëá™Â∑±ÁºñÂÜôÁöÑÊï∞ÊçÆÊ∫êÔºàÊï∞ÊçÆÊ∫êÂÆûÁé∞ÂÖ∂ÂÆûÊúâÂæàÂ§öÔºå‰πãÂêéÊàë‰ª¨ÂÜçËÅäÂÖ∂‰ªñÁöÑÔºâÈªòËÆ§‰ΩøÁî®ÁöÑÊòØÊ±†ÂåñÊï∞ÊçÆÊ∫êÔºåÂÆÉÈ¢ÑÂÖàÂ≠òÂÇ®‰∫ÜÂæàÂ§öÁöÑËøûÊé•ÂØπË±°„ÄÇ</p>
<p>ÈÇ£‰πàÊàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÔºåÂ¶Ç‰ΩïÂ∞ÜMybatis‰∏éSpringÊõ¥Â•ΩÁöÑÁªìÂêàÂë¢ÔºåÊØîÂ¶ÇÊàë‰ª¨Áé∞Âú®Â∏åÊúõÂ∞ÜSqlSessionFactory‰∫§ÁªôIoCÂÆπÂô®ËøõË°åÁÆ°ÁêÜÔºåËÄå‰∏çÊòØÊàë‰ª¨Ëá™Â∑±ÂàõÂª∫Â∑•ÂÖ∑Á±ªÊù•ÁÆ°ÁêÜÔºàÊàë‰ª¨‰πãÂâç‰∏ÄÁõ¥ÈÉΩÂú®‰ΩøÁî®Â∑•ÂÖ∑Á±ªÁÆ°ÁêÜÂíåÂàõÂª∫‰ºöËØùÔºâ</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- Ëøô‰∏§‰∏™‰æùËµñ‰∏çÁî®ÊàëËØ¥‰∫ÜÂêß --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.mybatis<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>mybatis<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- Ê≥®ÊÑèÔºåÂØπ‰∫éSpring 6.0Êù•ËØ¥ÔºåÁâàÊú¨ÈúÄË¶ÅÂú®3.5‰ª•‰∏ä --&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.5.13<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>8.0.31<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="cm">&lt;!-- MybatisÈíàÂØπ‰∫éSpring‰∏ìÈó®ÁºñÂÜôÁöÑÊîØÊåÅÊ°ÜÊû∂ --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.mybatis<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>mybatis-spring<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>3.0.2<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="cm">&lt;!-- SpringÁöÑJDBCÊîØÊåÅÊ°ÜÊû∂ --&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">     </span><span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
<span class="w">     </span><span class="nt">&lt;artifactId&gt;</span>spring-jdbc<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">     </span><span class="nt">&lt;version&gt;</span>6.0.10<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Âú®mybatis-spring‰æùËµñ‰∏≠Ôºå‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜSqlSessionTemplateÁ±ªÔºåÂÆÉÂÖ∂ÂÆûÂ∞±ÊòØÂÆòÊñπÂ∞ÅË£ÖÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑Á±ªÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫BeanÔºåËøôÊ†∑Êàë‰ª¨ÈöèÊó∂ÈÉΩÂèØ‰ª•ÂêëIoCÂÆπÂô®Á¥¢Ë¶ÅÂØπË±°ÔºåËÄå‰∏çÁî®Ëá™Â∑±ÂÜçÂéªÁºñÂÜô‰∏Ä‰∏™Â∑•ÂÖ∑Á±ª‰∫ÜÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®ÈÖçÁΩÆÁ±ª‰∏≠ÂàõÂª∫„ÄÇÂØπ‰∫éËøôÁßçÂà´‰∫∫ÁºñÂÜôÁöÑÁ±ªÂûãÔºåÂ¶ÇÊûúË¶ÅÊ≥®ÂÜå‰∏∫BeanÔºåÈÇ£‰πàÂè™ËÉΩÂú®ÈÖçÁΩÆÁ±ª‰∏≠ÂÆåÊàêÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;org.example.entity&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Ê≥®ÂÜåSqlSessionTemplateÁöÑBean</span>
<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SqlSessionTemplate</span><span class="w"> </span><span class="nf">sqlSessionTemplate</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">SqlSessionFactory</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SqlSessionFactoryBuilder</span><span class="p">().</span><span class="na">build</span><span class="p">(</span><span class="n">Resources</span><span class="p">.</span><span class="na">getResourceAsReader</span><span class="p">(</span><span class="s">&quot;mybatis-config.xml&quot;</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SqlSessionTemplate</span><span class="p">(</span><span class="n">factory</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÈáåÈöè‰æøÁºñÂÜô‰∏Ä‰∏™ÊµãËØïÁöÑMapperÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Data</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Student</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">sid</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">sex</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">TestMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Select</span><span class="p">(</span><span class="s">&quot;select * from student where sid = 1&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="nf">getStudent</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéÊòØÈÖçÁΩÆÊñá‰ª∂Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE configuration</span>
<span class="cp">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
<span class="w">    </span><span class="nt">&lt;environments</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;development&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;environment</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;development&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;transactionManager</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;JDBC&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;dataSource</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;POOLED&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;driver&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;url&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;jdbc:mysql://localhost:3306/study&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;username&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;root&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;property</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;password&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;123456&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/dataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/environment&gt;</span>
<span class="w">    </span><span class="nt">&lt;/environments&gt;</span>
<span class="w">    </span><span class="nt">&lt;mappers&gt;</span>
<span class="w">        </span><span class="nt">&lt;mapper</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.example.mapper.TestMapper&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/mappers&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<p>Êàë‰ª¨Êù•ÊµãËØï‰∏Ä‰∏ãÂêßÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">SqlSessionTemplate</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">SqlSessionTemplate</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">TestMapper</span><span class="w"> </span><span class="n">testMapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">template</span><span class="p">.</span><span class="na">getMapper</span><span class="p">(</span><span class="n">TestMapper</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">testMapper</span><span class="p">.</span><span class="na">getStudent</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/L83vrESxoXKO7fQ.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217142651610" src="https://s2.loli.net/2022/12/17/L83vrESxoXKO7fQ.png" /></a></p>
<p>ËøôÊ†∑ÔºåÊàë‰ª¨Â∞±ÊàêÂäüÂ∞ÜMybatis‰∏éSpringÂÆåÊàê‰∫ÜÂàùÊ≠•Êï¥ÂêàÔºåÁõ¥Êé•‰ªéÂÆπÂô®‰∏≠Â∞±ËÉΩËé∑ÂèñÂà∞SqlSessionTemplateÔºåÁªìÂêàËá™Âä®Ê≥®ÂÖ•ÔºåÊàë‰ª¨ÁöÑ‰ª£Á†ÅÈáèËÉΩÂ§üËøõ‰∏ÄÊ≠•ÁöÑÂáèÂ∞ë„ÄÇ</p>
<p>ËôΩÁÑ∂ËøôÊ†∑Â∑≤ÁªèÂæàÊñπ‰æø‰∫ÜÔºå‰ΩÜÊòØËøò‰∏çÂ§üÊñπ‰æøÔºåÊàë‰ª¨‰æùÁÑ∂ÈúÄË¶ÅÊâãÂä®ÂéªËé∑ÂèñMapperÂØπË±°ÔºåÈÇ£‰πàËÉΩÂê¶Áõ¥Êé•ÂæóÂà∞ÂØπÂ∫îÁöÑMapperÂØπË±°Âë¢ÔºåÊàë‰ª¨Â∏åÊúõËÆ©SpringÁõ¥Êé•Â∏ÆÂä©Êàë‰ª¨ÁÆ°ÁêÜÊâÄÊúâÁöÑMapperÔºåÂΩìÈúÄË¶ÅÊó∂ÔºåÂèØ‰ª•Áõ¥Êé•‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âú®ÈÖçÁΩÆÁ±ª‰∏äÊñπÊ∑ªÂä†Ê≥®Ëß£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;org.example.entity&quot;</span><span class="p">)</span>
<span class="nd">@MapperScan</span><span class="p">(</span><span class="s">&quot;org.example.mapper&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåMybatisÂ∞±‰ºöËá™Âä®Êâ´ÊèèÂØπÂ∫îÂåÖ‰∏ãÊâÄÊúâÁöÑÊé•Âè£ÔºåÂπ∂Áõ¥Êé•Ë¢´Ê≥®ÂÜå‰∏∫ÂØπÂ∫îÁöÑMapper‰Ωú‰∏∫BeanÁÆ°ÁêÜÔºåÈÇ£‰πàÊàë‰ª¨Áé∞Âú®Â∞±ÂèØ‰ª•Áõ¥Êé•ÈÄöËøáÂÆπÂô®Ëé∑Âèñ‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">TestMapper</span><span class="w"> </span><span class="n">mapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">TestMapper</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">mapper</span><span class="p">.</span><span class="na">getStudent</span><span class="p">());</span>
<span class="p">}</span>
</code></pre></div>
<p>Âú®Êàë‰ª¨ÂêéÁª≠ÁöÑSpringBootÂ≠¶‰π†Èò∂ÊÆµÔºå‰ºöÊúâÊõ¥Âä†Êñπ‰æøÁöÑÊñπÂºèÊù•Ê≥®ÂÜåMapperÔºåÊàë‰ª¨Âè™ÈúÄË¶Å‰∏Ä‰∏™<code>@Mapper</code>Ê≥®Ëß£Âç≥ÂèØÂÆåÊàêÔºåÈùûÂ∏∏ÁÆÄÂçï„ÄÇ</p>
<p>ËØ∑‰∏ÄÂÆöÊ≥®ÊÑèÔºåÂøÖÈ°ªÂ≠òÂú®<code>SqlSessionTemplate</code>ÊàñÊòØ<code>SqlSessionFactoryBean</code>ÁöÑBeanÔºåÂê¶Âàô‰ºöÊó†Ê≥ïÂàùÂßãÂåñÔºàÊØïÁ´üË¶ÅÊï∞ÊçÆÂ∫ìÁöÑÈìæÊé•‰ø°ÊÅØÔºâÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÔºåÂ¶ÇÊûúÊàë‰ª¨Â∏åÊúõÁõ¥Êé•ÂéªÈô§MybatisÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂÆåÂÖ®ÂÆûÁé∞ÂÖ®Ê≥®Ëß£ÈÖçÁΩÆÔºåÈÇ£‰πàÊîπÊÄé‰πàÂéªÂÆûÁé∞Âë¢ÔºüÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®<code>SqlSessionFactoryBean</code>Á±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;org.example.entity&quot;</span><span class="p">)</span>
<span class="nd">@MapperScan</span><span class="p">(</span><span class="s">&quot;org.example.mapper&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Bean</span><span class="w">   </span><span class="c1">//ÂçïÁã¨ÂàõÂª∫‰∏Ä‰∏™BeanÔºåÊñπ‰æø‰πãÂêéÊõ¥Êç¢</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="nf">dataSource</span><span class="p">(){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PooledDataSource</span><span class="p">(</span><span class="s">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s">&quot;jdbc:mysql://localhost:3306/study&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;root&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;123456&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">SqlSessionFactoryBean</span><span class="w"> </span><span class="nf">sqlSessionFactoryBean</span><span class="p">(</span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">){</span><span class="w">  </span><span class="c1">//Áõ¥Êé•ÂèÇÊï∞ÂæóÂà∞BeanÂØπË±°</span>
<span class="w">        </span><span class="n">SqlSessionFactoryBean</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SqlSessionFactoryBean</span><span class="p">();</span>
<span class="w">        </span><span class="n">bean</span><span class="p">.</span><span class="na">setDataSource</span><span class="p">(</span><span class="n">dataSource</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bean</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>È¶ñÂÖàÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êï∞ÊçÆÊ∫êÁöÑÂÆûÁé∞Á±ªÔºåÂõ†‰∏∫ËøôÊòØÊï∞ÊçÆÂ∫ìÊúÄÂü∫Êú¨ÁöÑ‰ø°ÊÅØÔºåÁÑ∂ÂêéÂÜçÁªôÂà∞<code>SqlSessionFactoryBean</code>ÂÆû‰æãÔºåËøôÊ†∑ÔºåÊàë‰ª¨Áõ∏ÂΩì‰∫éÁõ¥Êé•Âú®‰∏ÄÂºÄÂßãÈÄöËøáIoCÂÆπÂô®ÈÖçÁΩÆ‰∫Ü<code>SqlSessionFactory</code>ÔºåËøôÈáåÂè™ÈúÄË¶Å‰º†ÂÖ•‰∏Ä‰∏™<code>DataSource</code>ÁöÑÂÆûÁé∞Âç≥ÂèØÔºåÊàë‰ª¨ÈááÁî®Ê±†ÂåñÊï∞ÊçÆÊ∫ê„ÄÇ</p>
<p>Âà†Èô§ÈÖçÁΩÆÊñá‰ª∂ÔºåÈáçÊñ∞ÂÜçÊù•ËøêË°åÔºåÂêåÊ†∑ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®Mapper„ÄÇ‰ªéËøôÈáåÂºÄÂßãÔºåÈÄöËøáIoCÂÆπÂô®ÔºåMybatisÂ∑≤Áªè‰∏çÂÜçÈúÄË¶Å‰ΩøÁî®ÈÖçÁΩÆÊñá‰ª∂‰∫ÜÔºåÂú®Êàë‰ª¨‰πãÂêéÁöÑÂ≠¶‰π†‰∏≠ÔºåÂü∫‰∫éSpringÁöÑÂºÄÂèëÂ∞Ü‰∏ç‰ºöÂÜçÂá∫Áé∞MybatisÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇ</p>
<h3 id="hikaricp">‰ΩøÁî®HikariCPËøûÊé•Ê±†<a class="headerlink" href="#hikaricp" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨ÊèêÂà∞‰∫ÜÊï∞ÊçÆÊ∫êËøòÊúâÂÖ∂‰ªñÂÆûÁé∞ÔºåÊØîÂ¶ÇC3P0„ÄÅDruidÁ≠âÔºåÂÆÉ‰ª¨ÈÉΩÊòØÈùûÂ∏∏‰ºòÁßÄÁöÑÊï∞ÊçÆÊ∫êÂÆûÁé∞ÔºàÂèØ‰ª•Ëá™Ë°å‰∫ÜËß£ÔºâÔºå‰∏çËøáÊàë‰ª¨ËøôÈáåË¶Å‰ªãÁªçÁöÑÔºåÊòØ‰πãÂêéÂú®SpringBoot‰∏≠Ëøò‰ºöÈÅáÂà∞ÁöÑHikariCPËøûÊé•Ê±†„ÄÇ</p>
<blockquote>
<p>HikariCPÊòØÁî±Êó•Êú¨Á®ãÂ∫èÂëòÂºÄÊ∫êÁöÑ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÁªÑ‰ª∂Ôºå‰ª£Á†ÅÈùûÂ∏∏ËΩªÈáèÔºåÂπ∂‰∏îÈÄüÂ∫¶ÈùûÂ∏∏ÁöÑÂø´„ÄÇÊ†πÊçÆÂÆòÊñπÊèê‰æõÁöÑÊï∞ÊçÆÔºåÂú®ÈÖ∑Áùøi7ÂºÄÂêØ32‰∏™Á∫øÁ®ã32‰∏™ËøûÊé•ÁöÑÊÉÖÂÜµ‰∏ãÔºåËøõË°åÈöèÊú∫Êï∞ÊçÆÂ∫ìËØªÂÜôÊìç‰ΩúÔºåHikariCPÁöÑÈÄüÂ∫¶ÊòØÁé∞Âú®Â∏∏Áî®ÁöÑC3P0Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÁöÑÊï∞ÁôæÂÄç„ÄÇÂú®SpringBoot 3.0‰∏≠ÔºåÂÆòÊñπ‰πüÊòØÊé®Ëçê‰ΩøÁî®HikariCP„ÄÇ</p>
</blockquote>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/Q6gPI9RVe1X7Noq.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217145126777" src="https://s2.loli.net/2022/12/17/Q6gPI9RVe1X7Noq.png" /></a></p>
<p>È¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÂØºÂÖ•‰æùËµñÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>com.zaxxer<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>HikariCP<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>5.0.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Ë¶ÅÊõ¥Êç¢Êï∞ÊçÆÊ∫êÂÆûÁé∞ÔºåÈùûÂ∏∏ÁÆÄÂçïÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Â£∞Êòé‰∏Ä‰∏™BeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Bean</span>
<span class="kd">public</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="nf">dataSource</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">HikariDataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HikariDataSource</span><span class="p">();</span>
<span class="w">    </span><span class="n">dataSource</span><span class="p">.</span><span class="na">setJdbcUrl</span><span class="p">(</span><span class="s">&quot;jdbc:mysql://localhost:3306/study&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">dataSource</span><span class="p">.</span><span class="na">setDriverClassName</span><span class="p">(</span><span class="s">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">dataSource</span><span class="p">.</span><span class="na">setUsername</span><span class="p">(</span><span class="s">&quot;root&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">dataSource</span><span class="p">.</span><span class="na">setPassword</span><span class="p">(</span><span class="s">&quot;123456&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dataSource</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéÊàë‰ª¨ÂèëÁé∞ÔºåÂêåÊ†∑ÂèØ‰ª•ÂæóÂà∞ËæìÂá∫ÁªìÊûúÔºå‰ΩÜÊòØÂá∫Áé∞‰∫Ü‰∏Ä‰∏™Êä•ÈîôÔºö</p>
<div class="highlight"><pre><span></span><code>SLF4J: No SLF4J providers were found.
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.
</code></pre></div>
<p>Ê≠§Êï∞ÊçÆÊ∫êÂÆûÈôÖ‰∏äÊòØÈááÁî®‰∫ÜSLF4JÊó•ÂøóÊ°ÜÊû∂ÊâìÂç∞Êó•Âøó‰ø°ÊÅØÔºå‰ΩÜÊòØÁé∞Âú®Ê≤°Êúâ‰ªª‰ΩïÁöÑÊó•ÂøóÂÆûÁé∞Ôºàslf4jÂè™ÊòØ‰∏Ä‰∏™APIÊ†áÂáÜÔºåÂÆÉËßÑËåÉ‰∫ÜÂ§öÁßçÊó•ÂøóÊ°ÜÊû∂ÁöÑÊìç‰ΩúÔºåÁªü‰∏Ä‰ΩøÁî®SLF4JÂÆö‰πâÁöÑÊñπÊ≥ïÊù•Êìç‰Ωú‰∏çÂêåÁöÑÊó•ÂøóÊ°ÜÊû∂ÔºåÊàë‰ª¨‰ºöÂú®SpringBootÁØáËøõË°åËØ¶ÁªÜ‰ªãÁªçÔºâÊàë‰ª¨ËøôÈáåÂ∞±‰ΩøÁî®JUL‰Ωú‰∏∫Êó•ÂøóÂÆûÁé∞ÔºåÊàë‰ª¨ÈúÄË¶ÅÂØºÂÖ•Âè¶‰∏Ä‰∏™‰æùËµñÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.slf4j<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>slf4j-jdk14<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>1.7.25<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>Ê≥®ÊÑèÁâàÊú¨‰∏ÄÂÆöË¶ÅÂíå<code>slf4j-api</code>‰øùÊåÅ‰∏ÄËá¥ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ËøôÈáåÁõ¥Êé•Êü•ÁúãÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/93OSknRKXwdZsp7.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217154216832" src="https://s2.loli.net/2022/12/17/93OSknRKXwdZsp7.png" /></a></p>
<p>ËøôÊ†∑ÔºåHikariCPÊï∞ÊçÆÊ∫êÁöÑÂêØÂä®Êó•ÂøóÂ∞±ÂèØ‰ª•Ê≠£Â∏∏ÊâìÂç∞Âá∫Êù•‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code>12Êúà 17, 2022 3:41:38 ‰∏ãÂçà com.zaxxer.hikari.HikariDataSource getConnection
‰ø°ÊÅØ: HikariPool-1 - Starting...
12Êúà 17, 2022 3:41:38 ‰∏ãÂçà com.zaxxer.hikari.pool.HikariPool checkFailFast
‰ø°ÊÅØ: HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f8969b0
12Êúà 17, 2022 3:41:38 ‰∏ãÂçà com.zaxxer.hikari.HikariDataSource getConnection
‰ø°ÊÅØ: HikariPool-1 - Start completed.
Student(sid=1, name=Â∞èÊòé, sex=Áî∑)
</code></pre></div>
<p>Âú®SpringBootÈò∂ÊÆµÔºåÊàë‰ª¨Ëøò‰ºöÈÅáÂà∞<code>HikariPool-1 - Starting...</code>Âíå<code>HikariPool-1 - Start completed.</code>ÂêåÊ¨æÊó•Âøó‰ø°ÊÅØ„ÄÇ</p>
<p>ÂΩìÁÑ∂ÔºåLombokËÇØÂÆö‰πüÊòØÊîØÊåÅËøô‰∏™Êó•ÂøóÊ°ÜÊû∂Âø´ÈÄüÊ≥®Ëß£ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Slf4j</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">MainConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">TestMapper</span><span class="w"> </span><span class="n">mapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">TestMapper</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">log</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="n">mapper</span><span class="p">.</span><span class="na">getStudent</span><span class="p">().</span><span class="na">toString</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊòØ‰∏çÊòØÊÑüËßâÁâπÂà´Êñπ‰æøÔºü</p>
<h3 id="mybatis_2">Mybatis‰∫ãÂä°ÁÆ°ÁêÜ<a class="headerlink" href="#mybatis_2" title="Permanent link">&para;</a></h3>
<p>Êàë‰ª¨ÂâçÈù¢Â∑≤ÁªèËÆ≤Ëß£‰∫ÜÂ¶Ç‰ΩïËÆ©Mybatis‰∏éSpringÊõ¥Â•ΩÂú∞ËûçÂêàÂú®‰∏ÄËµ∑ÔºåÈÄöËøáÂ∞ÜÂØπÂ∫îÁöÑBeanÁ±ªÂûãÊ≥®ÂÜåÂà∞ÂÆπÂô®‰∏≠ÔºåÂ∞±ËÉΩÊõ¥Âä†Êñπ‰æøÁöÑÂéª‰ΩøÁî®MapperÔºåÈÇ£‰πàÁé∞Âú®ÔºåÊàë‰ª¨Êé•ÁùÄÊù•ÁúãSpringÁöÑ‰∫ãÂä°ÊéßÂà∂„ÄÇ</p>
<p>Âú®ÂºÄÂßã‰πãÂâçÔºåÊàë‰ª¨ËøòÊòØÂõûÈ°æ‰∏Ä‰∏ã‰∫ãÂä°Êú∫Âà∂„ÄÇÈ¶ñÂÖà‰∫ãÂä°ÈÅµÂæ™‰∏Ä‰∏™ACIDÂéüÂàôÔºö</p>
<ul>
<li>ÂéüÂ≠êÊÄßÔºàAtomicityÔºâÔºö‰∫ãÂä°ÊòØ‰∏Ä‰∏™ÂéüÂ≠êÊìç‰ΩúÔºåÁî±‰∏ÄÁ≥ªÂàóÂä®‰ΩúÁªÑÊàê„ÄÇ‰∫ãÂä°ÁöÑÂéüÂ≠êÊÄßÁ°Æ‰øùÂä®‰ΩúË¶Å‰πàÂÖ®ÈÉ®ÂÆåÊàêÔºåË¶Å‰πàÂÆåÂÖ®‰∏çËµ∑‰ΩúÁî®„ÄÇ</li>
<li>‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâÔºö‰∏ÄÊó¶‰∫ãÂä°ÂÆåÊàêÔºà‰∏çÁÆ°ÊàêÂäüËøòÊòØÂ§±Ë¥•ÔºâÔºåÁ≥ªÁªüÂøÖÈ°ªÁ°Æ‰øùÂÆÉÊâÄÂª∫Ê®°ÁöÑ‰∏öÂä°Â§Ñ‰∫é‰∏ÄËá¥ÁöÑÁä∂ÊÄÅÔºåËÄå‰∏ç‰ºöÊòØÈÉ®ÂàÜÂÆåÊàêÈÉ®ÂàÜÂ§±Ë¥•„ÄÇÂú®Áé∞ÂÆû‰∏≠ÁöÑÊï∞ÊçÆ‰∏çÂ∫îËØ•Ë¢´Á†¥Âùè„ÄÇÁ±ªÊØîÈì∂Ë°åËΩ¨Ë¥¶Ôºå‰ªé‰∏Ä‰∏™Ë¥¶Âè∑Êâ£Ê¨æÔºåÂè¶‰∏Ä‰∏™Ë¥¶Âè∑Â¢ûÊ¨æÔºåÂøÖÈ°ª‰øùËØÅÊÄªÈáëÈ¢ù‰∏çÂèò„ÄÇ</li>
<li>ÈöîÁ¶ªÊÄßÔºàIsolationÔºâÔºöÂèØËÉΩÊúâËÆ∏Â§ö‰∫ãÂä°‰ºöÂêåÊó∂Â§ÑÁêÜÁõ∏ÂêåÁöÑÊï∞ÊçÆÔºåÂõ†Ê≠§ÊØè‰∏™‰∫ãÂä°ÈÉΩÂ∫îËØ•‰∏éÂÖ∂‰ªñ‰∫ãÂä°ÈöîÁ¶ªÂºÄÊù•ÔºåÈò≤Ê≠¢Êï∞ÊçÆÊçüÂùè„ÄÇÁ±ªÊØîÂ§ö‰∏™‰∫∫ÂêåÊó∂ÁºñËæëÂêå‰∏ÄÊñáÊ°£ÔºåÊØè‰∏™‰∫∫ÁúãÂà∞ÁöÑÁªìÊûúÈÉΩÊòØÁã¨Á´ãÁöÑÔºå‰∏ç‰ºöÂèóÂÖ∂‰ªñ‰∫∫ÁöÑÂΩ±ÂìçÔºå‰∏çËøáÈöæÂÖç‰ºöÂ≠òÂú®ÂÜ≤Á™Å„ÄÇ</li>
<li>ÊåÅ‰πÖÊÄßÔºàDurabilityÔºâÔºö‰∏ÄÊó¶‰∫ãÂä°ÂÆåÊàêÔºåÊó†ËÆ∫ÂèëÁîü‰ªÄ‰πàÁ≥ªÁªüÈîôËØØÔºåÂÆÉÁöÑÁªìÊûúÈÉΩ‰∏çÂ∫îËØ•ÂèóÂà∞ÂΩ±ÂìçÔºåËøôÊ†∑Â∞±ËÉΩ‰ªé‰ªª‰ΩïÁ≥ªÁªüÂ¥©Ê∫É‰∏≠ÊÅ¢Â§çËøáÊù•„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºå‰∫ãÂä°ÁöÑÁªìÊûúË¢´ÂÜôÂà∞ÊåÅ‰πÖÂåñÂ≠òÂÇ®Âô®‰∏≠„ÄÇÁ±ªÊØîÂÜôÂÖ•Á°¨ÁõòÁöÑÊñá‰ª∂ÔºåÂç≥‰ΩøÂÖ≥Êú∫ÈáçÂêØÔºåÊñá‰ª∂‰ªçÁÑ∂Â≠òÂú®„ÄÇ</li>
</ul>
<p>ÁÆÄÂçïÊù•ËØ¥Ôºå‰∫ãÂä°Â∞±ÊòØË¶Å‰πàÂÆåÊàêÔºåË¶Å‰πàÂ∞±Âï•ÈÉΩÂà´ÂÅöÔºÅÂπ∂‰∏î‰∏çÂêåÁöÑ‰∫ãÂä°‰πãÈó¥Áõ∏‰∫íÈöîÁ¶ªÔºå‰∫í‰∏çÂπ≤Êâ∞„ÄÇ</p>
<p>ÈÇ£‰πàÊàë‰ª¨Êé•ÁùÄÊù•Ê∑±ÂÖ•‰∫ÜËß£‰∏Ä‰∏ã‰∫ãÂä°ÁöÑ<strong>ÈöîÁ¶ªÊú∫Âà∂</strong>ÔºàÂú®‰πãÂâçÊï∞ÊçÆÂ∫ìÂÖ•Èó®Èò∂ÊÆµÂπ∂Ê≤°ÊúâÊèêÂà∞ÔºâÊàë‰ª¨ËØ¥‰∫ÜÔºå‰∫ãÂä°‰πãÈó¥ÊòØÁõ∏‰∫íÈöîÁ¶ª‰∫í‰∏çÂπ≤Êâ∞ÁöÑÔºåÈÇ£‰πàÂ¶ÇÊûúÂá∫Áé∞‰∫Ü‰∏ãÈù¢ÁöÑÊÉÖÂÜµÔºå‰ºöÊÄé‰πàÊ†∑Âë¢Ôºö</p>
<blockquote>
<p>ÂΩì‰∏§‰∏™‰∫ãÂä°ÂêåÊó∂Âú®ÊâßË°åÔºåÂπ∂‰∏îÂêåÊó∂Âú®Êìç‰ΩúÂêå‰∏Ä‰∏™Êï∞ÊçÆÔºåËøôÊ†∑ÂæàÂÆπÊòìÂá∫Áé∞Âπ∂ÂèëÁõ∏ÂÖ≥ÁöÑÈóÆÈ¢òÔºåÊØîÂ¶Ç‰∏Ä‰∏™‰∫ãÂä°ÂÖàËØªÂèñ‰∫ÜÊüêÊù°Êï∞ÊçÆÔºåËÄåÂè¶‰∏Ä‰∏™‰∫ãÂä°Ê≠§Êó∂‰øÆÊîπ‰∫ÜÊ≠§Êï∞ÊçÆÔºåÂΩìÂâç‰∏Ä‰∏™‰∫ãÂä°Á¥ßÊé•ÁùÄÂÜçÊ¨°ËØªÂèñÊó∂Ôºå‰ºöÂØºËá¥ÂíåÂâç‰∏ÄÊ¨°ËØªÂèñÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÔºåËøôÂ∞±ÊòØ‰∏ÄÁßçÂÖ∏ÂûãÁöÑÊï∞ÊçÆËôöËØªÁé∞Ë±°„ÄÇ</p>
</blockquote>
<p>Âõ†Ê≠§Ôºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÔºå‰∫ãÂä°‰πãÈó¥ÂÆûÈôÖ‰∏äÊòØÂ≠òÂú®‰∏Ä‰∫õÈöîÁ¶ªÁ∫ßÂà´ÁöÑÔºö</p>
<ul>
<li>ISOLATION_READ_UNCOMMITTEDÔºàËØªÊú™Êèê‰∫§ÔºâÔºöÂÖ∂‰ªñ‰∫ãÂä°‰ºöËØªÂèñÂΩìÂâç‰∫ãÂä°Â∞öÊú™Êõ¥ÊîπÁöÑÊèê‰∫§ÔºàÁõ∏ÂΩì‰∫éËØªÂèñÁöÑÊòØËøô‰∏™‰∫ãÂä°ÊöÇÊó∂ÁºìÂ≠òÁöÑÂÜÖÂÆπÔºåÂπ∂‰∏çÊòØÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÜÖÂÆπÔºâ</li>
<li>ISOLATION_READ_COMMITTEDÔºàËØªÂ∑≤Êèê‰∫§ÔºâÔºöÂÖ∂‰ªñ‰∫ãÂä°‰ºöËØªÂèñÂΩìÂâç‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§ÁöÑÊï∞ÊçÆÔºà‰πüÂ∞±ÊòØÁõ¥Êé•ËØªÂèñÊï∞ÊçÆÂ∫ì‰∏≠Â∑≤ÁªèÂèëÁîüÊõ¥ÊîπÁöÑÂÜÖÂÆπÔºâ</li>
<li>ISOLATION_REPEATABLE_READÔºàÂèØÈáçÂ§çËØªÔºâÔºöÂÖ∂‰ªñ‰∫ãÂä°‰ºöËØªÂèñÂΩìÂâç‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§ÁöÑÊï∞ÊçÆÂπ∂‰∏îÂÖ∂‰ªñ‰∫ãÂä°ÊâßË°åËøáÁ®ã‰∏≠‰∏çÂÖÅËÆ∏ÂÜçËøõË°åÊï∞ÊçÆ‰øÆÊîπÔºàÊ≥®ÊÑèËøôÈáå‰ªÖ‰ªÖÊòØ‰∏çÂÖÅËÆ∏‰øÆÊîπÊï∞ÊçÆÔºâ</li>
<li>ISOLATION_SERIALIZABLEÔºà‰∏≤Ë°åÂåñÔºâÔºöÂÆÉÂÆåÂÖ®Êúç‰ªéACIDÂéüÂàôÔºå‰∏Ä‰∏™‰∫ãÂä°ÂøÖÈ°ªÁ≠âÂæÖÂÖ∂‰ªñ‰∫ãÂä°ÁªìÊùü‰πãÂêéÊâçËÉΩÂºÄÂßãÊâßË°åÔºåÁõ∏ÂΩì‰∫éÊå®‰∏™ÊâßË°åÔºåÊïàÁéáÂæà‰Ωé</li>
</ul>
<p>Êàë‰ª¨‰æùÊ¨°Êù•ÁúãÁúãÔºå‰∏çÂêåÁöÑÈöîÁ¶ªÁ∫ßÂà´‰ºöÂØºËá¥‰ªÄ‰πàÈóÆÈ¢ò„ÄÇÈ¶ñÂÖàÊòØ<code>ËØªÊú™Êèê‰∫§</code>Á∫ßÂà´ÔºåÊ≠§Á∫ßÂà´Â±û‰∫éÊúÄ‰ΩéÁ∫ßÂà´ÔºåÁõ∏ÂΩì‰∫éÂêÑ‰∏™‰∫ãÂä°ÂÖ±‰∫´‰∏Ä‰∏™ÁºìÂ≠òÂå∫ÂüüÔºå‰ªª‰Ωï‰∫ãÂä°ÁöÑÊìç‰ΩúÈÉΩÂú®ËøôÈáåËøõË°å„ÄÇÈÇ£‰πàÂÆÉ‰ºöÂØºËá¥‰ª•‰∏ãÈóÆÈ¢òÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/hQpluLA2bFKo1O8.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217155511058" src="https://s2.loli.net/2022/12/17/hQpluLA2bFKo1O8.png" /></a></p>
<p>‰πüÂ∞±ÊòØËØ¥Ôºå‰∫ãÂä°AÊúÄÂêéÂæóÂà∞ÁöÑÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ÊØ´Êó†ÊÑè‰πâÁöÑÊï∞ÊçÆÔºà‰∫ãÂä°BÂ∑≤ÁªèÂõûÊªö‰∫ÜÔºâÊàë‰ª¨Áß∞Ê≠§Êï∞ÊçÆ‰∏∫"ËÑèÊï∞ÊçÆ"ÔºåËøôÁßçÁé∞Ë±°Áß∞‰∏∫<strong>ËÑèËØª</strong></p>
<p>Êàë‰ª¨Êé•ÁùÄÊù•Áúã<code>ËØªÂ∑≤Êèê‰∫§</code>Á∫ßÂà´Ôºå‰∫ãÂä°Âè™ËÉΩËØªÂèñÂÖ∂‰ªñ‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§ÁöÑÂÜÖÂÆπÔºåÁõ∏ÂΩì‰∫éÁõ¥Êé•‰ªéÊï∞ÊçÆ‰∏≠ËØªÂèñÊï∞ÊçÆÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÈÅøÂÖç<strong>ËÑèËØª</strong>ÈóÆÈ¢ò‰∫ÜÔºå‰ΩÜÊòØÂÆÉËøòÊòØÂ≠òÂú®‰ª•‰∏ãÈóÆÈ¢òÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/K1sJbDNyudOgAcV.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217155538073" src="https://s2.loli.net/2022/12/17/K1sJbDNyudOgAcV.png" /></a></p>
<p>ËøôÊ≠£ÊòØÊàë‰ª¨ÂâçÈù¢‰æãÂ≠ê‰∏≠ÊèêÂà∞ÁöÑÈóÆÈ¢òÔºåËôΩÁÑ∂ÂÆÉÈÅøÂÖç‰∫ÜËÑèËØªÈóÆÈ¢òÔºå‰ΩÜÊòØÂ¶ÇÊûú‰∫ã‰ª∂B‰øÆÊîπÂπ∂Êèê‰∫§‰∫ÜÊï∞ÊçÆÔºåÈÇ£‰πàÂÆûÈôÖ‰∏ä‰∫ãÂä°A‰πãÂâçËØªÂèñÂà∞ÁöÑÊï∞ÊçÆ‰æùÁÑ∂‰∏çÊòØÊúÄÊñ∞ÁöÑÊï∞ÊçÆÔºåÁõ¥Êé•ÂØºËá¥‰∏§Ê¨°ËØªÂèñÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÔºåËøôÁßçÁé∞Ë±°Áß∞‰∏∫<strong>ËôöËØª</strong>‰πüÂèØ‰ª•Áß∞‰∏∫<strong>‰∏çÂèØÈáçÂ§çËØª</strong></p>
<p>Âõ†Ê≠§Ôºå‰∏ã‰∏Ä‰∏™ÈöîÁ¶ªÁ∫ßÂà´<code>ÂèØÈáçÂ§çËØª</code>Â∞±ËÉΩÂ§üËß£ÂÜ≥ËøôÊ†∑ÁöÑÈóÆÈ¢òÔºàMySQLÁöÑÈªòËÆ§ÈöîÁ¶ªÁ∫ßÂà´ÔºâÔºåÂÆÉËßÑÂÆöÂú®ÂÖ∂‰ªñ‰∫ãÂä°ÊâßË°åÊó∂Ôºå‰∏çÂÖÅËÆ∏‰øÆÊîπÊï∞ÊçÆÔºåËøôÊ†∑ÔºåÂ∞±ÂèØ‰ª•ÊúâÊïàÂú∞ÈÅøÂÖç‰∏çÂèØÈáçÂ§çËØªÁöÑÈóÆÈ¢òÔºå‰ΩÜÊòØËøôÊ†∑Â∞±‰∏ÄÂÆöÂÆâÂÖ®‰∫ÜÂêóÔºüËøôÈáå‰ªÖ‰ªÖÊòØÁ¶ÅÊ≠¢‰∫Ü‰∫ãÂä°ÊâßË°åËøáÁ®ã‰∏≠ÁöÑUPDATEÊìç‰ΩúÔºå‰ΩÜÊòØÂÆÉÂπ∂Ê≤°ÊúâÁ¶ÅÊ≠¢INSERTËøôÁ±ªÊìç‰ΩúÔºåÂõ†Ê≠§ÔºåÂ¶ÇÊûú‰∫ãÂä°AÊâßË°åËøáÁ®ã‰∏≠‰∫ãÂä°BÊèíÂÖ•‰∫ÜÊñ∞ÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàAËøôÊó∂ÊòØÊØ´‰∏çÁü•ÊÉÖÁöÑÔºåÊØîÂ¶ÇÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/uwiHT8AcobeBjL3.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217160023674" src="https://s2.loli.net/2022/12/17/uwiHT8AcobeBjL3.png" /></a></p>
<p>‰∏§‰∏™‰∫∫ÂêåÊó∂Êä•Âêç‰∏Ä‰∏™Ê¥ªÂä®Ôºå‰∏§‰∏™Êä•ÂêçÁöÑ‰∫ãÂä°ÂêåÊó∂Âú®ËøõË°åÔºå‰ΩÜÊòØ‰ªñ‰ª¨‰∏ÄÂºÄÂßãËØªÂèñÂà∞ÁöÑ‰∫∫Êï∞ÈÉΩÊòØ5ÔºåËÄåËøôÊó∂ÔºåÂÆÉ‰ª¨ÈÉΩ‰ºöËÆ§‰∏∫Êä•ÂêçÊàêÂäüÂêé‰∫∫Êï∞Â∫îËØ•ÂèòÊàê6ÔºåËÄåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÂ∫îËØ•ÊòØ7ÔºåÂõ†Ê≠§Ëøô‰∏™Êó∂ÂÄôÂ∞±ÂèëÁîü‰∫ÜÊï∞ÊçÆÁöÑ<strong>ÂπªËØª</strong>Áé∞Ë±°„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåË¶ÅËß£ÂÜ≥ËøôÁßçÈóÆÈ¢òÔºåÂè™ËÉΩ‰ΩøÁî®ÊúÄÂêé‰∏ÄÁßçÈöîÁ¶ªÁ∫ßÂà´<code>‰∏≤Ë°åÂåñ</code>Êù•ÂÆûÁé∞‰∫ÜÔºåÊØè‰∏™‰∫ãÂä°‰∏çËÉΩÂêåÊó∂ËøõË°åÔºåÁõ¥Êé•ÈÅøÂÖçÊâÄÊúâÂπ∂ÂèëÈóÆÈ¢òÔºåÁÆÄÂçïÁ≤óÊö¥Ôºå‰ΩÜÊòØÊïàÁéáÁàÜÂáèÔºåÂπ∂‰∏çÊé®Ëçê„ÄÇ</p>
<p>ÊúÄÂêéÊÄªÁªì‰∏âÁßçÊÉÖÂÜµÔºö</p>
<ul>
<li>ËÑèËØªÔºöËØªÂèñÂà∞‰∫ÜË¢´ÂõûÊªöÁöÑÊï∞ÊçÆÔºåÂÆÉÊØ´Êó†ÊÑè‰πâ„ÄÇ</li>
<li>ËôöËØªÔºà‰∏çÂèØÈáçÂ§çËØªÔºâÔºöÁî±‰∫éÂÖ∂‰ªñ‰∫ãÂä°Êõ¥Êñ∞Êï∞ÊçÆÔºå‰∏§Ê¨°ËØªÂèñÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥„ÄÇ</li>
<li>ÂπªËØªÔºöÁî±‰∫éÂÖ∂‰ªñ‰∫ãÂä°ÊâßË°åÊèíÂÖ•Âà†Èô§Êìç‰ΩúÔºåËÄåÂèàÊó†Ê≥ïÊÑüÁü•Âà∞Ë°®‰∏≠ËÆ∞ÂΩïÊù°Êï∞ÂèëÁîüÂèòÂåñÔºåÂΩì‰∏ãÊ¨°ÂÜçËØªÂèñÊó∂‰ºöËé´ÂêçÂÖ∂Â¶ôÂ§öÂá∫ÊàñÁº∫Â§±Êï∞ÊçÆÔºåÂ∞±ÂÉè‰∫ßÁîüÂπªËßâ‰∏ÄÊ†∑„ÄÇ</li>
</ul>
<p>ÔºàÂØπ‰∫éËôöËØªÂíåÂπªËØªÁöÑÂå∫ÂàÜÔºöËôöËØªÊòØÊüê‰∏™Êï∞ÊçÆÂâçÂêéËØªÂèñ‰∏ç‰∏ÄËá¥ÔºåÂπªËØªÊòØÊï¥‰∏™Ë°®ÁöÑËÆ∞ÂΩïÊï∞ÈáèÂâçÂêéËØªÂèñ‰∏ç‰∏ÄËá¥</p>
<p>ÊúÄÂêéËøôÂº†ÂõæÔºåËØ∑Âä°ÂøÖËÆ∞Âú®‰Ω†ÁöÑËÑëÊµ∑ÔºåËÆ∞Âú®‰Ω†ÁöÑÂøÉ‰∏≠Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/nHfV8R1ZUybTSd2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217160052616" src="https://s2.loli.net/2022/12/17/nHfV8R1ZUybTSd2.png" /></a></p>
<p>MybatisÂØπ‰∫éÊï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÔºå‰πüÊúâÁùÄÁõ∏Â∫îÁöÑÂ∞ÅË£Ö„ÄÇ‰∏Ä‰∏™‰∫ãÂä°Êó†ÈùûÂ∞±ÊòØÂàõÂª∫„ÄÅÊèê‰∫§„ÄÅÂõûÊªö„ÄÅÂÖ≥Èó≠ÔºåÂõ†Ê≠§Ëøô‰∫õÊìç‰ΩúË¢´MybatisÊäΩË±°‰∏∫‰∏Ä‰∏™Êé•Âè£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Transaction</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">commit</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">rollback</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">close</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="p">;</span>

<span class="w">    </span><span class="n">Integer</span><span class="w"> </span><span class="nf">getTimeout</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂØπ‰∫éÊ≠§Êé•Âè£ÁöÑÂÆûÁé∞ÔºåMyBatisÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÂàÜ‰∏∫‰∏§ÁßçÂΩ¢ÂºèÔºö</p>
<ol>
<li>‰ΩøÁî®<strong>JDBC</strong>ÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÊú∫Âà∂ÔºöÂç≥Âà©Áî®ÂØπÂ∫îÊï∞ÊçÆÂ∫ìÁöÑÈ©±Âä®ÁîüÊàêÁöÑ<code>Connection</code>ÂØπË±°ÂÆåÊàêÂØπ‰∫ãÂä°ÁöÑÊèê‰∫§Ôºàcommit()Ôºâ„ÄÅÂõûÊªöÔºàrollback()Ôºâ„ÄÅÂÖ≥Èó≠Ôºàclose()ÔºâÁ≠âÔºåÂØπÂ∫îÁöÑÂÆûÁé∞Á±ª‰∏∫<code>JdbcTransaction</code></li>
<li>‰ΩøÁî®<strong>MANAGED</strong>ÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÊú∫Âà∂ÔºöËøôÁßçÊú∫Âà∂MyBatisËá™Ë∫´‰∏ç‰ºöÂéªÂÆûÁé∞‰∫ãÂä°ÁÆ°ÁêÜÔºåËÄåÊòØËÆ©Á®ãÂ∫èÁöÑÂÆπÂô®ÔºàÊØîÂ¶ÇSpringÔºâÊù•ÂÆûÁé∞ÂØπ‰∫ãÂä°ÁöÑÁÆ°ÁêÜÔºåÂØπÂ∫îÁöÑÂÆûÁé∞Á±ª‰∏∫<code>ManagedTransaction</code></li>
<li>Â¶ÇÊûúÈúÄË¶ÅËá™ÂÆö‰πâÔºåÈÇ£‰πàÂæóÂÆûÁé∞<code>org.apache.ibatis.transaction.Transaction</code>Êé•Âè£ÔºåÁÑ∂ÂêéÂú®<code>type</code>Â±ûÊÄß‰∏≠ÊåáÂÆöÂÖ∂Á±ªÂêç„ÄÇ‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÂô®ÂèØ‰ª•Ê†πÊçÆÂÖ∑‰ΩìÈúÄÊ±ÇÊù•ÂÆûÁé∞‰∏Ä‰∫õÁâπÂÆöÁöÑ‰∫ãÂä°ÁÆ°ÁêÜË°å‰∏∫„ÄÇ</li>
</ol>
<p>ËÄåÊàë‰ª¨‰πãÂâç‰∏ÄÁõ¥‰ΩøÁî®ÁöÑÂÖ∂ÂÆûÂ∞±ÊòØJDBCÁöÑ‰∫ãÂä°ÔºåÁõ∏ÂΩì‰∫éÁõ¥Êé•‰ΩøÁî®<code>Connection</code>ÂØπË±°Ôºà‰πãÂâçJavaWebÈò∂ÊÆµÂ∑≤ÁªèËÆ≤Ëß£Ëøá‰∫ÜÔºâÂú®ËøõË°å‰∫ãÂä°Êìç‰ΩúÔºåÂπ∂Ê≤°ÊúâÈ¢ùÂ§ñÁöÑÁÆ°ÁêÜÊú∫Âà∂ÔºåÂØπÂ∫îÁöÑÈÖçÁΩÆ‰∏∫Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;transactionManager</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;JDBC&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<p>ÈÇ£‰πàÊàë‰ª¨Êù•ÁúãÁúã<code>JdbcTransaction</code>ÊòØ‰∏çÊòØÂÉèÊàë‰ª¨‰∏äÈù¢ÊâÄËØ¥ÁöÑÈÇ£Ê†∑ÁÆ°ÁêÜ‰∫ãÂä°ÁöÑÔºåÁõ¥Êé•‰∏äÊ∫êÁ†ÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">JdbcTransaction</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Transaction</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Log</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LogFactory</span><span class="p">.</span><span class="na">getLog</span><span class="p">(</span><span class="n">JdbcTransaction</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="n">connection</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">TransactionIsolationLevel</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">autoCommit</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">JdbcTransaction</span><span class="p">(</span><span class="n">DataSource</span><span class="w"> </span><span class="n">ds</span><span class="p">,</span><span class="w"> </span><span class="n">TransactionIsolationLevel</span><span class="w"> </span><span class="n">desiredLevel</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">desiredAutoCommit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Êï∞ÊçÆÊ∫ê</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">dataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ds</span><span class="p">;</span>
<span class="w">        </span><span class="c1">//‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºå‰∏äÈù¢Â∑≤ÁªèÊèêÂà∞Ëøá‰∫Ü</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">desiredLevel</span><span class="p">;</span>
<span class="w">        </span><span class="c1">//ÊòØÂê¶Ëá™Âä®Êèê‰∫§</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">autoCommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">desiredAutoCommit</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">  </span><span class="c1">//‰πüÂèØ‰ª•Áõ¥Êé•Áªô‰∏™ConnectionÂØπË±°</span>
<span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="nf">JdbcTransaction</span><span class="p">(</span><span class="n">Connection</span><span class="w"> </span><span class="n">connection</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connection</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="nf">getConnection</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Ê≤°ÊúâÂ∞±ÈÄöËøáÊï∞ÊçÆÊ∫êÊñ∞ÂºÄ‰∏Ä‰∏™Connection</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">connection</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">openConnection</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">connection</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">commit</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//ËøûÊé•Â∑≤ÁªèÂàõÂª∫Âπ∂‰∏îÊ≤°ÂºÄÂêØËá™Âä®Êèê‰∫§ÊâçÂèØ‰ª•‰ΩøÁî®</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">connection</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="na">connection</span><span class="p">.</span><span class="na">getAutoCommit</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">log</span><span class="p">.</span><span class="na">isDebugEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">log</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Committing JDBC Connection [&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">connection</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;]&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">                        </span><span class="c1">//ÂÆûÈôÖ‰∏ä‰ΩøÁî®ÁöÑÊòØÊï∞ÊçÆÂ∫ìÈ©±Âä®Êèê‰æõÁöÑConnectionÂØπË±°ËøõË°å‰∫ãÂä°Êìç‰Ωú</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">connection</span><span class="p">.</span><span class="na">commit</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>Áõ∏ÂΩì‰∫é<code>JdbcTransaction</code>Âè™ÊòØ‰∏∫Êï∞ÊçÆÂ∫ìÈ©±Âä®Êèê‰æõÁöÑ<code>Connection</code>ÂØπË±°Â•ó‰∫ÜÂ±ÇÂ£≥ÔºåÊâÄÊúâÁöÑ‰∫ãÂä°Êìç‰ΩúÂÆûÈôÖ‰∏äÊòØÁõ¥Êé•Ë∞ÉÁî®<code>Connection</code>ÂØπË±°„ÄÇÈÇ£‰πàÊàë‰ª¨Êé•ÁùÄÊù•Áúã<code>ManagedTransaction</code>ÁöÑÊ∫êÁ†ÅÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ManagedTransaction</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Transaction</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">commit</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">rollback</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">SQLException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÂ§ß‰ΩìÂÜÖÂÆπÂíå<code>JdbcTransaction</code>Â∑Æ‰∏çÂ§öÔºå‰ΩÜÊòØÂÆÉÂπ∂Ê≤°ÊúâÂÆûÁé∞‰ªª‰ΩïÁöÑ‰∫ãÂä°Êìç‰Ωú„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÆÉÂ∏åÊúõÂ∞ÜÂÆûÁé∞‰∫§ÁªôÂÖ∂‰ªñÁöÑÁÆ°ÁêÜÊ°ÜÊû∂Êù•ÂÆåÊàêÔºåËÄåSpringÂ∞±‰∏∫MybatisÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈùûÂ∏∏Â•ΩÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÂÆûÁé∞„ÄÇ</p>
<h3 id="spring_3">‰ΩøÁî®Spring‰∫ãÂä°ÁÆ°ÁêÜ<a class="headerlink" href="#spring_3" title="Permanent link">&para;</a></h3>
<p>Áé∞Âú®Êàë‰ª¨Êù•Â≠¶‰π†‰∏Ä‰∏ãSpringÊèê‰æõÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÔºàSpring‰∫ãÂä°ÁÆ°ÁêÜÂàÜ‰∏∫ÁºñÁ®ãÂºè‰∫ãÂä°ÂíåÂ£∞ÊòéÂºè‰∫ãÂä°Ôºå‰ΩÜÊòØÁºñÁ®ãÂºè‰∫ãÂä°Ëøá‰∫éÂ§çÊùÇÂπ∂‰∏îÂÖ∑ÊúâÈ´òÂ∫¶ËÄ¶ÂêàÊÄßÔºåËøùËÉå‰∫ÜSpringÊ°ÜÊû∂ÁöÑËÆæËÆ°ÂàùË°∑ÔºåÂõ†Ê≠§ËøôÈáåÂè™ËÆ≤Ëß£Â£∞ÊòéÂºè‰∫ãÂä°ÔºâÂ£∞ÊòéÂºè‰∫ãÂä°ÊòØÂü∫‰∫éAOPÂÆûÁé∞ÁöÑ„ÄÇ</p>
<p>‰ΩøÁî®Â£∞ÊòéÂºè‰∫ãÂä°ÈùûÂ∏∏ÁÆÄÂçïÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÁ±ªÊ∑ªÂä†<code>@EnableTransactionManagement</code>Ê≥®Ëß£Âç≥ÂèØÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂºÄÂêØSpringÁöÑ‰∫ãÂä°ÊîØÊåÅ‰∫Ü„ÄÇÊé•ÁùÄÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊää‰∏Ä‰∏™‰∫ãÂä°Ë¶ÅÂÅöÁöÑÊâÄÊúâ‰∫ãÊÉÖÂ∞ÅË£ÖÂà∞ServiceÂ±ÇÁöÑ‰∏Ä‰∏™ÊñπÊ≥ï‰∏≠Âç≥ÂèØÔºåÈ¶ñÂÖàÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê≥®ÂÜå‰∏Ä‰∏™Êñ∞ÁöÑBeanÔºå‰∫ãÂä°ÈúÄË¶ÅÊâßË°åÂøÖÈ°ªÊúâ‰∏Ä‰∏™‰∫ãÂä°ÁÆ°ÁêÜÂô®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Configuration</span>
<span class="nd">@ComponentScan</span><span class="p">(</span><span class="s">&quot;org.example&quot;</span><span class="p">)</span>
<span class="nd">@MapperScan</span><span class="p">(</span><span class="s">&quot;org.example.mapper&quot;</span><span class="p">)</span>
<span class="nd">@EnableTransactionManagement</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MainConfiguration</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Bean</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">TransactionManager</span><span class="w"> </span><span class="nf">transactionManager</span><span class="p">(</span><span class="n">DataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="p">){</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DataSourceTransactionManager</span><span class="p">(</span><span class="n">dataSource</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>Êé•ÁùÄÊàë‰ª¨Êù•ÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑMapperÊìç‰ΩúÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Mapper</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">TestMapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>

<span class="w">    </span><span class="nd">@Insert</span><span class="p">(</span><span class="s">&quot;insert into student(name, sex) values(&#39;ÊµãËØï&#39;, &#39;Áî∑&#39;)&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">insertStudent</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑‰ºöÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÊèíÂÖ•‰∏ÄÊù°Êñ∞ÁöÑÂ≠¶Áîü‰ø°ÊÅØÔºåÊé•ÁùÄÔºåÂÅáËÆæÊàë‰ª¨ËøôÈáåÊúâ‰∏Ä‰∏™‰∏öÂä°ÈúÄË¶ÅËøûÁª≠ÊèíÂÖ•‰∏§Êù°Â≠¶Áîü‰ø°ÊÅØÔºåÈ¶ñÂÖàÁºñÂÜô‰∏öÂä°Â±ÇÁöÑÊé•Âè£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">TestService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Êé•ÁùÄÔºåÊàë‰ª¨ÂÜçÊù•ÁºñÂÜô‰∏öÂä°Â±ÇÁöÑÂÆûÁé∞ÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Â∞ÜÂÖ∂Ê≥®ÂÜå‰∏∫BeanÔºå‰∫§ÁªôSpringÊù•ËøõË°åÁÆ°ÁêÜÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Ëá™Âä®Â∞ÜMapperÊ≥®ÂÖ•Âà∞Á±ª‰∏≠‰∫ÜÔºåÂπ∂‰∏îÂèØ‰ª•ÊîØÊåÅ‰∫ãÂä°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestServiceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">TestService</span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Resource</span>
<span class="w">    </span><span class="n">TestMapper</span><span class="w"> </span><span class="n">mapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Transactional</span><span class="w">   </span><span class="c1">//Ê≠§Ê≥®Ëß£Ë°®Á§∫‰∫ãÂä°Ôºå‰πãÂêéÊâßË°åÁöÑÊâÄÊúâÊñπÊ≥ïÈÉΩ‰ºöÂú®Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÊâßË°å</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mapper</span><span class="p">.</span><span class="na">insertStudent</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÊµãËØïÂºÇÂ∏∏ÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">mapper</span><span class="p">.</span><span class="na">insertStudent</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Âè™ÈúÄÂú®ÊñπÊ≥ï‰∏äÊ∑ªÂä†<code>@Transactional</code>Ê≥®Ëß£ÔºåÂç≥ÂèØË°®Á§∫Ê≠§ÊñπÊ≥ïÊâßË°åÁöÑÊòØ‰∏Ä‰∏™‰∫ãÂä°Êìç‰ΩúÔºåÂú®Ë∞ÉÁî®Ê≠§ÊñπÊ≥ïÊó∂ÔºåSpring‰ºöÈÄöËøáAOPÊú∫Âà∂‰∏∫ÂÖ∂ËøõË°åÂ¢ûÂº∫Ôºå‰∏ÄÊó¶ÂèëÁé∞ÂºÇÂ∏∏Ôºå‰∫ãÂä°‰ºöËá™Âä®ÂõûÊªö„ÄÇÊúÄÂêéÊàë‰ª¨Êù•Ë∞ÉÁî®‰∏Ä‰∏ãÊ≠§ÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Slf4j</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">log</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;È°πÁõÆÊ≠£Âú®ÂêØÂä®...&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">TestConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">TestService</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">TestService</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">service</span><span class="p">.</span><span class="na">test</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂæóÂà∞ÁöÑÁªìÊûúÊòØÂá∫Áé∞ÈîôËØØÔºö</p>
<div class="highlight"><pre><span></span><code>12Êúà 17, 2022 4:09:00 ‰∏ãÂçà com.zaxxer.hikari.HikariDataSource getConnection
‰ø°ÊÅØ: HikariPool-1 - Start completed.
Exception in thread &quot;main&quot; java.lang.RuntimeException: ÊàëÊòØÊµãËØïÂºÇÂ∏∏ÔºÅ
    at org.example.service.TestServiceImpl.test(TestServiceImpl.java:17)
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.base/java.lang.reflect.Method.invoke(Method.java:568)
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÊï¥‰∏™Ê†àËøΩË∏™‰ø°ÊÅØ‰∏≠ÂåÖÂê´‰∫ÜÂ§ßÈáèaopÂåÖ‰∏ãÁöÑÂÜÖÂÆπÔºå‰πüÂ∞±Âç∞ËØÅ‰∫ÜÂÆÉÁ°ÆÂÆûÊòØÈÄöËøáAOPÂÆûÁé∞ÁöÑÔºåÈÇ£‰πàÊàë‰ª¨Êé•ÁùÄÊù•Áúã‰∏Ä‰∏ãÔºåÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÊòØÂê¶Ê≤°ÊúâÂèëÁîüÂèòÂåñÔºàÂá∫Áé∞ÂºÇÂ∏∏ÂõûÊªö‰∫ÜÔºâ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/TQDbpK2JVP3d9wz.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217161027254" src="https://s2.loli.net/2022/12/17/TQDbpK2JVP3d9wz.png" /></a></p>
<p>ÁªìÊûúÊòæËÄåÊòìËßÅÔºåÁ¨¨‰∏ÄÊ¨°ÁöÑÊèíÂÖ•Êìç‰ΩúÁ°ÆÂÆûË¢´ÂõûÊªö‰∫ÜÔºåÊï∞ÊçÆÂ∫ì‰∏≠Ê≤°Êúâ‰ªª‰ΩïÊñ∞Â¢ûÁöÑÂÜÖÂÆπ„ÄÇ</p>
<p>Êàë‰ª¨Êé•ÁùÄÊù•Á†îÁ©∂‰∏Ä‰∏ã<code>@Transactional</code>Ê≥®Ëß£ÁöÑ‰∏Ä‰∫õÂèÇÊï∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Target</span><span class="p">({</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">ElementType</span><span class="p">.</span><span class="na">METHOD</span><span class="p">})</span>
<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="nd">@Inherited</span>
<span class="nd">@Documented</span>
<span class="kd">public</span><span class="w"> </span><span class="nd">@interface</span><span class="w"> </span><span class="n">Transactional</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@AliasFor</span><span class="p">(</span><span class="s">&quot;transactionManager&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">value</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@AliasFor</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">transactionManager</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="nf">label</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{};</span>

<span class="w">    </span><span class="n">Propagation</span><span class="w"> </span><span class="nf">propagation</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">Propagation</span><span class="p">.</span><span class="na">REQUIRED</span><span class="p">;</span>

<span class="w">    </span><span class="n">Isolation</span><span class="w"> </span><span class="nf">isolation</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">Isolation</span><span class="p">.</span><span class="na">DEFAULT</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">timeout</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>

<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">timeoutString</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">readOnly</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="n">Class</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Throwable</span><span class="o">&gt;[]</span><span class="w"> </span><span class="nf">rollbackFor</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{};</span>

<span class="w">    </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="nf">rollbackForClassName</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{};</span>

<span class="w">    </span><span class="n">Class</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Throwable</span><span class="o">&gt;[]</span><span class="w"> </span><span class="nf">noRollbackFor</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{};</span>

<span class="w">    </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="nf">noRollbackForClassName</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{};</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Êù•ËÆ≤Ëß£Âá†‰∏™ÊØîËæÉÂÖ≥ÈîÆÁöÑÂ±ûÊÄßÔºö</p>
<ul>
<li>transactionManagerÔºöÊåáÂÆö‰∫ãÂä°ÁÆ°ÁêÜÂô®</li>
<li>propagationÔºö‰∫ãÂä°‰º†Êí≠ËßÑÂàôÔºå‰∏Ä‰∏™‰∫ãÂä°ÂèØ‰ª•ÂåÖÊã¨N‰∏™Â≠ê‰∫ãÂä°</li>
<li>isolationÔºö‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºå‰∏çÂ§öËØ¥‰∫Ü</li>
<li>timeoutÔºö‰∫ãÂä°Ë∂ÖÊó∂Êó∂Èó¥</li>
<li>readOnlyÔºöÊòØÂê¶‰∏∫Âè™ËØª‰∫ãÂä°Ôºå‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ì‰ºöÊ†πÊçÆÂè™ËØªÂ±ûÊÄßËøõË°å‰ºòÂåñÔºåÊØîÂ¶ÇMySQL‰∏ÄÊó¶Â£∞Êòé‰∫ãÂä°‰∏∫Âè™ËØªÔºåÈÇ£‰πà‰πÖ‰∏çÂÖÅËÆ∏Â¢ûÂà†ÊîπÊìç‰Ωú‰∫Ü„ÄÇ</li>
<li>rollbackForÂíånoRollbackForÔºöÂèëÁîüÊåáÂÆöÂºÇÂ∏∏Êó∂ÂõûÊªöÊàñÊòØ‰∏çÂõûÊªöÔºåÈªòËÆ§ÂèëÁîü‰ªª‰ΩïÂºÇÂ∏∏ÈÉΩÂõûÊªö„ÄÇ</li>
</ul>
<p>Èô§‰∫Ü‰∫ãÂä°ÁöÑ‰º†Êí≠ËßÑÂàôÔºåÂÖ∂‰ªñÁöÑÂÜÖÂÆπÂÖ∂ÂÆûÂ∑≤ÁªèÁªôÂ§ßÂÆ∂ËÆ≤Ëß£Ëøá‰∫ÜÔºåÈÇ£‰πàÊàë‰ª¨Â∞±Êù•ÁúãÁúã‰∫ãÂä°ÁöÑ‰º†Êí≠„ÄÇ‰∫ãÂä°‰º†Êí≠‰∏ÄÂÖ±Êúâ‰∏ÉÁßçÁ∫ßÂà´Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/C1RA4mBEoxNDFGl.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217161156859" src="https://s2.loli.net/2022/12/17/C1RA4mBEoxNDFGl.png" /></a></p>
<p>SpringÈªòËÆ§ÁöÑ‰º†Êí≠Á∫ßÂà´ÊòØ<code>PROPAGATION_REQUIRED</code>ÔºåÈÇ£‰πàÊàë‰ª¨Êù•ÁúãÁúãÔºåÂÆÉÊòØÂ¶Ç‰Ωï‰º†Êí≠ÁöÑÔºåÁé∞Âú®Êàë‰ª¨ÁöÑ<code>Service</code>Á±ª‰∏≠‰∏ÄÂÖ±Â≠òÂú®‰∏§‰∏™‰∫ãÂä°ÔºåËÄå‰∏Ä‰∏™‰∫ãÂä°ÊñπÊ≥ïÂåÖÂê´‰∫ÜÂè¶‰∏Ä‰∏™‰∫ãÂä°ÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestServiceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">TestService</span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Resource</span>
<span class="w">    </span><span class="n">TestMapper</span><span class="w"> </span><span class="n">mapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">test2</span><span class="p">();</span><span class="w">   </span><span class="c1">//ÂåÖÂê´Âè¶‰∏Ä‰∏™‰∫ãÂä°</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÊµãËØïÂºÇÂ∏∏ÔºÅ&quot;</span><span class="p">);</span><span class="w">  </span><span class="c1">//ÂèëÁîüÂºÇÂ∏∏Êó∂Ôºå‰ºöÂõûÊªöÂè¶‰∏Ä‰∏™‰∫ãÂä°ÂêóÔºü</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Transactional</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test2</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mapper</span><span class="p">.</span><span class="na">insertStudent</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊúÄÂêéÊàë‰ª¨ÂæóÂà∞ÁªìÊûúÔºåÂè¶‰∏Ä‰∏™‰∫ãÂä°‰πüË¢´ÂõûÊªö‰∫ÜÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÁõ∏ÂΩì‰∫éÂè¶‰∏Ä‰∏™‰∫ãÂä°Áõ¥Êé•Âä†ÂÖ•Âà∞Ê≠§‰∫ãÂä°‰∏≠Ôºå‰πüÂ∞±ÊòØË°®‰∏≠ÊâÄÊèèËø∞ÁöÑÈÇ£Ê†∑„ÄÇÂ¶ÇÊûúÂçïÁã¨ÊâßË°å<code>test2()</code>Âàô‰ºöÂºÄÂêØ‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ãÂä°ÔºåËÄåÊâßË°å<code>test()</code>Âàô‰ºöÁõ¥Êé•ËÆ©ÂÜÖÈÉ®ÁöÑ<code>test2()</code>Âä†ÂÖ•Âà∞ÂΩìÂâç‰∫ãÂä°‰∏≠„ÄÇ</p>
<p>Áé∞Âú®Êàë‰ª¨Â∞Ü<code>test2()</code>ÁöÑ‰º†Êí≠Á∫ßÂà´ËÆæÂÆö‰∏∫<code>SUPPORTS</code>ÔºåÈÇ£‰πàËøôÊó∂Â¶ÇÊûúÂçïÁã¨Ë∞ÉÁî®<code>test2()</code>ÊñπÊ≥ïÔºåÂπ∂‰∏ç‰ºö‰ª•‰∫ãÂä°ÁöÑÊñπÂºèÊâßË°åÔºåÂΩìÂèëÁîüÂºÇÂ∏∏Êó∂ÔºåËôΩÁÑ∂‰æùÁÑ∂Â≠òÂú®AOPÂ¢ûÂº∫Ôºå‰ΩÜÊòØ‰∏ç‰ºöËøõË°åÂõûÊªöÊìç‰ΩúÔºåËÄåÁé∞Âú®ÂÜçË∞ÉÁî®<code>test()</code>ÊñπÊ≥ïÔºåÊâç‰ºö‰ª•‰∫ãÂä°ÁöÑÊñπÂºèÊâßË°åÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Transactional</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">test2</span><span class="p">();</span>
<span class="p">}</span>

<span class="nd">@Transactional</span><span class="p">(</span><span class="n">propagation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Propagation</span><span class="p">.</span><span class="na">SUPPORTS</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test2</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mapper</span><span class="p">.</span><span class="na">insertStudent</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÊµãËØïÂºÇÂ∏∏ÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨Êé•ÁùÄÊù•Áúã<code>MANDATORY</code>ÔºåÂÆÉÈùûÂ∏∏‰∏•Ê†ºÔºåÂ¶ÇÊûúÂΩìÂâçÊñπÊ≥ïÂπ∂Ê≤°ÊúâÂú®‰ªª‰Ωï‰∫ãÂä°‰∏≠ËøõË°åÔºå‰ºöÁõ¥Êé•Âá∫Áé∞ÂºÇÂ∏∏Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Transactional</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">test2</span><span class="p">();</span>
<span class="p">}</span>

<span class="nd">@Transactional</span><span class="p">(</span><span class="n">propagation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Propagation</span><span class="p">.</span><span class="na">MANDATORY</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test2</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mapper</span><span class="p">.</span><span class="na">insertStudent</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RuntimeException</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÊµãËØïÂºÇÂ∏∏ÔºÅ&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Áõ¥Êé•ËøêË°å<code>test2()</code>ÊñπÊ≥ïÔºåÊä•ÈîôÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code>Exception in thread &quot;main&quot; org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation &#39;mandatory&#39;
    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
    at com.sun.proxy.$Proxy29.test2(Unknown Source)
    at com.test.Main.main(Main.java:17)
</code></pre></div>
<p><code>NESTED</code>Á∫ßÂà´Ë°®Á§∫Â¶ÇÊûúÂ≠òÂú®Â§ñÂ±Ç‰∫ãÂä°ÔºåÂàôÊ≠§ÊñπÊ≥ïÂçïÁã¨ÂàõÂª∫‰∏Ä‰∏™Â≠ê‰∫ãÂä°ÔºåÂõûÊªöÂè™‰ºöÂΩ±ÂìçÂà∞Ê≠§Â≠ê‰∫ãÂä°ÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØÂà©Áî®ÂàõÂª∫SavepointÔºåÁÑ∂ÂêéÂõûÊªöÂà∞Ê≠§‰øùÂ≠òÁÇπÂÆûÁé∞ÁöÑ„ÄÇ<code>NEVER</code>Á∫ßÂà´Ë°®Á§∫Ê≠§ÊñπÊ≥ï‰∏çÂ∫îËØ•Âä†ÂÖ•Âà∞‰ªª‰Ωï‰∫ãÂä°‰∏≠ÔºåÂÖ∂‰ΩôÁ±ªÂûãÈÄÇÁî®‰∫éÂêåÊó∂Êìç‰ΩúÂ§öÊï∞ÊçÆÊ∫êÊÉÖÂÜµ‰∏ãÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁÆ°ÁêÜÔºåËøôÈáåÊöÇÊó∂‰∏çÂÅö‰ªãÁªç„ÄÇ</p>
<h3 id="junit">ÈõÜÊàêJUnitÊµãËØï<a class="headerlink" href="#junit" title="Permanent link">&para;</a></h3>
<p>Êó¢ÁÑ∂‰ΩøÁî®‰∫ÜSpringÔºåÈÇ£‰πàÊÄé‰πàÈõÜÊàêÂà∞JUnit‰∏≠ËøõË°åÊµãËØïÂë¢ÔºåÈ¶ñÂÖàÂ§ßÂÆ∂ËÉΩÂ§üÊÉ≥Âà∞ÁöÑËÇØÂÆöÊòØÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestMain</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">(){</span>
<span class="w">        </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">TestConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">TestService</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">TestService</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="n">service</span><span class="p">.</span><span class="na">test</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Áõ¥Êé•ÁºñÂÜô‰∏Ä‰∏™ÊµãËØïÁî®‰æãÂç≥ÂèØÔºå‰ΩÜÊòØËøôÊ†∑ÁöÑËØùÔºåÂ¶ÇÊûúÊàë‰ª¨ÊúâÂæàÂ§ö‰∏™ÊµãËØïÁî®‰æãÔºåÈÇ£‰πàÊàë‰ª¨‰∏çÂèØËÉΩÊØèÊ¨°ÊµãËØïÈÉΩÂéªÂàõÂª∫ApplicationContextÂêßÔºüÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®<code>@Before</code>Ê∑ªÂä†‰∏Ä‰∏™ÊµãËØïÂâçÂä®‰ΩúÊù•ÊèêÂâçÈÖçÁΩÆApplicationContextÔºå‰ΩÜÊòØËøôÊ†∑ÁöÑËØùÔºåËøòÊòØ‰∏çÂ§üÁÆÄ‰æøÔºåËÉΩ‰∏çËÉΩÊúâÊõ¥Âø´ÈÄüÈ´òÊïàÁöÑÊñπÊ≥ïÂë¢Ôºü</p>
<p>Spring‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™TestÊ®°ÂùóÔºåÂÆÉ‰ºöËá™Âä®ÈõÜÊàêJunitËøõË°åÊµãËØïÔºåÊàë‰ª¨ÂèØ‰ª•ÂØºÂÖ•‰∏Ä‰∏ã‰æùËµñÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.junit.jupiter<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>junit-jupiter<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>5.9.0<span class="nt">&lt;/version&gt;</span>
<span class="w">    </span><span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-test<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>6.0.10<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>ËøôÈáåÂØºÂÖ•ÁöÑÊòØJUnit5ÂíåSpringTestÊ®°Âùó‰æùËµñÔºåÁÑ∂ÂêéÁõ¥Êé•Âú®Êàë‰ª¨ÁöÑÊµãËØïÁ±ª‰∏äÊ∑ªÂä†‰∏§‰∏™Ê≥®Ëß£Â∞±ÂèØ‰ª•ÊêûÂÆöÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">SpringExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="nd">@ContextConfiguration</span><span class="p">(</span><span class="n">classes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestMain</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="n">TestService</span><span class="w"> </span><span class="n">service</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Test</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">(){</span>
<span class="w">        </span><span class="n">service</span><span class="p">.</span><span class="na">test</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><code>@ExtendWith</code>ÊòØÁî±JUnitÊèê‰æõÁöÑÊ≥®Ëß£ÔºåÁ≠âÂêå‰∫éÊóßÁâàÊú¨ÁöÑ<code>@RunWith</code>Ê≥®Ëß£ÔºåÁÑ∂Âêé‰ΩøÁî®SpringTestÊ®°ÂùóÊèê‰æõÁöÑ<code>@ContextConfiguration</code>Ê≥®Ëß£Êù•Ë°®Á§∫Ë¶ÅÂä†ËΩΩÂì™‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåÂèØ‰ª•ÊòØXMLÊñá‰ª∂‰πüÂèØ‰ª•ÊòØÁ±ªÔºåÊàë‰ª¨ËøôÈáåÂ∞±Áõ¥Êé•‰ΩøÁî®Á±ªËøõË°åÂä†ËΩΩ„ÄÇ</p>
<p>ÈÖçÁΩÆÂÆåÊàêÂêéÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®<code>@Autowired</code>Êù•ËøõË°å‰æùËµñÊ≥®ÂÖ•ÔºåÂπ∂‰∏îÁõ¥Êé•Âú®ÊµãËØïÊñπÊ≥ï‰∏≠‰ΩøÁî®Ê≥®ÂÖ•ÁöÑBeanÔºåÁé∞Âú®Â∞±ÈùûÂ∏∏Êñπ‰æø‰∫Ü„ÄÇ</p>
<p>Ëá≥Ê≠§ÔºåSSM‰∏≠ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™SÔºàSpringÔºâÂíå‰∏Ä‰∏™MÔºàMybatisÔºâÂ∞±Â∑≤ÁªèÂ≠¶ÂÆå‰∫ÜÔºåÊàë‰ª¨ËøòÂâ©‰∏ã‰∏Ä‰∏™SpringMvcÈúÄË¶ÅÂéªÂ≠¶‰π†Ôºå‰∏ã‰∏ÄÁ´†ÔºåÊàë‰ª¨Â∞ÜÈáçÊñ∞ÂõûÂà∞WebÂºÄÂèëÔºå‰∫ÜËß£Âú®SpringÊ°ÜÊû∂ÁöÑÂä†ÊåÅ‰∏ãÔºåÊàë‰ª¨Â¶Ç‰ΩïÊõ¥È´òÊïàÂú∞ÂºÄÂèëWebÂ∫îÁî®Á®ãÂ∫è„ÄÇ</p>
<hr />
<h2 id="_11">ÂÆûÁé∞ÂéüÁêÜÊé¢Á©∂ÔºàÈÄâÂ≠¶Ôºâ<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p><strong>Ê≥®ÊÑèÔºö</strong>Êú¨ÁâàÂùóÈöæÂ∫¶ÂæàÂ§ßÔºåÊâÄÊúâÂÜÖÂÆπÈÉΩ‰Ωú‰∏∫ÈÄâÂ≠¶ÂÜÖÂÆπ„ÄÇ</p>
<p>Â¶ÇÊûúÂ≠¶‰π†SpringÂü∫Êú¨ÂÜÖÂÆπÂØπ‰Ω†Êù•ËØ¥Â∑≤ÁªèÈùûÂ∏∏Âõ∞Èöæ‰∫ÜÔºåÂª∫ËÆÆË∑≥ËøáÊ≠§Â∞èËäÇÔºåÁõ¥Êé•ËøõÂÖ•MVCÈò∂ÊÆµÁöÑÂ≠¶‰π†ÔºåÊ≠§Â∞èËäÇ‰ºö‰ªéÊ∫êÁ†ÅËßíÂ∫¶Ëß£ÈáäSpringÁöÑÊï¥‰∏™ËøêË°åÂéüÁêÜÔºåÂØπÂàùÂ≠¶ËÄÖÊù•ËØ¥Á≠âÂêå‰∫éÂ∞èÂ≠¶Ë∑®Ë∂äÂà∞È´ò‰∏≠ÔºåÂÆÉÂπ∂‰∏çÊòØÂøÖÂ≠¶ÂÜÖÂÆπÔºå‰ΩÜÊòØÂØπ‰∫é‰∏™‰∫∫ÈòÖÂéÜÊèêÂçáÊûÅ‰∏∫ÈáçË¶ÅÔºàÊé®ËçêÂÆåÊàêÊï¥‰∏™SSMÈò∂ÊÆµÁöÑÂ≠¶‰π†Âπ∂‰∏îÂä†‰ª•ÂÆûÊàò‰πãÂêéÂÜçÊù•ÁúãÊ≠§ÈÉ®ÂàÜÔºâÔºåÂ¶ÇÊûú‰Ω†ËøòÊòØËßâÂæóËá™Â∑±ËÉΩÂ§üË∑ü‰∏äËäÇÂ•èÁªßÁª≠Ê∑±ÂÖ•ÈíªÁ†îÂ∫ïÂ±ÇÂéüÁêÜÔºåÈÇ£‰πàÁé∞Âú®Â∞±ÂºÄÂßãÂêß„ÄÇ</p>
<h3 id="beanbean">BeanÂ∑•ÂéÇ‰∏éBeanÂÆö‰πâ<a class="headerlink" href="#beanbean" title="Permanent link">&para;</a></h3>
<p>ÂÆûÈôÖ‰∏äÊàë‰ª¨‰πãÂâçÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩÁ¶ª‰∏çÂºÄ‰∏Ä‰∏™‰∏úË•øÔºåÈÇ£Â∞±ÊòØIoCÂÆπÂô®ÔºåÈÇ£‰πàÂÆÉÂà∞Â∫ïÊòØÂ¶Ç‰ΩïÂÆûÁé∞Âë¢ÔºüËøô‰∏ÄÈÉ®ÂàÜÊàë‰ª¨Â∞ÜËØ¶ÁªÜ‰ªãÁªçÔºåÈ¶ñÂÖàÊàë‰ª¨Â§ßËá¥‰∫ÜËß£‰∏Ä‰∏ãApplicationContextÁöÑÂä†ËΩΩÊµÅÁ®ãÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/Un6qjPci2uvkL5X.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217162656678" src="https://s2.loli.net/2022/12/17/Un6qjPci2uvkL5X.png" /></a></p>
<p>Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÔºåÊï¥‰∏™ËøáÁ®ãÊûÅ‰∏∫Â§çÊùÇÔºå‰∏ÄÂè•ËØùËÇØÂÆöÊòØÊó†Ê≥ïËß£ÈáäÁöÑ„ÄÇÁî±‰∫éSpringÁöÑÊ∫êÁ†ÅÈùûÂ∏∏Â∫ûÂ§ßÔºåÂõ†Ê≠§Êàë‰ª¨‰∏çÂèØËÉΩÂÜçÂÉè‰∫ÜËß£ÂÖ∂‰ªñÊ°ÜÊû∂ÈÇ£Ê†∑Áõ¥Êé•Ëá™Â∫ïÂêë‰∏äÈÄêË°åÂπ≤Ê∫êÁ†Å‰∫ÜÔºàÂêÑ‰ΩçÂèØ‰ª•Ëá™Â∑±ÁÇπÂºÄÁúãÁúãÔºå‰ª£Á†ÅÈáèÈùûÂ∏∏Â§öÔºâ</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/QXqvO1sGh6d4ZSz.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217162821241" src="https://s2.loli.net/2022/12/17/QXqvO1sGh6d4ZSz.png" /></a></p>
<p>Êàë‰ª¨Âè™ËÉΩÂØπÂá†‰∏™ÂÖ≥ÈîÆÈÉ®ÂàÜËøõË°å‰ªãÁªçÔºåÂú®‰∫ÜËß£Ëøô‰∫õÂÜÖÂÆπ‰πãÂêéÔºåÂÆûÈôÖ‰∏ä‰∏çÈúÄË¶ÅÂÆåÂÖ®ÈòÖËØªÊâÄÊúâÈÉ®ÂàÜÁöÑÊ∫êÁ†ÅÈÉΩÂèØ‰ª•Êúâ‰∏Ä‰∏™Â§ßËá¥ÁöÑËÆ§ËØÜ„ÄÇ</p>
<p>È¶ñÂÖàÔºåÂÆπÂô®Êó¢ÁÑ∂Ë¶ÅÁÆ°ÁêÜBeanÔºåÈÇ£‰πàËÇØÂÆöÈúÄË¶Å‰∏Ä‰∏™ÂÆåÂñÑÁöÑÁÆ°ÁêÜÊú∫Âà∂ÔºåÂÆûÈôÖ‰∏äÔºåÂØπBeanÁöÑÁÆ°ÁêÜÈÉΩÊòØ‰æùÈù†BeanFactoryÂú®ËøõË°åÔºåÈ°æÂêçÊÄù‰πâBeanFactoryÂ∞±ÊòØÂØπBeanËøõË°åÁîü‰∫ßÂíåÁÆ°ÁêÜÁöÑÂ∑•ÂéÇÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ùËØïËá™Â∑±ÂàõÂª∫Âíå‰ΩøÁî®BeanFactoryÂØπË±°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">BeanFactory</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultListableBeanFactory</span><span class="p">();</span><span class="w">  </span><span class="c1">//ËøôÊòØBeanFactoryÁöÑ‰∏Ä‰∏™ÈªòËÆ§ÂÆûÁé∞Á±ª</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Ëé∑ÂèñBeanÂØπË±°Ôºö&quot;</span><span class="o">+</span><span class="n">factory</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;lbwnb&quot;</span><span class="p">));</span><span class="w">  </span><span class="c1">//Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÊâæÂ∑•ÂéÇËé∑ÂèñBeanÂØπË±°</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÊâæBeanÂ∑•ÂéÇÁ¥¢Ë¶ÅÂØπË±°ÔºåÂè™‰∏çËøáÂú®‰∏ÄÂºÄÂßãÔºåÂ∑•ÂéÇÂπ∂‰∏çÁü•ÈÅìËá™Â∑±ÈúÄË¶ÅÁîü‰∫ß‰ªÄ‰πàÔºåÂèØ‰ª•Áîü‰∫ß‰ªÄ‰πàÔºåÂõ†Ê≠§Êàë‰ª¨Áõ¥Êé•Á¥¢Ë¶Å‰∏Ä‰∏™Â∑•ÂéÇ‰∏çÁü•ÈÅìÁöÑBeanÂØπË±°Ôºå‰ºöÁõ¥Êé•ÂæóÂà∞Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/02/14/n54N3iFQX7awHAl.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230214193208233" src="https://s2.loli.net/2023/02/14/n54N3iFQX7awHAl.png" /></a></p>
<p>Êàë‰ª¨Âè™ÊúâÂëäËØâÂ∑•ÂéÇÊàë‰ª¨Ë¶ÅÁîü‰∫ß‰ªÄ‰πàÔºåÊÄé‰πàÁîü‰∫ßÔºåÂ∑•ÂéÇÊâçËÉΩÂºÄÂ∑•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DefaultListableBeanFactory</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultListableBeanFactory</span><span class="p">();</span><span class="w">  </span><span class="c1">//ËøôÊòØBeanFactoryÁöÑ‰∏Ä‰∏™ÈªòËÆ§ÂÆûÁé∞Á±ª</span>

<span class="w">    </span><span class="n">BeanDefinition</span><span class="w"> </span><span class="n">definition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BeanDefinitionBuilder</span><span class="w">   </span><span class="c1">//‰ΩøÁî®BeanDefinitionBuilderÂø´ÈÄüÂàõÂª∫BeanÂÆö‰πâ</span>
<span class="w">            </span><span class="p">.</span><span class="na">rootBeanDefinition</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w">   </span><span class="c1">//BeanÁöÑÁ±ªÂûã</span>
<span class="w">            </span><span class="p">.</span><span class="na">setScope</span><span class="p">(</span><span class="s">&quot;prototype&quot;</span><span class="p">)</span><span class="w">    </span><span class="c1">//ËÆæÁΩÆ‰ΩúÁî®Âüü‰∏∫ÂéüÂûãÊ®°Âºè</span>
<span class="w">            </span><span class="p">.</span><span class="na">getBeanDefinition</span><span class="p">();</span><span class="w">     </span><span class="c1">//ÁîüÊàêÊ≠§BeanÂÆö‰πâ</span>
<span class="w">    </span><span class="n">factory</span><span class="p">.</span><span class="na">registerBeanDefinition</span><span class="p">(</span><span class="s">&quot;lbwnb&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">definition</span><span class="p">);</span><span class="w">   </span><span class="c1">//ÂêëÂ∑•ÂéÇÊ≥®ÂÜåBeanÊ≠§ÂÆö‰πâÔºåÂπ∂ËÆæÂÆöBeanÁöÑÂêçÁß∞</span>

<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">factory</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;lbwnb&quot;</span><span class="p">));</span><span class="w">  </span><span class="c1">//Áé∞Âú®Â∞±ÂèØ‰ª•ÊãøÂà∞‰∫Ü</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÔºåÊàë‰ª¨ÁöÑApplicationContext‰∏≠Â∞±Áª¥Êä§‰∫Ü‰∏Ä‰∏™AutowireCapableBeanFactoryÂØπË±°Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AbstractRefreshableApplicationContext</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractApplicationContext</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Nullable</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">volatile</span><span class="w"> </span><span class="n">DefaultListableBeanFactory</span><span class="w"> </span><span class="n">beanFactory</span><span class="p">;</span><span class="w">   </span><span class="c1">//ÈªòËÆ§ÊûÑÈÄ†ÂêéÂ≠òÊîæÂú®ËøôÈáåÁöÑÊòØ‰∏Ä‰∏™DefaultListableBeanFactoryÂØπË±°</span>

<span class="w">  </span><span class="p">...</span>

<span class="w">  </span><span class="nd">@Override</span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ConfigurableListableBeanFactory</span><span class="w"> </span><span class="nf">getBeanFactory</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//getBeanFactoryÂ∞±ÂèØ‰ª•Áõ¥Êé•ÂæóÂà∞‰∏äÈù¢ÁöÑÂØπË±°‰∫Ü</span>
<span class="w">     </span><span class="n">DefaultListableBeanFactory</span><span class="w"> </span><span class="n">beanFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">beanFactory</span><span class="p">;</span>
<span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">beanFactory</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">(</span><span class="s">&quot;BeanFactory not initialized or already closed - &quot;</span><span class="w"> </span><span class="o">+</span>
<span class="w">              </span><span class="s">&quot;call &#39;refresh&#39; before accessing beans via the ApplicationContext&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">beanFactory</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèØ‰ª•Â∞ùËØïËé∑Âèñ‰∏Ä‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;application.xml&quot;</span><span class="p">);</span>
<span class="c1">//Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Ëé∑ÂèñÊ≠§ÂØπË±°</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="na">getAutowireCapableBeanFactory</span><span class="p">());</span>
</code></pre></div>
<p>Ê≠£ÊòØÂõ†‰∏∫ËøôÊ†∑ÔºåApplicationContextÊâçÂÖ∑Êúâ‰∫ÜÁÆ°ÁêÜÂíåÁîü‰∫ßBeanÂØπË±°ÁöÑËÉΩÂäõ„ÄÇ</p>
<p>‰∏çËøáÔºåÊàë‰ª¨ÁöÑÈÖçÁΩÆÂèØËÉΩÊòØXML„ÄÅÂèØËÉΩÊòØÈÖçÁΩÆÁ±ªÔºåÈÇ£‰πàSpringË¶ÅÂ¶Ç‰ΩïËøõË°åËß£ÊûêÔºåÂ∞ÜËøô‰∫õÂèòÊàêÂØπÂ∫îÁöÑBeanDefinitionÂØπË±°Âë¢Ôºü‰ΩøÁî®BeanDefinitionReaderÂ∞±ÂèØ‰ª•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">DefaultListableBeanFactory</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultListableBeanFactory</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//ÊØîÂ¶ÇÊàë‰ª¨Ë¶ÅËØªÂèñXMLÈÖçÁΩÆÔºåÊàë‰ª¨Áõ¥Êé•‰ΩøÁî®XmlBeanDefinitionReaderÂ∞±ÂèØ‰ª•Âø´ÈÄüËøõË°åÊâ´Êèè</span>
<span class="w">    </span><span class="n">XmlBeanDefinitionReader</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">XmlBeanDefinitionReader</span><span class="p">(</span><span class="n">factory</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//Âä†ËΩΩÊ≠§XMLÊñá‰ª∂‰∏≠ÊâÄÊúâÁöÑBeanÂÆö‰πâÂà∞BeanÂ∑•ÂéÇ‰∏≠</span>
<span class="w">    </span><span class="n">reader</span><span class="p">.</span><span class="na">loadBeanDefinitions</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathResource</span><span class="p">(</span><span class="s">&quot;application.xml&quot;</span><span class="p">));</span>

<span class="w">    </span><span class="c1">//ÂèØ‰ª•ÁúãÂà∞ËÉΩÊ≠£Â∏∏Áîü‰∫ßÊ≠§BeanÁöÑÂÆû‰æãÂØπË±°</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">factory</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<p>Âõ†Ê≠§ÔºåÈíàÂØπ‰∫é‰∏çÂêåÁ±ªÂûãÁöÑÈÖçÁΩÆÊñπÂºèÔºåApplicationContextÊúâÁùÄÂ§öÁßçÂÆûÁé∞ÔºåÂÖ∂‰∏≠Â∏∏Áî®ÁöÑÊúâÔºö</p>
<ul>
<li>ClassPathXmlApplicationContextÔºöÈÄÇÁî®‰∫éÁ±ªË∑ØÂæÑ‰∏ãÁöÑXMLÈÖçÁΩÆÊñá‰ª∂„ÄÇ</li>
<li>FileSystemXmlApplicationContextÔºöÈÄÇÁî®‰∫éÈùûÁ±ªË∑ØÂæÑ‰∏ãÁöÑXMLÈÖçÁΩÆÊñá‰ª∂„ÄÇ</li>
<li>AnnotationConfigApplicationContextÔºöÈÄÇÁî®‰∫éÊ≥®Ëß£ÈÖçÁΩÆÂΩ¢Âºè„ÄÇ</li>
</ul>
<p>ÊØîÂ¶ÇClassPathXmlApplicationContextÂú®ÂàùÂßãÂåñÁöÑÊó∂ÂÄôÂ∞±‰ºöÂàõÂª∫‰∏Ä‰∏™ÂØπÂ∫îÁöÑXmlBeanDefinitionReaderËøõË°åÊâ´ÊèèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">loadBeanDefinitions</span><span class="p">(</span><span class="n">DefaultListableBeanFactory</span><span class="w"> </span><span class="n">beanFactory</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="c1">// ‰∏∫ÁªôÂÆöÁöÑBeanFactoryÂàõÂª∫XmlBeanDefinitionReader‰æø‰∫éËØªÂèñXML‰∏≠ÁöÑBeanÈÖçÁΩÆ</span>
<span class="w">   </span><span class="n">XmlBeanDefinitionReader</span><span class="w"> </span><span class="n">beanDefinitionReader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">XmlBeanDefinitionReader</span><span class="p">(</span><span class="n">beanFactory</span><span class="p">);</span>

<span class="w">   </span><span class="c1">// ÂêÑÁßçÈÖçÁΩÆÔºåÂøΩÁï•Êéâ</span>
<span class="w">   </span><span class="n">beanDefinitionReader</span><span class="p">.</span><span class="na">setEnvironment</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getEnvironment</span><span class="p">());</span>
<span class="w">   </span><span class="p">...</span>
<span class="w">   </span><span class="c1">// ÈÖçÁΩÆÂÆåÊàêÂêéÔºåÁõ¥Êé•ÂºÄÂßãÂä†ËΩΩXMLÊñá‰ª∂‰∏≠ÁöÑBeanÂÆö‰πâ</span>
<span class="w">   </span><span class="n">loadBeanDefinitions</span><span class="p">(</span><span class="n">beanDefinitionReader</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">loadBeanDefinitions</span><span class="p">(</span><span class="n">XmlBeanDefinitionReader</span><span class="w"> </span><span class="n">reader</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">Resource</span><span class="o">[]</span><span class="w"> </span><span class="n">configResources</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getConfigResources</span><span class="p">();</span><span class="w">   </span><span class="c1">//ÂÖ∑‰ΩìÂä†ËΩΩËøáÁ®ãÊàëÂ∞±‰∏çËØ¶ÁªÜ‰ªãÁªç‰∫Ü</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configResources</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">reader</span><span class="p">.</span><span class="na">loadBeanDefinitions</span><span class="p">(</span><span class="n">configResources</span><span class="p">);</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">configLocations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getConfigLocations</span><span class="p">();</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configLocations</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">reader</span><span class="p">.</span><span class="na">loadBeanDefinitions</span><span class="p">(</span><span class="n">configLocations</span><span class="p">);</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®ÔºåÊàë‰ª¨Â∞±Â∑≤ÁªèÁü•ÈÅìÔºåBeanÂÆûÈôÖ‰∏äÊòØ‰∏ÄÂºÄÂßãÈÄöËøáBeanDefinitionReaderËøõË°åÊâ´ÊèèÔºåÁÑ∂ÂêéÂ∞ÜÊâÄÊúâBean‰ª•BeanDefinitionÂØπË±°ÁöÑÂΩ¢ÂºèÊ≥®ÂÜåÂà∞ÂØπÂ∫îÁöÑBeanFactory‰∏≠ËøõË°åÈõÜ‰∏≠ÁÆ°ÁêÜÔºåËÄåÊàë‰ª¨‰ΩøÁî®ÁöÑApplicationContextÂÆûÈôÖ‰∏äÂÜÖÈÉ®Â∞±Êúâ‰∏Ä‰∏™BeanFactoryÂú®ËøõË°åBeanÁÆ°ÁêÜÔºåËøôÊ†∑ÂÆπÂô®ÊâçÊã•Êúâ‰∫ÜÊúÄÂü∫Êú¨ÁöÑBeanÁÆ°ÁêÜÂäüËÉΩ„ÄÇ</p>
<p>ÂΩìÁÑ∂ÔºåBeanFactoryËøòÂèØ‰ª•ÂÖ∑ÊúâÁà∂Â≠êÂÖ≥Á≥ªÔºåÂÖ∂‰∏≠ÊúÄÂÖ≥ÈîÆÁöÑ‰ΩúÁî®Â∞±ÊòØÁªßÊâøÁà∂ÂÆπÂô®‰∏≠ÊâÄÊúâÁöÑBeanÂÆö‰πâÔºåËøôÊ†∑ÁöÑËØùÔºåÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Ë¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑBeanFactoryÂπ∂‰∏îÈªòËÆ§ÂÖ∑ÊúâÂÖ∂‰ªñBeanFactory‰∏≠ÊâÄÊúâÁöÑBeanÂÆö‰πâÂ§ñÂä†‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ÈááÁî®ËøôÁßçÂΩ¢ÂºèÔºåËøôÊòØÂæàÊñπ‰æøÁöÑ„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•Êù•Â∞ùËØï‰∏Ä‰∏ãÔºåÂàõÂª∫‰∏§‰∏™Â∑•ÂéÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">DefaultListableBeanFactory</span><span class="w"> </span><span class="n">factoryParent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultListableBeanFactory</span><span class="p">();</span>
<span class="w">        </span><span class="n">DefaultListableBeanFactory</span><span class="w"> </span><span class="n">factoryChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultListableBeanFactory</span><span class="p">();</span>
<span class="w">        </span><span class="c1">//Âú®Áà∂Â∑•ÂéÇ‰∏≠Ê≥®ÂÜåA</span>
<span class="w">        </span><span class="n">factoryParent</span><span class="p">.</span><span class="na">registerBeanDefinition</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RootBeanDefinition</span><span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
<span class="w">        </span><span class="c1">//Âú®Â≠êÂ∑•ÂéÇ‰∏≠Ê≥®ÂÜåB„ÄÅC</span>
<span class="w">        </span><span class="n">factoryChild</span><span class="p">.</span><span class="na">registerBeanDefinition</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RootBeanDefinition</span><span class="p">(</span><span class="n">B</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
<span class="w">        </span><span class="n">factoryChild</span><span class="p">.</span><span class="na">registerBeanDefinition</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RootBeanDefinition</span><span class="p">(</span><span class="n">C</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
<span class="w">        </span><span class="c1">//ÊúÄÂêéËÆæÂÆöÂ≠êÂ∑•ÂéÇÁöÑÁà∂Â∑•ÂéÇ</span>
<span class="w">        </span><span class="n">factoryChild</span><span class="p">.</span><span class="na">setParentBeanFactory</span><span class="p">(</span><span class="n">factoryParent</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">A</span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">B</span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">C</span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨Êù•ÁúãÁúãÊòØ‰∏çÊòØÊàë‰ª¨ÊÉ≥ÁöÑÈÇ£Ê†∑Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">factoryChild</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="na">class</span><span class="p">));</span><span class="w">  </span><span class="c1">//Â≠êÂ∑•ÂéÇ‰∏ç‰ªÖËÉΩËé∑ÂèñÂà∞Ëá™Â∑±ÁöÑÔºå‰πüÂèØ‰ª•ÊãøÂà∞Áà∂Â∑•ÂéÇÁöÑ</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">factoryChild</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">B</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">factoryChild</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">C</span><span class="p">.</span><span class="na">class</span><span class="p">));</span>

<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">factoryParent</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">B</span><span class="p">.</span><span class="na">class</span><span class="p">));</span><span class="w">   </span><span class="c1">//Ê≥®ÊÑèÁà∂Â∑•ÂéÇ‰∏çËÉΩÊãøÂà∞Â≠êÂ∑•ÂéÇÁöÑÔºåÂ∞±ÂÉèÁ±ªÁöÑÁªßÊâø‰∏ÄÊ†∑</span>
</code></pre></div>
<p>ÂêåÊ†∑ÁöÑÔºåÊàë‰ª¨Âú®‰ΩøÁî®ApplicationContextÊó∂Ôºå‰πüÂèØ‰ª•ËÆæÂÆöËøôÊ†∑ÁöÑÁà∂Â≠êÂÖ≥Á≥ªÔºåÊïàÊûúÁõ∏ÂêåÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">contextParent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;parent.xml&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">contextChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="p">{</span><span class="s">&quot;child.xml&quot;</span><span class="p">},</span><span class="w"> </span><span class="n">contextParent</span><span class="p">);</span><span class="w">  </span><span class="c1">//Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Âè™ËÉΩÁî®Êï∞ÁªÑÔºåÂ•áÊÄ™</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂΩìÁÑ∂ÔºåÈô§‰∫ÜËøô‰∫õÂäüËÉΩ‰πãÂ§ñÔºåBeanFactoryËøòÊèê‰æõ‰∫ÜÂæàÂ§öÂÖ∂‰ªñÁöÑÁÆ°ÁêÜBeanÂÆö‰πâÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇÁßªÈô§BeanÂÆö‰πâ„ÄÅÊã∑Ë¥ùBeanÂÆö‰πâ„ÄÅÈîÄÊØÅÂçï‰æãBeanÂÆû‰æãÂØπË±°Á≠âÂäüËÉΩÔºåËøôÈáåÂ∞±‰∏ç‰∏Ä‰∏ÄÂàóÂá∫‰∫ÜÔºåÂêÑ‰ΩçÂ∞è‰ºô‰º¥Ëá™Â∑±Ë∞ÉÁî®‰∏Ä‰∏ãÊµãËØïÂ∞±ÂèØ‰ª•‰∫ÜÔºåÂæàÁÆÄÂçï„ÄÇ</p>
<h3 id="bean_2">Âçï‰æãBeanÁöÑÂàõÂª∫‰∏éÂæ™ÁéØ‰æùËµñ<a class="headerlink" href="#bean_2" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨ËÆ≤Ëß£‰∫ÜÈÖçÁΩÆÁöÑBeanÊòØÂ¶Ç‰ΩïË¢´ËØªÂèñÂπ∂Âä†ËΩΩÂà∞ÂÆπÂô®‰∏≠ÁöÑÔºåÊé•ÁùÄÊàë‰ª¨Êù•‰∫ÜËß£‰∏Ä‰∏ãBeanÂÆû‰æãÂØπË±°ÊòØÂ¶Ç‰ΩïË¢´ÂàõÂª∫Âπ∂ÂæóÂà∞ÁöÑÔºåÊàë‰ª¨Áü•ÈÅìÔºåÂ¶ÇÊûúË¶ÅÂæóÂà∞‰∏Ä‰∏™BeanÁöÑÂÆû‰æãÂæàÁÆÄÂçïÔºåÈÄöËøá<code>getBean</code>ÊñπÊ≥ïÂ∞±ÂèØ‰ª•Áõ¥Êé•ÊãøÂà∞‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathXmlApplicationContext</span><span class="p">(</span><span class="s">&quot;application.xml&quot;</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">));</span><span class="w">   </span><span class="c1">//ÈÄöËøáÊ≠§ÊñπÊ≥ïÂ∞±ËÉΩÂø´ÈÄüÂæóÂà∞</span>
</code></pre></div>
<p>ÈÇ£‰πàÔºå‰∏Ä‰∏™BeanÁöÑÂÆû‰æãÂØπË±°Âà∞Â∫ïÊòØÂ¶Ç‰ΩïÂàõÂª∫Âá∫Êù•ÁöÑÂë¢ÔºüÊàë‰ª¨ËøòË¶ÅÁªßÁª≠ÂØπÊàë‰ª¨‰πãÂâçËÆ≤Ëß£ÁöÑBeanFactoryËøõË°åÊ∑±ÂÖ•‰ªãÁªç„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÊâæÂà∞BeanFactoryÊé•Âè£ÁöÑ‰∏Ä‰∏™ÊäΩË±°ÂÆûÁé∞<code>AbstractBeanFactory</code>Á±ªÔºåÂÆÉÂÆûÁé∞‰∫Ü<code>getBean()</code>ÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getBean</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Â•óÂ®ÉÂºÄÂßã‰∫ÜÔºåÂÅöÂ•ΩÂáÜÂ§á</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">doGetBean</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">Class</span><span class="p">)</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">Object</span><span class="o">[]</span><span class="p">)</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÇ£‰πàÊàë‰ª¨<code>doGetBean()</code>Êé•ÁùÄÊù•ÁúãÊñπÊ≥ïÈáåÈù¢Âπ≤‰∫Ü‰ªÄ‰πàÔºåËøô‰∏™ÊñπÊ≥ïÊØîËæÉÈïøÔºåÊàë‰ª¨ÂàÜÊÆµËøõË°åËÆ≤Ëß£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">doGetBean</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">requiredType</span><span class="p">,</span><span class="w"> </span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">typeCheckOnly</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">transformedBeanName</span><span class="p">(</span><span class="n">name</span><span class="p">);</span><span class="w">   </span><span class="c1">//ËôΩÁÑ∂ËøôÈáåÁõ¥Êé•‰º†ÁöÑÂ∞±ÊòØnameÔºå‰ΩÜÊòØ‰∏á‰∏ÄÊòØÂà´ÂêçÂë¢ÔºåÊâÄ‰ª•ËøòÂæóË¶ÅËß£Êûê‰∏Ä‰∏ãÂèòÊàêÂéüÊú¨ÁöÑBeanÂêçÂ≠ó</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">sharedInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getSingleton</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span><span class="w">   </span><span class="c1">//È¶ñÂÖàÁõ¥Êé•Ëé∑ÂèñÂçï‰æãBeanÂØπË±°</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">beanInstance</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sharedInstance</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//Âà§Êñ≠ÊòØÂê¶ÊàêÂäüËé∑ÂèñÂà∞ÂÖ±‰∫´ÁöÑÂçï‰æãÂØπË±°</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>Âõ†‰∏∫ÊâÄÊúâÁöÑBeanÈªòËÆ§ÈÉΩÊòØÂçï‰æãÊ®°ÂºèÔºåÂØπË±°Âè™‰ºöÂ≠òÂú®‰∏Ä‰∏™ÔºåÂõ†Ê≠§ÂÆÉ‰ºöÂÖàË∞ÉÁî®Áà∂Á±ªÁöÑ<code>getSingleton()</code>ÊñπÊ≥ïÊù•Áõ¥Êé•Ëé∑ÂèñÂçï‰æãÂØπË±°ÔºåÂ¶ÇÊûúÊúâÁöÑËØùÔºåÂ∞±ÂèØ‰ª•Áõ¥Êé•ÊãøÂà∞BeanÁöÑÂÆû‰æã„ÄÇÂ¶ÇÊûúBean‰∏çÊòØÂçï‰æãÊ®°ÂºèÔºåÈÇ£‰πà‰ºöËøõÂÖ•else‰ª£Á†ÅÂùó„ÄÇËøô‰∏ÄÈÉ®ÂàÜÊàë‰ª¨ÂÖàÊù•ÁúãÂçï‰æãÊ®°Âºè‰∏ãÁöÑÂ§ÑÁêÜÔºåÂÖ∂ÂÆûÈÄªËæëÈùûÂ∏∏ÁÆÄÂçïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">doGetBean</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">requiredType</span><span class="p">,</span><span class="w"> </span><span class="nd">@Nullable</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">typeCheckOnly</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sharedInstance</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">isTraceEnabled</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">//ËøôÈáå‰ºöÂà§Êñ≠BeanÊòØÂê¶‰∏∫Ê≠£Âú®ÂàõÂª∫Áä∂ÊÄÅÔºå‰∏∫‰ªÄ‰πà‰ºöÊúâËøôÁßçÁä∂ÊÄÅÂë¢ÔºüÊàë‰ª¨‰ºöÂú®ÂêéÈù¢ËøõË°å‰ªãÁªç</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">isSingletonCurrentlyInCreation</span><span class="p">(</span><span class="n">beanName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="s">&quot;Returning eagerly cached instance of singleton bean &#39;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">beanName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&#39; that is not fully initialized yet - a consequence of a circular reference&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">this</span><span class="p">.</span><span class="na">logger</span><span class="p">.</span><span class="na">trace</span><span class="p">(</span><span class="s">&quot;Returning cached instance of singleton bean &#39;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">beanName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&#39;&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">                </span><span class="c1">//ËøôÈáågetObjectForBeanInstance‰ºöËøõË°åÊúÄÁªàÂ§ÑÁêÜ</span>
<span class="w">        </span><span class="c1">//Âõ†‰∏∫BeanÊúâ‰∏§‰∏™ÁâπÊÆäÁöÑÁ±ªÂûãÔºåÂ∑•ÂéÇBenaÂíåÁ©∫BeanÔºåÊâÄ‰ª•ËØ¥ÈúÄË¶ÅÂçïÁã¨Â§ÑÁêÜ</span>
<span class="w">        </span><span class="c1">//Â¶ÇÊûúÊòØÊôÆÈÄöBeanÁõ¥Êé•ÂéüÊ†∑ËøîÂõûbeanInstanceÊé•Êî∂Âà∞ÊúÄÁªàÁªìÊûú</span>
<span class="w">        </span><span class="n">beanInstance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getObjectForBeanInstance</span><span class="p">(</span><span class="n">sharedInstance</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">beanName</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">RootBeanDefinition</span><span class="p">)</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">//ÊúÄÂêéËøò‰ºöËøõË°å‰∏ÄÊ¨°Á±ªÂûãÂà§Êñ≠ÔºåÂ¶ÇÊûúÈÉΩÊ≤°ÈóÆÈ¢òÔºåÁõ¥Êé•ËøîÂõûbeanInstance‰Ωú‰∏∫ÁªìÊûúÔºåÊàë‰ª¨Â∞±ÂæóÂà∞BeanÁöÑÂÆû‰æãÂØπË±°‰∫Ü</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">adaptBeanInstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">beanInstance</span><span class="p">,</span><span class="w"> </span><span class="n">requiredType</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äÊï¥‰∏™Âçï‰æãBeanÁöÑÂàõÂª∫Ë∑ØÁ∫øËøòÊòØÂæàÊ∏ÖÊô∞ÁöÑÔºåÂπ∂Ê≤°Êúâ‰ªÄ‰πàÂæàÈöæÁêÜËß£ÁöÑÂú∞ÊñπÔºåÂú®Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÂÖ∂ÂÆûÂ∞±ÊòØÁÆÄÂçïÁöÑÂàõÂª∫ÂØπË±°ÂÆû‰æãÂπ∂ËøîÂõûÂç≥ÂèØ„ÄÇ</p>
<p>ÂÖ∂‰∏≠ÊúÄÂÖ≥ÈîÆÁöÑÊòØÂÆÉÂØπ‰∫éÂæ™ÁéØ‰æùËµñÁöÑÂ§ÑÁêÜ„ÄÇÊàë‰ª¨ÂèëÁé∞ÔºåÂú®‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåÂæóÂà∞Âçï‰æãÂØπË±°ÂêéÔºå‰ºöÊúâ‰∏Ä‰∏™ÂæàÁâπÊÆäÁöÑÂà§Êñ≠<code>isSingletonCurrentlyInCreation</code>ÔºåËøô‰∏™ÊòØÂπ≤ÂòõÁöÑÔºüÂØπË±°‰∏çÂ∫îËØ•Áõ¥Êé•ÂàõÂª∫Âá∫Êù•ÂêóÔºü‰∏∫‰ªÄ‰πà‰ºöÊúâËøôÁßçÊ≠£Âú®ÂàõÂª∫ÁöÑÁä∂ÊÄÅÂë¢ÔºüÊàë‰ª¨Êù•Êé¢Á©∂‰∏Ä‰∏ã„ÄÇ</p>
<p>ÂºÄÂßã‰πãÂâçÂÖàÁªôÂ§ßÂÆ∂Êèê‰∏™ÈóÆÈ¢òÔºö</p>
<blockquote>
<p>Áé∞Âú®Êúâ‰∏§‰∏™BeanÔºåAÂíåBÈÉΩÊòØ‰ª•ÂéüÂûãÊ®°ÂºèËøõË°åÂàõÂª∫ÔºåËÄåA‰∏≠ÈúÄË¶ÅÊ≥®ÂÖ•BÔºåB‰∏≠ÈúÄË¶ÅÊ≥®ÂÖ•AÔºåËøôÊó∂Â∞±‰ºöÂá∫Áé∞AËøòÊú™ÂàõÂª∫ÂÆåÊàêÔºåÂ∞±ÈúÄË¶ÅBÔºåËÄåBËøôÊó∂‰πüÊ≤°ÂàõÂª∫ÂÆåÊàêÔºåÂõ†‰∏∫BÈúÄË¶ÅAÔºåËÄåAÁ≠âÁùÄBÔºåBÂèàÁ≠âÁùÄAÔºåËøôÊ†∑Â∞±Âè™ËÉΩÊó†ÈôêÂæ™ÁéØ‰∏ãÂéª‰∫ÜÔºàÂ∞±ÂÉèÊ≠ªÈîÅÈÇ£ÁßçÊÑüËßâÔºâÊâÄ‰ª•Â∞±Âá∫Áé∞‰∫ÜÂæ™ÁéØ‰æùËµñÁöÑÈóÆÈ¢òÔºàÂêåÁêÜÔºå‰∏Ä‰∏™ÂØπË±°Ê≥®ÂÖ•Ëá™Â∑±ÔºåËøòÊúâ‰∏â‰∏™ÂØπË±°‰πãÈó¥ÔºåÁîöËá≥Â§ö‰∏™ÂØπË±°‰πãÈó¥‰πü‰ºöÂá∫Áé∞ËøôÁßçÊÉÖÂÜµÔºâ</p>
</blockquote>
<p>‰ΩÜÊòØÔºåÂú®Âçï‰æãÊ®°Âºè‰∏ãÔºåÁî±‰∫éÊØè‰∏™BeanÂè™‰ºöÂàõÂª∫‰∏Ä‰∏™ÂÆû‰æãÔºåÂè™Ë¶ÅËÉΩÂ§üÂ§ÑÁêÜÂ•ΩÂØπË±°‰πãÈó¥ÁöÑÂºïÁî®ÂÖ≥Á≥ªÔºåSpringÂÆåÂÖ®ÊúâÊú∫‰ºöËß£ÂÜ≥Âçï‰æãÂØπË±°Âæ™ÁéØ‰æùËµñÁöÑÈóÆÈ¢ò„ÄÇÈÇ£‰πàÂçï‰æãÊ®°Âºè‰∏ãÊòØÂ¶Ç‰ΩïËß£ÂÜ≥Âæ™ÁéØ‰æùËµñÈóÆÈ¢òÁöÑÂë¢Ôºü</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/17/aRjr1968Lc3BkKH.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221217170912302" src="https://s2.loli.net/2022/12/17/aRjr1968Lc3BkKH.png" /></a></p>
<p>Êàë‰ª¨ÂõûÂà∞‰∏ÄÂºÄÂßãÁöÑ<code>getSingleton()</code>ÊñπÊ≥ï‰∏≠ÔºåÁ†îÁ©∂‰∏Ä‰∏ãÂÆÉÂà∞Â∫ïÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÂæ™ÁéØ‰æùËµñÁöÑÔºåÂÆÉÊòØÂèØ‰ª•Ëá™Âä®Ëß£ÂÜ≥Âæ™ÁéØ‰æùËµñÈóÆÈ¢òÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Nullable</span>
<span class="kd">protected</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getSingleton</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">allowEarlyReference</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">singletonObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">singletonObjects</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÂÖà‰ªéÁ¨¨‰∏ÄÂ±ÇÂàóË°®‰∏≠ÊãøBeanÂÆû‰æãÔºåÊãøÂà∞Áõ¥Êé•ËøîÂõû</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">singletonObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">isSingletonCurrentlyInCreation</span><span class="p">(</span><span class="n">beanName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Â¶ÇÊûúÁ¨¨‰∏ÄÂ±ÇÊãø‰∏çÂà∞ÔºåÂπ∂‰∏îÂ∑≤ÁªèËÆ§ÂÆö‰∏∫Â§Ñ‰∫éÂæ™ÁéØÁä∂ÊÄÅÔºåÁúãÁúãÁ¨¨‰∫åÂ±ÇÊúâÊ≤°Êúâ</span>
<span class="w">        </span><span class="n">singletonObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">earlySingletonObjects</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">        </span><span class="c1">//Ë¶ÅÊòØËøòÊòØÊ≤°ÊúâÔºåÁªßÁª≠ÂæÄ‰∏ã</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">singletonObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">allowEarlyReference</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">synchronized</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">singletonObjects</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">//Âä†ÈîÅÂÜçÊâßË°å‰∏ÄÊ¨°‰∏äËø∞ÊµÅÁ®ã</span>
<span class="w">                </span><span class="n">singletonObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">singletonObjects</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">singletonObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">singletonObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">earlySingletonObjects</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">singletonObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="c1">//‰ªçÁÑ∂Ê≤°ÊúâËé∑ÂèñÂà∞ÂÆû‰æãÔºåÂè™ËÉΩ‰ªésingletonFactory‰∏≠Ëé∑Âèñ‰∫Ü</span>
<span class="w">                        </span><span class="n">ObjectFactory</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">singletonFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ObjectFactory</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="na">singletonFactories</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">singletonFactory</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">singletonObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">singletonFactory</span><span class="p">.</span><span class="na">getObject</span><span class="p">();</span>
<span class="w">                            </span><span class="c1">//‰∏¢ËøõearlySingletonObjects‰∏≠Ôºå‰∏ãÊ¨°Â∞±ÂèØ‰ª•Áõ¥Êé•Âú®Á¨¨‰∫åÂ±ÇÊãøÂà∞‰∫Ü</span>
<span class="w">                            </span><span class="k">this</span><span class="p">.</span><span class="na">earlySingletonObjects</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">beanName</span><span class="p">,</span><span class="w"> </span><span class="n">singletonObject</span><span class="p">);</span>
<span class="w">                            </span><span class="k">this</span><span class="p">.</span><span class="na">singletonFactories</span><span class="p">.</span><span class="na">remove</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">singletonObject</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÁúãËµ∑Êù•ÂæàÂ§çÊùÇÔºåÂÆûÈôÖ‰∏äÂÆÉ‰ΩøÁî®‰∫Ü‰∏âÁ∫ßÁºìÂ≠òÁöÑÊñπÂºèÊù•Â§ÑÁêÜÂæ™ÁéØ‰æùËµñÁöÑÈóÆÈ¢òÔºåÂåÖÊã¨Ôºö</p>
<ul>
<li>singletonObjectsÔºåÁî®‰∫é‰øùÂ≠òÂÆû‰æãÂåñ„ÄÅÊ≥®ÂÖ•„ÄÅÂàùÂßãÂåñÂÆåÊàêÁöÑ bean ÂÆû‰æã</li>
<li>earlySingletonObjectsÔºåÁî®‰∫é‰øùÂ≠òÂÆû‰æãÂåñÂÆåÊàêÁöÑ bean ÂÆû‰æã</li>
<li>singletonFactoriesÔºåÂú®ÂàùÂßãÂàõÂª∫BeanÂØπË±°Êó∂ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™ÂØπÂ∫îÁöÑÂçï‰æãÂ∑•ÂéÇÁî®‰∫éËé∑ÂèñÊó©ÊúüÂØπË±°</li>
</ul>
<p>Êàë‰ª¨ÂÖàÊù•Áîª‰∏Ä‰∏™ÊµÅÁ®ãÂõæÁêÜÊ∏ÖÊï¥‰∏™ËøáÁ®ãÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2022/12/18/xFfUuaozLpiVg96.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20221218150012610" src="https://s2.loli.net/2022/12/18/xFfUuaozLpiVg96.png" /></a></p>
<p>Êàë‰ª¨Âú®‰∫ÜËß£Ëøô‰∏™ÊµÅÁ®ã‰πãÂâçÔºå‰∏ÄÂÆöË¶ÅÂÖàÊòéÁ°ÆÔºåÂçï‰æãBeanÂØπË±°ÁöÑËé∑ÂèñÔºå‰ºöÊúâÂì™‰∫õÁªìÊûúÔºåÈ¶ñÂÖàÂ∞±ÊòØÂ¶ÇÊûúÊàë‰ª¨Ëé∑ÂèñÁöÑBeanÂéãÊ†πÂ∞±Ê≤°Âú®Â∑•ÂéÇ‰∏≠Ê≥®ÂÜåÔºåÈÇ£ÂæóÂà∞ÁöÑÁªìÊûúËÇØÂÆöÊòØnullÔºõÂÖ∂Ê¨°ÔºåÂ¶ÇÊûúÊàë‰ª¨Ëé∑ÂèñÁöÑBeanÂ∑≤ÁªèÊ≥®ÂÜå‰∫ÜÔºåÈÇ£‰πàËÇØÂÆöÂ∞±ÂèØ‰ª•ÂæóÂà∞Ëøô‰∏™Âçï‰æãÂØπË±°ÔºåÂè™ÊòØ‰∏çÊ∏ÖÊ•öÂàõÂª∫Âà∞Âì™‰∏Ä‰∏™Èò∂ÊÆµ‰∫Ü„ÄÇ</p>
<p>Áé∞Âú®Êàë‰ª¨Ê†πÊçÆ‰∏äÈù¢ÁöÑÊµÅÁ®ãÂõæÔºåÊù•Ê®°Êãü‰∏Ä‰∏ãAÂíåBÂæ™ÁéØ‰æùËµñÁöÑÊÉÖÂÜµÔºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/02/14/ezkOUv8Wjrb2tVF.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230214222056632" src="https://s2.loli.net/2023/02/14/ezkOUv8Wjrb2tVF.png" /></a></p>
<p>ÊúâÁöÑÂ∞è‰ºô‰º¥Â∞±‰ºöÊúâÁñëÈóÆ‰∫ÜÔºåÁúãËµ∑Êù•‰ºº‰πé‰∏§Á∫ßÁºìÂ≠ò‰πüÂèØ‰ª•Ëß£ÂÜ≥ÈóÆÈ¢òÂïäÔºåÂπ≤ÂòõÊêû‰∏âÂ±ÇËÄå‰∏îËøòÊêû‰∏™ÂØπË±°Â∑•ÂéÇÔºüËøô‰∏çÊòØÂ§öÊ≠§‰∏Ä‰∏æÂêóÔºüÂÆûÈôÖ‰∏äËøôÊòØ‰∏∫‰∫ÜÊª°Ë∂≥BeanÁöÑÁîüÂëΩÂë®ÊúüËÄåÂÅöÁöÑÔºåÈÄöËøáÂ∑•ÂéÇËé∑ÂèñÊó©ÊúüÂØπË±°‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getEarlyBeanReference</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="p">,</span><span class="w"> </span><span class="n">RootBeanDefinition</span><span class="w"> </span><span class="n">mbd</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">bean</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="n">exposedObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bean</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//ËøôÈáåÂæàÂÖ≥ÈîÆÔºå‰ºöÂØπ‰∏Ä‰∫õÁâπÂà´ÁöÑBeanPostProcessorËøõË°åÂ§ÑÁêÜÔºåÊØîÂ¶ÇAOP‰ª£ÁêÜÁõ∏ÂÖ≥ÁöÑÔºåÂ¶ÇÊûúËøô‰∏™BeanÊòØË¢´AOP‰ª£ÁêÜÁöÑÔºåÊàë‰ª¨ÈúÄË¶ÅÂæóÂà∞ÁöÑÊòØ‰∏Ä‰∏™ÁªèËøáAOP‰ª£ÁêÜÁöÑÂØπË±°ÔºåËÄå‰∏çÊòØÁõ¥Êé•ÂàõÂª∫Âá∫Êù•ÁöÑÂØπË±°ÔºåËøô‰∏™ËøáÁ®ãÈúÄË¶ÅBeanPostProcessorÊù•ÂÆåÊàêÔºàAOP‰∫ßÁîü‰ª£ÁêÜÂØπË±°ÁöÑÈÄªËæëÊòØÂú®Â±ûÊÄßÂ°´ÂÖÖ‰πãÂêéÔºåÂõ†Ê≠§Âè™ËÉΩÂÜçÂä†‰∏ÄÁ∫ßËøõË°åÁºìÂÜ≤Ôºâ</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">mbd</span><span class="p">.</span><span class="na">isSynthetic</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">hasInstantiationAwareBeanPostProcessors</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">SmartInstantiationAwareBeanPostProcessor</span><span class="w"> </span><span class="n">bp</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">getBeanPostProcessorCache</span><span class="p">().</span><span class="na">smartInstantiationAware</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">exposedObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bp</span><span class="p">.</span><span class="na">getEarlyBeanReference</span><span class="p">(</span><span class="n">exposedObject</span><span class="p">,</span><span class="w"> </span><span class="n">beanName</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">exposedObject</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨‰ºöÂú®ÂêéÈù¢ÁöÑÈÉ®ÂàÜ‰∏≠ËØ¶ÁªÜ‰ªãÁªçBeanPostProcessor‰ª•ÂèäAOPÁöÑÂÆûÁé∞ÂéüÁêÜÔºåÂ±äÊó∂ÂêÑ‰ΩçÂÜçÂõûÊù•ÁúãÂ∞±‰ºöÊòéÁôΩ‰∫Ü„ÄÇ</p>
<h3 id="aop_4">ÂêéÁΩÆÂ§ÑÁêÜÂô®‰∏éAOP<a class="headerlink" href="#aop_4" title="Permanent link">&para;</a></h3>
<p>Êé•ÁùÄÊàë‰ª¨Êù•‰ªãÁªç‰∏Ä‰∏ã<code>PostProcessor</code>ÔºåÂÆÉÂÖ∂ÂÆûÊòØSpringÊèê‰æõÁöÑ‰∏ÄÁßçÂêéÁΩÆÂ§ÑÁêÜÊú∫Âà∂ÔºåÂÆÉÂèØ‰ª•ËÆ©Êàë‰ª¨ËÉΩÂ§üÊèíÊâãBean„ÄÅBeanFactory„ÄÅBeanDefinitionÁöÑÂàõÂª∫ËøáÁ®ãÔºåÁõ∏ÂΩì‰∫éËøõË°å‰∏Ä‰∏™ÊúÄÁªàÁöÑÂ§ÑÁêÜÔºåËÄåÊúÄÂêéÂæóÂà∞ÁöÑÁªìÊûúÔºàÊØîÂ¶ÇBeanÂÆû‰æã„ÄÅBeanÂÆö‰πâÁ≠âÔºâÂ∞±ÊòØÁªèËøáÂêéÁΩÆÂ§ÑÁêÜÂô®ËøîÂõûÁöÑÁªìÊûúÔºåÂÆÉÊòØÊï¥‰∏™Âä†ËΩΩËøáÁ®ãÁöÑÊúÄÂêé‰∏ÄÊ≠•„ÄÇ</p>
<p>ËÄåAOPÊú∫Âà∂Ê≠£ÊòØÈÄöËøáÂÆÉÊù•ÂÆûÁé∞ÁöÑÔºåÊàë‰ª¨È¶ñÂÖàÊù•ËÆ§ËØÜ‰∏Ä‰∏ãÁ¨¨‰∏Ä‰∏™Êé•Âè£<code>BeanPostProcessor</code>ÔºåÂÆÉÁõ∏ÂΩì‰∫éBeanÂàùÂßãÂåñÁöÑ‰∏Ä‰∏™ÂêéÁΩÆÂä®‰ΩúÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÂÆûÁé∞Ê≠§Êé•Âè£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="c1">//Ê≥®ÊÑèÂÆÉÂêéÁΩÆÂ§ÑÁêÜÂô®‰πüË¶ÅËøõË°åÊ≥®ÂÜå</span>
<span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestBeanProcessor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">BeanPostProcessor</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">postProcessAfterInitialization</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">bean</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span><span class="w">  </span><span class="c1">//ÊâìÂç∞beanÁöÑÂêçÁß∞</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bean</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">postProcessBeforeInitialization</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">bean</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">BeanPostProcessor</span><span class="p">.</span><span class="na">super</span><span class="p">.</span><span class="na">postProcessBeforeInitialization</span><span class="p">(</span><span class="n">bean</span><span class="p">,</span><span class="w"> </span><span class="n">beanName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÊ≠§Êé•Âè£‰∏≠ÂåÖÊã¨‰∏§‰∏™ÊñπÊ≥ïÔºå‰∏Ä‰∏™ÊòØ<code>postProcessAfterInitialization</code>Áî®‰∫éÂú®BeanÂàùÂßãÂåñ‰πãÂêéËøõË°åÂ§ÑÁêÜÔºåËøòÊúâ‰∏Ä‰∏™<code>postProcessBeforeInitialization</code>Áî®‰∫éÂú®BeanÂàùÂßãÂåñ‰πãÂâçËøõË°åÂ§ÑÁêÜÔºåÊ≥®ÊÑèËøôÈáåÁöÑÂàùÂßãÂåñ‰∏çÊòØÂàõÂª∫ÂØπË±°ÔºåËÄåÊòØË∞ÉÁî®Á±ªÁöÑÂàùÂßãÂåñÊñπÊ≥ïÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestBeanProcessor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">BeanPostProcessor</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">postProcessAfterInitialization</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">bean</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰πãÂêéÔºö&quot;</span><span class="o">+</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bean</span><span class="p">;</span><span class="w">   </span><span class="c1">//ËøôÈáåËøîÂõûÁöÑBeanÁõ∏ÂΩì‰∫éÊúÄÁªàÁöÑÁªìÊûú‰∫ÜÔºåÊàë‰ª¨‰æùÁÑ∂ËÉΩÂ§üÊèíÊâã‰øÆÊîπÔºåËøôÈáåËøîÂõû‰πãÂêéÊòØ‰ªÄ‰πàÂ∞±ÊòØ‰ªÄ‰πà‰∫Ü</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">postProcessBeforeInitialization</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">bean</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰πãÂâçÔºö&quot;</span><span class="o">+</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">bean</span><span class="p">;</span><span class="w">   </span><span class="c1">//ËøôÈáåËøîÂõûÁöÑBean‰ºö‰∫§Áªô‰∏ã‰∏Ä‰∏™Èò∂ÊÆµÔºå‰πüÂ∞±ÊòØÂàùÂßãÂåñÊñπÊ≥ï</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestServiceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">TestService</span><span class="p">{</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">TestServiceImpl</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÊûÑÈÄ†ÊñπÊ≥ï&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@PostConstruct</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØÂàùÂßãÂåñÊñπÊ≥ï&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">TestMapper</span><span class="w"> </span><span class="n">mapper</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Autowired</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setMapper</span><span class="p">(</span><span class="n">TestMapper</span><span class="w"> </span><span class="n">mapper</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØ‰æùËµñÊ≥®ÂÖ•&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">mapper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapper</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>ËÄåTestServiceImplÁöÑÂä†ËΩΩÈ°∫Â∫è‰∏∫Ôºö</p>
<div class="highlight"><pre><span></span><code>ÊàëÊòØÊûÑÈÄ†ÊñπÊ≥ï
ÊàëÊòØ‰æùËµñÊ≥®ÂÖ•
ÊàëÊòØ‰πãÂâçÔºötestServiceImpl
ÊàëÊòØÂàùÂßãÂåñÊñπÊ≥ï
ÊàëÊòØ‰πãÂêéÔºötestServiceImpl
</code></pre></div>
<p>Áé∞Âú®Êàë‰ª¨ÂÜçÊù•ÊÄªÁªì‰∏Ä‰∏ã‰∏Ä‰∏™BeanÁöÑÂä†ËΩΩÊµÅÁ®ãÔºö</p>
<p>[BeanÂÆö‰πâ]È¶ñÂÖàÊâ´ÊèèBeanÔºåÂä†ËΩΩBeanÂÆö‰πâ -&gt; [‰æùËµñÊ≥®ÂÖ•]Ê†πÊçÆBeanÂÆö‰πâÈÄöËøáÂèçÂ∞ÑÂàõÂª∫BeanÂÆû‰æã -&gt; [‰æùËµñÊ≥®ÂÖ•]ËøõË°å‰æùËµñÊ≥®ÂÖ•ÔºàÈ°∫‰æøËß£ÂÜ≥Âæ™ÁéØ‰æùËµñÈóÆÈ¢òÔºâ-&gt; [ÂàùÂßãÂåñBean]BeanPostProcessorÁöÑÂàùÂßãÂåñ‰πãÂâçÊñπÊ≥ï -&gt; [ÂàùÂßãÂåñBean]BeanÂàùÂßãÂåñÊñπÊ≥ï -&gt; [ÂàùÂßãÂåñBean]BeanPostProcessorÁöÑÂàùÂßãÂåñ‰πãÂêéÊñπÊ≥ï -&gt; [ÂÆåÊàê]ÊúÄÁªàÂæóÂà∞ÁöÑBeanÂä†ËΩΩÂÆåÊàêÁöÑÂÆû‰æã</p>
<p>Âà©Áî®ËøôÁßçÊú∫Âà∂ÔºåÁêÜËß£AopÁöÑÂÆûÁé∞ËøáÁ®ãÂ∞±ÈùûÂ∏∏ÁÆÄÂçï‰∫ÜÔºåAOPÂÆûÈôÖ‰∏ä‰πüÊòØÈÄöËøáËøôÁßçÊú∫Âà∂ÂÆûÁé∞ÁöÑÔºåÂÆÉÁöÑÂÆûÁé∞Á±ªÊòØ<code>AnnotationAwareAspectJAutoProxyCreator</code>ÔºåËÄåÂÆÉÂ∞±ÊòØÂú®ÊúÄÂêéÂØπBeanËøõË°å‰∫Ü‰ª£ÁêÜÔºåÂõ†Ê≠§ÊúÄÂêéÊàë‰ª¨ÂæóÂà∞ÁöÑÁªìÊûúÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™Âä®ÊÄÅ‰ª£ÁêÜÁöÑÂØπË±°ÔºàÊúâÂÖ≥ËØ¶ÁªÜÂÆûÁé∞ËøáÁ®ãÔºåËøôÈáåÂ∞±‰∏çËøõË°åÂàó‰∏æ‰∫ÜÔºåÊÑüÂÖ¥Ë∂£ÁöÑÂèØ‰ª•ÁªßÁª≠Ê∑±ÂÖ•ÔºâÂõ†Ê≠§ÔºåÂÆûÈôÖ‰∏ä‰πãÂâçËÆæËÆ°ÁöÑ‰∏âÂ±ÇÁºìÂ≠òÔºåÈÉΩÊòØÁî±‰∫éÈúÄË¶ÅÂ§ÑÁêÜAOPËÆæËÆ°ÁöÑÔºåÂõ†‰∏∫Âú®BeanÂàõÂª∫ÂæóÂà∞ÊúÄÁªàÂØπË±°‰πãÂâçÔºåÂæàÊúâÂèØËÉΩ‰ºöË¢´PostProcessorÁªôÂÅ∑Ê¢ÅÊç¢Êü±ÔºÅ</p>
<p>ÈÇ£‰πàËÇØÂÆöÊúâ‰∫∫ÊúâÁñëÈóÆ‰∫ÜÔºåËøô‰∏™Á±ªÊ≤°ÊúâË¢´Ê≥®ÂÜåÂïäÔºåÈÇ£ÊåâÁêÜËØ¥ÂÆÉ‰∏çÂ∫îËØ•ÂèÇ‰∏éÂà∞BeanÁöÑÂàùÂßãÂåñÊµÅÁ®ã‰∏≠ÁöÑÔºå‰∏∫‰ªÄ‰πàÂÆÉÁõ¥Êé•Â∞±Ë¢´Âä†ËΩΩ‰∫ÜÂë¢Ôºü</p>
<p>ËøòËÆ∞Âæó<code>@EnableAspectJAutoProxy</code>ÂêóÔºüÊàë‰ª¨Êù•ÁúãÁúãÂÆÉÊòØÂ¶Ç‰ΩïÂÆö‰πâÂ∞±Áü•ÈÅì‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Target</span><span class="p">({</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">})</span>
<span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="nd">@Documented</span>
<span class="nd">@Import</span><span class="p">({</span><span class="n">AspectJAutoProxyRegistrar</span><span class="p">.</span><span class="na">class</span><span class="p">})</span>
<span class="kd">public</span><span class="w"> </span><span class="nd">@interface</span><span class="w"> </span><span class="n">EnableAspectJAutoProxy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">proxyTargetClass</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">exposeProxy</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÂÆÉ‰ΩøÁî®‰∫Ü<code>@Import</code>Êù•Ê≥®ÂÜå<code>AspectJAutoProxyRegistrar</code>ÔºåÈÇ£‰πàËøô‰∏™Á±ªÂèàÊòØ‰ªÄ‰πàÂë¢ÔºåÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">AspectJAutoProxyRegistrar</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ImportBeanDefinitionRegistrar</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AspectJAutoProxyRegistrar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">registerBeanDefinitions</span><span class="p">(</span><span class="n">AnnotationMetadata</span><span class="w"> </span><span class="n">importingClassMetadata</span><span class="p">,</span><span class="w"> </span><span class="n">BeanDefinitionRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Ê≥®ÂÜåAnnotationAwareAspectJAutoProxyCreatorÂà∞ÂÆπÂô®‰∏≠</span>
<span class="w">        </span><span class="n">AopConfigUtils</span><span class="p">.</span><span class="na">registerAspectJAnnotationAutoProxyCreatorIfNecessary</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>
<span class="w">        </span><span class="n">AnnotationAttributes</span><span class="w"> </span><span class="n">enableAspectJAutoProxy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnnotationConfigUtils</span><span class="p">.</span><span class="na">attributesFor</span><span class="p">(</span><span class="n">importingClassMetadata</span><span class="p">,</span><span class="w"> </span><span class="n">EnableAspectJAutoProxy</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enableAspectJAutoProxy</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enableAspectJAutoProxy</span><span class="p">.</span><span class="na">getBoolean</span><span class="p">(</span><span class="s">&quot;proxyTargetClass&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">AopConfigUtils</span><span class="p">.</span><span class="na">forceAutoProxyCreatorToUseClassProxying</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enableAspectJAutoProxy</span><span class="p">.</span><span class="na">getBoolean</span><span class="p">(</span><span class="s">&quot;exposeProxy&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">AopConfigUtils</span><span class="p">.</span><span class="na">forceAutoProxyCreatorToExposeProxy</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆÉÂÆûÁé∞‰∫ÜÊé•Âè£ÔºåËøô‰∏™Êé•Âè£‰πüÊòØSpringÊèê‰æõÁöÑ‰∏ÄÁßçBeanÂä†ËΩΩÊú∫Âà∂ÔºåÂÆÉÊîØÊåÅÁõ¥Êé•ÂêëÂÆπÂô®‰∏≠Ê∑ªÂä†BeanÂÆö‰πâÔºåÂÆπÂô®‰πü‰ºöÂä†ËΩΩËøô‰∏™BeanÔºö</p>
<ul>
<li>ImportBeanDefinitionRegistrarÁ±ªÂè™ËÉΩÈÄöËøáÂÖ∂‰ªñÁ±ª@ImportÁöÑÊñπÂºèÊù•Âä†ËΩΩÔºåÈÄöÂ∏∏ÊòØÂêØÂä®Á±ªÊàñÈÖçÁΩÆÁ±ª„ÄÇ</li>
<li>‰ΩøÁî®@ImportÔºåÂ¶ÇÊûúÊã¨Âè∑‰∏≠ÁöÑÁ±ªÊòØImportBeanDefinitionRegistrarÁöÑÂÆûÁé∞Á±ªÔºåÂàô‰ºöË∞ÉÁî®Êé•Âè£‰∏≠ÊñπÊ≥ïÔºà‰∏ÄËà¨Áî®‰∫éÊ≥®ÂÜåBeanÔºâ</li>
<li>ÂÆûÁé∞ËØ•Êé•Âè£ÁöÑÁ±ªÊã•ÊúâÊ≥®ÂÜåbeanÁöÑËÉΩÂäõ„ÄÇ</li>
</ul>
<p>Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ê≠§Êé•Âè£Êèê‰æõ‰∫Ü‰∏Ä‰∏™<code>BeanDefinitionRegistry</code>Ê≠£ÊòØÁî®‰∫éÊ≥®ÂÜåBeanÁöÑÂÆö‰πâÁöÑ„ÄÇ</p>
<p>Âõ†Ê≠§ÔºåÂΩìÊàë‰ª¨Êâì‰∏ä‰∫Ü<code>@EnableAspectJAutoProxy</code>Ê≥®Ëß£‰πãÂêéÔºåÈ¶ñÂÖà‰ºöÈÄöËøá<code>@Import</code>Âä†ËΩΩAspectJAutoProxyRegistrarÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÖ∂<code>registerBeanDefinitions</code>ÊñπÊ≥ïÔºåÁÑ∂Âêé‰ΩøÁî®Â∑•ÂÖ∑Á±ªÊ≥®ÂÜåAnnotationAwareAspectJAutoProxyCreatorÂà∞ÂÆπÂô®‰∏≠ÔºåËøôÊ†∑Âú®ÊØè‰∏™BeanÂàõÂª∫‰πãÂêéÔºåÂ¶ÇÊûúÈúÄË¶Å‰ΩøÁî®AOPÔºåÈÇ£‰πàÂ∞±‰ºöÈÄöËøáAOPÁöÑÂêéÁΩÆÂ§ÑÁêÜÂô®ËøõË°åÂ§ÑÁêÜÔºåÊúÄÂêéËøîÂõû‰∏Ä‰∏™‰ª£ÁêÜÂØπË±°„ÄÇ</p>
<p>Êàë‰ª¨‰πüÂèØ‰ª•Â∞ùËØïÁºñÂÜô‰∏Ä‰∏™Ëá™Â∑±ÁöÑImportBeanDefinitionRegistrarÂÆûÁé∞ÔºåÈ¶ñÂÖàÁºñÂÜô‰∏Ä‰∏™ÊµãËØïBeanÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestBean</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@PostConstruct</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">init</span><span class="p">(){</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëË¢´ÂàùÂßãÂåñ‰∫ÜÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestBeanDefinitionRegistrar</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ImportBeanDefinitionRegistrar</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">registerBeanDefinitions</span><span class="p">(</span><span class="n">AnnotationMetadata</span><span class="w"> </span><span class="n">importingClassMetadata</span><span class="p">,</span><span class="w"> </span><span class="n">BeanDefinitionRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">BeanDefinition</span><span class="w"> </span><span class="n">definition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BeanDefinitionBuilder</span><span class="p">.</span><span class="na">rootBeanDefinition</span><span class="p">(</span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">getBeanDefinition</span><span class="p">();</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">registerBeanDefinition</span><span class="p">(</span><span class="s">&quot;lbwnb&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">definition</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ËßÇÂØüÊéßÂà∂Âè∞ËæìÂá∫ÔºåÊàêÂäüÂä†ËΩΩBeanÂÆû‰æã„ÄÇ</p>
<p>‰∏é<code>BeanPostProcessor</code>Â∑Æ‰∏çÂ§öÁöÑËøòÊúâ<code>BeanFactoryPostProcessor</code>ÔºåÂÆÉÂíåÂâçËÄÖ‰∏ÄÊ†∑Ôºå‰πüÊòØÁî®‰∫éÊàë‰ª¨Ëá™Â∑±Â§ÑÁêÜÂêéÁΩÆÂä®‰ΩúÁöÑÔºå‰∏çËøáËøôÈáåÊòØÁî®‰∫éÂ§ÑÁêÜBeanFactoryÂä†ËΩΩÁöÑÂêéÁΩÆÂä®‰ΩúÔºå<code>BeanDefinitionRegistryPostProcessor</code>Áõ¥Êé•ÁªßÊâøËá™<code>BeanFactoryPostProcessor</code>ÔºåÂπ∂‰∏îËøòÊ∑ªÂä†‰∫ÜÊñ∞ÁöÑÂä®‰Ωú<code>postProcessBeanDefinitionRegistry</code>Ôºå‰Ω†ÂèØ‰ª•Âú®ËøôÈáåÂä®ÊÄÅÊ∑ªÂä†BeanÂÆö‰πâÊàñÊòØ‰øÆÊîπÂ∑≤ÁªèÂ≠òÂú®ÁöÑBeanÂÆö‰πâÔºåËøôÈáåÊàë‰ª¨Â∞±Áõ¥Êé•ÊºîÁ§∫<code>BeanDefinitionRegistryPostProcessor</code>ÁöÑÂÆûÁé∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestDefinitionProcessor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">BeanDefinitionRegistryPostProcessor</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">postProcessBeanDefinitionRegistry</span><span class="p">(</span><span class="n">BeanDefinitionRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØBeanÂÆö‰πâÂêéÁΩÆÂ§ÑÁêÜÔºÅ&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">BeanDefinition</span><span class="w"> </span><span class="n">definition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BeanDefinitionBuilder</span><span class="p">.</span><span class="na">rootBeanDefinition</span><span class="p">(</span><span class="n">TestBean</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">getBeanDefinition</span><span class="p">();</span>
<span class="w">        </span><span class="n">registry</span><span class="p">.</span><span class="na">registerBeanDefinition</span><span class="p">(</span><span class="s">&quot;lbwnb&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">definition</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">postProcessBeanFactory</span><span class="p">(</span><span class="n">ConfigurableListableBeanFactory</span><span class="w"> </span><span class="n">configurableListableBeanFactory</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;ÊàëÊòØBeanÂ∑•ÂéÇÂêéÁΩÆÂ§ÑÁêÜÔºÅ&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Âú®ËøôÈáåÊ≥®ÂÜåBeanÂÆö‰πâÂÖ∂ÂÆûÂíå‰πãÂâçÈÇ£ÁßçÊñπÊ≥ïÊïàÊûú‰∏ÄÊ†∑„ÄÇ</p>
<p>ÊúÄÂêéÔºåÊàë‰ª¨ÂÜçÂÆåÂñÑ‰∏Ä‰∏ãBeanÂä†ËΩΩÊµÅÁ®ãÔºàÂä†Á≤óÈÉ®ÂàÜÊòØÊñ∞Â¢ûÁöÑÔºâÔºö</p>
<p>[BeanÂÆö‰πâ]È¶ñÂÖàÊâ´ÊèèBeanÔºåÂä†ËΩΩBeanÂÆö‰πâ -&gt; <strong>[BeanÂÆö‰πâ]BeanÂÆö‰πâÂíåBeanÂ∑•ÂéÇÂêéÁΩÆÂ§ÑÁêÜ</strong> -&gt; [‰æùËµñÊ≥®ÂÖ•]Ê†πÊçÆBeanÂÆö‰πâÈÄöËøáÂèçÂ∞ÑÂàõÂª∫BeanÂÆû‰æã -&gt; [‰æùËµñÊ≥®ÂÖ•]ËøõË°å‰æùËµñÊ≥®ÂÖ•ÔºàÈ°∫‰æøËß£ÂÜ≥Âæ™ÁéØ‰æùËµñÈóÆÈ¢òÔºâ-&gt; [ÂàùÂßãÂåñBean]BeanPostProcessorÁöÑÂàùÂßãÂåñ‰πãÂâçÊñπÊ≥ï -&gt; [ÂàùÂßãÂåñBean]BeanÂàùÂßãÂåñÊñπÊ≥ï -&gt; [ÂàùÂßãÂåñBean]BeanPostProcessorÁöÑÂàùÂßãÂåñ‰πãÂâçÂêéÊñπÊ≥ï -&gt; [ÂÆåÊàê]ÊúÄÁªàÂæóÂà∞ÁöÑBeanÂä†ËΩΩÂÆåÊàêÁöÑÂÆû‰æã</p>
<h3 id="_12">Â∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáËØ¶Ëß£<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>ÂâçÈù¢Êàë‰ª¨ËØ¶ÁªÜ‰ªãÁªç‰∫ÜBeanFactoryÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºåÊé•ÁùÄÊàë‰ª¨Êù•Á†îÁ©∂‰∏Ä‰∏ãApplicationContextÁöÑÂÜÖÈÉ®ÔºåÂÆûÈôÖ‰∏äÊàë‰ª¨ÁúüÊ≠£Âú®È°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑÂ∞±ÊòØApplicationContextÁöÑÂÆûÁé∞ÔºåÈÇ£‰πàÂÆÉÂèàÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÂë¢„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ApplicationContext</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">EnvironmentCapable</span><span class="p">,</span><span class="w"> </span><span class="n">ListableBeanFactory</span><span class="p">,</span><span class="w"> </span><span class="n">HierarchicalBeanFactory</span><span class="p">,</span><span class="w"> </span><span class="n">MessageSource</span><span class="p">,</span><span class="w"> </span><span class="n">ApplicationEventPublisher</span><span class="p">,</span><span class="w"> </span><span class="n">ResourcePatternResolver</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Nullable</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">getId</span><span class="p">();</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">getApplicationName</span><span class="p">();</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">getDisplayName</span><span class="p">();</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="nf">getStartupDate</span><span class="p">();</span>
<span class="w">    </span><span class="nd">@Nullable</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="nf">getParent</span><span class="p">();</span>
<span class="w">    </span><span class="n">AutowireCapableBeanFactory</span><span class="w"> </span><span class="nf">getAutowireCapableBeanFactory</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆÉÊú¨Ë∫´ÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂêåÊó∂ÈõÜÊàê‰∫ÜÂ§öÁßçÁ±ªÂûãÁöÑBeanFactoryÊé•Âè£ÔºåËØ¥ÊòéÂÆÉÂ∫îËØ•ÂÖ∑ÊúâËøô‰∫õBeanFactoryÁöÑËÉΩÂäõÔºåÂÆûÈôÖ‰∏äÊàë‰ª¨Âú®ÂâçÈù¢Â∑≤ÁªèÊèêÂà∞ËøáÔºåApplicationContextÊòØ‰æùÈù†ÂÜÖÈÉ®Áª¥Êä§ÁöÑBeanFactoryÂØπË±°Êù•ÂÆåÊàêËøô‰∫õÂäüËÉΩÁöÑÔºåÂπ∂‰∏çÊòØÂÆÉÊú¨Ë∫´Â∞±ÂÆûÁé∞‰∫ÜËøô‰∫õÂäüËÉΩ„ÄÇ</p>
<p>ËøôÈáåÊàë‰ª¨Â∞±ÂÖà‰ªéÊûÑÈÄ†ÊñπÊ≥ïÂºÄÂßãËµ∞Ëµ∑Ôºå‰ª•Êàë‰ª¨Â∏∏Áî®ÁöÑAnnotationConfigApplicationContext‰∏∫‰æãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="nf">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="p">...</span><span class="w"> </span><span class="n">componentClasses</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">();</span><span class="w">                      </span><span class="c1">//1. È¶ñÂÖà‰ºöË∞ÉÁî®Ëá™Â∑±ÁöÑÊó†ÂèÇÊûÑÈÄ†</span>
<span class="w">        </span><span class="n">register</span><span class="p">(</span><span class="n">componentClasses</span><span class="p">);</span><span class="w">  </span><span class="c1">//2. ÁÑ∂ÂêéÊ≥®ÂÜåÊàë‰ª¨‰º†ÂÖ•ÁöÑÈÖçÁΩÆÁ±ª</span>
<span class="w">        </span><span class="n">refresh</span><span class="p">();</span><span class="w">                   </span><span class="c1">//3. ÊúÄÂêéËøõË°åÂà∑Êñ∞Êìç‰ΩúÔºàÂÖ≥ÈîÆÔºâ</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÖàÊù•ÁúãÁ¨¨‰∏ÄÊ≠•Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="nf">GenericApplicationContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//Áà∂Á±ªÈ¶ñÂÖàÂàùÂßãÂåñÂÜÖÈÉ®Áª¥Êä§ÁöÑBeanFactoryÂØπË±°</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">beanFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultListableBeanFactory</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="nf">AnnotationConfigApplicationContext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">StartupStep</span><span class="w"> </span><span class="n">createAnnotatedBeanDefReader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getApplicationStartup</span><span class="p">().</span><span class="na">start</span><span class="p">(</span><span class="s">&quot;spring.context.annotated-bean-reader.create&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ÂàõÂª∫AnnotatedBeanDefinitionReaderÂØπË±°ÔºåÁî®‰∫éÂêéÁª≠Â§ÑÁêÜ @Bean Ê≥®Ëß£</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotatedBeanDefinitionReader</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="w">        </span><span class="n">createAnnotatedBeanDefReader</span><span class="p">.</span><span class="na">end</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//ÂàõÂª∫ClassPathBeanDefinitionScannerÂØπË±°ÔºåÁî®‰∫éÊâ´ÊèèÁ±ªË∑ØÂæÑ‰∏äÁöÑBean</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">scanner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathBeanDefinitionScanner</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåAnnotationConfigApplicationContextÁöÑÂü∫Êú¨ÂÜÖÂÆπÂ∞±ÂàùÂßãÂåñÂ•Ω‰∫ÜÔºå‰∏çËøáËøôÈáåÁªìÊùü‰πãÂêé‰ºöÂ∞ÜConfigurationClassPostProcessorÂêéÁΩÆÂ§ÑÁêÜÂô®Âä†ÂÖ•Âà∞BeanFactory‰∏≠ÔºåÂÆÉÁªßÊâøËá™BeanFactoryPostProcessorÔºå‰πüÂ∞±ÊòØËØ¥‰∏Ä‰ºö‰ºöÂú®BeanFactoryÂàùÂßãÂåñÂÆåÊàê‰πãÂêéËøõË°åÂêéÁΩÆÂ§ÑÁêÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="nf">AnnotatedBeanDefinitionReader</span><span class="p">(</span><span class="n">BeanDefinitionRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="n">Environment</span><span class="w"> </span><span class="n">environment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">notNull</span><span class="p">(</span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;BeanDefinitionRegistry must not be null&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">notNull</span><span class="p">(</span><span class="n">environment</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Environment must not be null&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">registry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">registry</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">conditionEvaluator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ConditionEvaluator</span><span class="p">(</span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="n">environment</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//ËøôÈáåÊ≥®ÂÜå‰∫ÜÊ≥®Ëß£Â§ÑÁêÜÈÖçÁΩÆÁõ∏ÂÖ≥ÁöÑÂêéÁΩÆÂ§ÑÁêÜÂô®</span>
<span class="w">        </span><span class="n">AnnotationConfigUtils</span><span class="p">.</span><span class="na">registerAnnotationConfigProcessors</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">registry</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂÆûÈôÖ‰∏äËøô‰∏™ÂêéÁΩÆÂ§ÑÁêÜÂô®ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÂ∞±ÊòØ‰∏∫‰∫ÜËØªÂèñÈÖçÁΩÆÁ±ª‰∏≠ÁöÑÂêÑÁßçBeanÂÆö‰πâ‰ª•ÂèäÂÖ∂‰ªñÊ≥®Ëß£ÔºåÊØîÂ¶Ç@Import„ÄÅ@ComponentScanÁ≠â„ÄÇ</p>
<p>ÂêåÊó∂ËøôÈáå‰πü‰ºöÊ≥®ÂÜå‰∏Ä‰∏™AutowiredAnnotationBeanPostProcessorÂêéÁΩÆÂ§ÑÁêÜÂô®Âà∞BeanFactoryÔºåÂÆÉÁªßÊâøËá™BeanPostProcessorÔºåÁî®‰∫éÂ§ÑÁêÜÂêéÁª≠ÁîüÊàêÁöÑBeanÂØπË±°ÔºåÂÖ∂ÂÆûÁúãÂêçÂ≠óÂ∞±Áü•ÈÅìÔºåËøôÁé©ÊÑèÂ∞±ÊòØ‰∏∫‰∫ÜÂ§ÑÁêÜ@Autowire„ÄÅ@ValueËøôÁßçÊ≥®Ëß£ÔºåÁî®‰∫éËá™Âä®Ê≥®ÂÖ•ÔºåËøôÈáåÂ∞±‰∏çÊ∑±ÂÖ•ËÆ≤Ëß£ÂÖ∑‰ΩìÂÆûÁé∞‰∫Ü„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÁ¨¨‰∏ÄÊ≠•ÁªìÊùü‰πãÂêéÔºåÂ∞±‰ºöÊúâËøô‰∏§‰∏™ÂÖ≥ÈîÆÁöÑÂêéÁΩÆÂ§ÑÁêÜÂô®ÊîæÂú®ÂÆπÂô®‰∏≠Ôºö</p>
<p><a class="glightbox" href="https://s2.loli.net/2023/07/19/uY4zwEhArUMfP2d.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20230719152546148" src="https://s2.loli.net/2023/07/19/uY4zwEhArUMfP2d.png" /></a></p>
<p>Êé•ÁùÄÊòØÁ¨¨‰∫åÊ≠•ÔºåÊ≥®ÂÜåÈÖçÁΩÆÁ±ªÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">register</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="p">...</span><span class="w"> </span><span class="n">componentClasses</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="na">notEmpty</span><span class="p">(</span><span class="n">componentClasses</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;At least one component class must be specified&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">StartupStep</span><span class="w"> </span><span class="n">registerComponentClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getApplicationStartup</span><span class="p">().</span><span class="na">start</span><span class="p">(</span><span class="s">&quot;spring.context.component-classes.register&quot;</span><span class="p">)</span>
<span class="w">                </span><span class="p">.</span><span class="na">tag</span><span class="p">(</span><span class="s">&quot;classes&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">componentClasses</span><span class="p">));</span>
<span class="w">    </span><span class="c1">//‰ΩøÁî®Êàë‰ª¨‰∏äÈù¢ÂàõÂª∫ÁöÑReaderÊ≥®ÂÜåÈÖçÁΩÆÁ±ª</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">reader</span><span class="p">.</span><span class="na">register</span><span class="p">(</span><span class="n">componentClasses</span><span class="p">);</span>
<span class="w">        </span><span class="n">registerComponentClass</span><span class="p">.</span><span class="na">end</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>Áé∞Âú®ÈÖçÁΩÆÁ±ªÂ∑≤ÁªèÊàêÂäüÊ≥®ÂÜåÂà∞IoCÂÆπÂô®‰∏≠‰∫ÜÔºåÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÁ¨¨‰∏âÊ≠•ÔºåÂà∞ÁõÆÂâç‰∏∫Ê≠¢ÔºåÊàë‰ª¨Â∑≤Áü•ÁöÑ‰ªÖ‰ªÖÊòØÊ≥®ÂÜå‰∫ÜÈÖçÁΩÆÁ±ªÁöÑBeanÔºåËÄåÂà∑Êñ∞Êìç‰ΩúÂ∞±ÊòØÈÖçÁΩÆÊâÄÊúâBeanÁöÑÂÖ≥ÈîÆÈÉ®ÂàÜ‰∫ÜÔºåÂà∑Êñ∞Êìç‰ΩúÊòØÂú® AbstractApplicationContext ‰∏≠ÂÆûÁé∞ÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">refresh</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="p">,</span><span class="w"> </span><span class="n">IllegalStateException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">synchronized</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">startupShutdownMonitor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">StartupStep</span><span class="w"> </span><span class="n">contextRefresh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">applicationStartup</span><span class="p">.</span><span class="na">start</span><span class="p">(</span><span class="s">&quot;spring.context.refresh&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="c1">// ÂáÜÂ§áÂΩìÂâçÂ∫îÁî®Á®ãÂ∫è‰∏ä‰∏ãÊñáÔºåËøõË°åÂà∑Êñ∞„ÄÅËÆæÁΩÆÂêØÂä®‰∫ã‰ª∂ÂíåÊ¥ªÂä®Ê†áÂøó‰ª•ÂèäÊâßË°åÂÖ∂‰ªñÂàùÂßãÂåñ</span>
<span class="w">            </span><span class="n">prepareRefresh</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// Ëøô‰∏™ÊñπÊ≥ïÁî±Â≠êÁ±ªÂÆûÁé∞ÔºåÂØπÂÜÖÈÉ®Áª¥Êä§ÁöÑBeanFactoryËøõË°åÂà∑Êñ∞Êìç‰ΩúÔºåÁÑ∂ÂêéËøîÂõûËøô‰∏™BeanFactory</span>
<span class="w">            </span><span class="n">ConfigurableListableBeanFactory</span><span class="w"> </span><span class="n">beanFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obtainFreshBeanFactory</span><span class="p">();</span>
<span class="w">            </span><span class="c1">// ÂàùÂßãÂåñÈÖçÁΩÆBeanÂ∑•ÂéÇÔºåÊØîÂ¶Ç‰∏Ä‰∫õ‰ºöÁî®Âà∞ÁöÑÁ±ªÂä†ËΩΩÂô®ÂíåÂêéÁΩÆÂ§ÑÁêÜÂô®„ÄÇ</span>
<span class="w">            </span><span class="n">prepareBeanFactory</span><span class="p">(</span><span class="n">beanFactory</span><span class="p">);</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Áî±Â≠êÁ±ªÂÆûÁé∞ÂØπBeanFactoryÁöÑÂÖ∂‰ªñÂêéÁΩÆÂ§ÑÁêÜÔºåÁõÆÂâçÊ≤°ÊúâÁúãÂà∞ÊúâÂÆûÁé∞</span>
<span class="w">                </span><span class="n">postProcessBeanFactory</span><span class="p">(</span><span class="n">beanFactory</span><span class="p">);</span>
<span class="w">                </span><span class="n">StartupStep</span><span class="w"> </span><span class="n">beanPostProcess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">applicationStartup</span><span class="p">.</span><span class="na">start</span><span class="p">(</span><span class="s">&quot;spring.context.beans.post-process&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// ÂÆû‰æãÂåñÂπ∂Ë∞ÉÁî®ÊâÄÊúâÊ≥®ÂÜåÁöÑ BeanFactoryPostProcessor Á±ªÂûãÁöÑBean</span>
<span class="w">        </span><span class="c1">// Ëøô‰∏ÄÊ≠•‰∏≠Ôºå‰∏äÈù¢ÊèêÂà∞ÁöÑBeanFactoryPostProcessorÂ∞±ÂºÄÂßãÂ∑•‰Ωú‰∫ÜÔºåÊØîÂ¶ÇÂåÖÊâ´Êèè„ÄÅËß£ÊûêBeanÈÖçÁΩÆÁ≠â</span>
<span class="w">        </span><span class="c1">// Ëøô‰∏ÄÊ≠•ÁªìÊùü‰πãÂêéÔºåÂåÖÊâ´ÊèèÂà∞ÁöÑÂÖ∂‰ªñBeanÂ∞±Ê≥®ÂÜåÂà∞BeanFactory‰∏≠‰∫Ü</span>
<span class="w">                </span><span class="n">invokeBeanFactoryPostProcessors</span><span class="p">(</span><span class="n">beanFactory</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// ÂÆû‰æãÂåñÂπ∂Ê≥®ÂÜåÊâÄÊúâ BeanPostProcessor Á±ªÂûãÁöÑ BeanÔºå‰∏çÊÄ•ÁùÄÊâßË°å</span>
<span class="w">                </span><span class="n">registerBeanPostProcessors</span><span class="p">(</span><span class="n">beanFactory</span><span class="p">);</span>
<span class="w">                </span><span class="n">beanPostProcess</span><span class="p">.</span><span class="na">end</span><span class="p">();</span>
<span class="w">                </span><span class="n">initMessageSource</span><span class="p">();</span>
<span class="w">                </span><span class="n">initApplicationEventMulticaster</span><span class="p">();</span>
<span class="w">                </span><span class="c1">// ‰æùÁÑ∂ÊòØÊèê‰æõÁªôÂ≠êÁ±ªÂÆûÁé∞ÁöÑÔºåÁõÆÁöÑÊòØÁî®‰∫éÂ§ÑÁêÜ‰∏Ä‰∫õÂÖ∂‰ªñÊØîËæÉÁâπÊÆäÁöÑBeanÔºåÁõÆÂâç‰ºº‰πé‰πüÊ≤°ÁúãÂà∞ÊúâÂÆûÁé∞</span>
<span class="w">                </span><span class="n">onRefresh</span><span class="p">();</span>
<span class="w">                </span><span class="c1">// Ê≥®ÂÜåÊâÄÊúâÁöÑÁõëÂê¨Âô®</span>
<span class="w">                </span><span class="n">registerListeners</span><span class="p">();</span>
<span class="w">                </span><span class="c1">// Â∞ÜÂâ©‰ΩôÊâÄÊúâÈùûÊáíÂä†ËΩΩÂçï‰æãBeanÂÖ®ÈÉ®ÂÆû‰æãÂåñ</span>
<span class="w">                </span><span class="n">finishBeanFactoryInitialization</span><span class="p">(</span><span class="n">beanFactory</span><span class="p">);</span>
<span class="w">                </span><span class="n">finishRefresh</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">BeansException</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="p">...</span>
<span class="w">                </span><span class="c1">// ÂèëÁé∞ÂºÇÂ∏∏Áõ¥Êé•ÈîÄÊØÅÊâÄÊúâBean</span>
<span class="w">                </span><span class="n">destroyBeans</span><span class="p">();</span>
<span class="w">                </span><span class="c1">// ÂèñÊ∂àÊú¨Ê¨°Âà∑Êñ∞Êìç‰ΩúÔºåÈáçÁΩÆÊ†áËÆ∞</span>
<span class="w">                </span><span class="n">cancelRefresh</span><span class="p">(</span><span class="n">ex</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// ÁªßÁª≠ÂæÄ‰∏äÊäõÂºÇÂ∏∏</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="n">ex</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">resetCommonCaches</span><span class="p">();</span>
<span class="w">                </span><span class="n">contextRefresh</span><span class="p">.</span><span class="na">end</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÊâÄ‰ª•ÔºåÁé∞Âú®ÊµÅÁ®ãÂ∞±ÂæàÊ∏ÖÊô∞‰∫ÜÔºåÂÆûÈôÖ‰∏äÊúÄ‰∏ªË¶ÅÁöÑÂ∞±ÊòØ<code>refresh</code>ÊñπÊ≥ïÔºåÂÆÉ‰ªéÂàùÂßãÂåñÂà∞ÂÆû‰æãÂåñÊâÄÊúâÁöÑBeanÊï¥‰∏™ÊµÅÁ®ãÈÉΩÂ∑≤ÁªèÂÆåÊàêÔºåÂú®Ëøô‰∏™ÊñπÊ≥ïÁªìÊùü‰πãÂêéÔºåÊï¥‰∏™IoCÂÆπÂô®Âü∫Êú¨Â∞±ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®‰∫Ü„ÄÇ</p>
<p>Êàë‰ª¨ÁªßÁª≠Êù•Á†îÁ©∂‰∏Ä‰∏ã<code>finishBeanFactoryInitialization</code>ÊñπÊ≥ïÔºåÁúãÁúãÂÆÉÊòØÊÄé‰πàÂä†ËΩΩÊâÄÊúâBeanÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">finishBeanFactoryInitialization</span><span class="p">(</span><span class="n">ConfigurableListableBeanFactory</span><span class="w"> </span><span class="n">beanFactory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">        </span><span class="n">beanFactory</span><span class="p">.</span><span class="na">preInstantiateSingletons</span><span class="p">();</span><span class="w">   </span><span class="c1">//Â•óÂ®É</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">preInstantiateSingletons</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">BeansException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="c1">// ÂàóÂá∫ÂÖ®ÈÉ®beanÂêçÁß∞</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">beanNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">beanDefinitionNames</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// ÂºÄÂßãÂàùÂßãÂåñÊâÄÊúâBean</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">beanNames</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">//ÂæóÂà∞BeanÂÆö‰πâ</span>
<span class="w">            </span><span class="n">RootBeanDefinition</span><span class="w"> </span><span class="n">bd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getMergedLocalBeanDefinition</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">      </span><span class="c1">//Bean‰∏çËÉΩÊòØÊäΩË±°Á±ª„ÄÅ‰∏çËÉΩÊòØÈùûÂçï‰æãÊ®°Âºè„ÄÅ‰∏çËÉΩÊòØÊáíÂä†ËΩΩÁöÑ</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">bd</span><span class="p">.</span><span class="na">isAbstract</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">bd</span><span class="p">.</span><span class="na">isSingleton</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">bd</span><span class="p">.</span><span class="na">isLazyInit</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//ÈíàÂØπ‰∫éBeanÂíåFactoryBeanÂàÜÂºÄËøõË°åÂ§ÑÁêÜ</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isFactoryBean</span><span class="p">(</span><span class="n">beanName</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">Object</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getBean</span><span class="p">(</span><span class="n">FACTORY_BEAN_PREFIX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">beanName</span><span class="p">);</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bean</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">SmartFactoryBean</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">smartFactoryBean</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">smartFactoryBean</span><span class="p">.</span><span class="na">isEagerInit</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">getBean</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">getBean</span><span class="p">(</span><span class="n">beanName</span><span class="p">);</span><span class="w">  </span><span class="c1">//ÊúÄÂêéÈÉΩÊòØÈÄöËøáË∞ÉÁî®getBeanÊñπÊ≥ïÊù•ÂàùÂßãÂåñÂÆû‰æãÔºåËøôÈáåÂ∞±Ë∑üÊàë‰ª¨‰πãÂâçËÆ≤ÁöÑËøûËµ∑Êù•‰∫Ü</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>Ëá≥Ê≠§ÔºåÂÖ≥‰∫éSpringÂÆπÂô®Ê†∏ÂøÉÂä†ËΩΩÊµÅÁ®ãÔºåÊàë‰ª¨Â∞±Êé¢Á©∂ÂÆåÊØï‰∫ÜÔºåÂÆûÈôÖ ÂçïÊòìÊáÇÔºåÂ∞±ÊòØ‰ª£Á†ÅÈáèÂ§™Â§ß‰∫Ü„ÄÇÂú®ÂêéÁª≠ÁöÑSpringBootÈò∂ÊÆµÔºåÊàë‰ª¨Ëøò‰ºöÁªßÁª≠Ê∑±ÊåñSpringÁöÑÊüê‰∫õÊú∫Âà∂ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÁªÜËäÇ„ÄÇ</p>
<h3 id="mybatis_3">MybatisÊï¥ÂêàÂéüÁêÜ<a class="headerlink" href="#mybatis_3" title="Permanent link">&para;</a></h3>
<p>ÈÄöËøá‰πãÂâçÁöÑ‰∫ÜËß£ÔºåÊàë‰ª¨ÂÜçÊù•ÁúãMybatisÁöÑ<code>@MapperScan</code>ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÁé∞Âú®ÁêÜËß£Ëµ∑Êù•Â∞±ÈùûÂ∏∏ÁÆÄÂçï‰∫Ü„ÄÇ</p>
<p>Êàë‰ª¨ÂèØ‰ª•Áõ¥Êé•ÊâìÂºÄÊü•ÁúãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Retention</span><span class="p">(</span><span class="n">RetentionPolicy</span><span class="p">.</span><span class="na">RUNTIME</span><span class="p">)</span>
<span class="nd">@Target</span><span class="p">({</span><span class="n">ElementType</span><span class="p">.</span><span class="na">TYPE</span><span class="p">})</span>
<span class="nd">@Documented</span>
<span class="nd">@Import</span><span class="p">({</span><span class="n">MapperScannerRegistrar</span><span class="p">.</span><span class="na">class</span><span class="p">})</span>
<span class="nd">@Repeatable</span><span class="p">(</span><span class="n">MapperScans</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="nd">@interface</span><span class="w"> </span><span class="n">MapperScan</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="nf">value</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{};</span>

<span class="w">    </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="nf">basePackages</span><span class="p">()</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="p">...</span>
</code></pre></div>
<p>Êàë‰ª¨ÂèëÁé∞ÔºåÂíåAop‰∏ÄÊ†∑ÔºåÂÆÉ‰πüÊòØÈÄöËøáRegistrarÊú∫Âà∂ÔºåÈÄöËøá<code>@Import</code>Êù•ËøõË°åBeanÁöÑÊ≥®ÂÜåÔºåÊàë‰ª¨Êù•ÁúãÁúã<code>MapperScannerRegistrar</code>ÊòØ‰∏™‰ªÄ‰πà‰∏úË•øÔºåÂÖ≥ÈîÆ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">registerBeanDefinitions</span><span class="p">(</span><span class="n">AnnotationMetadata</span><span class="w"> </span><span class="n">annoMeta</span><span class="p">,</span><span class="w"> </span><span class="n">AnnotationAttributes</span><span class="w"> </span><span class="n">annoAttrs</span><span class="p">,</span><span class="w"> </span><span class="n">BeanDefinitionRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">beanName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">BeanDefinitionBuilder</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BeanDefinitionBuilder</span><span class="p">.</span><span class="na">genericBeanDefinition</span><span class="p">(</span><span class="n">MapperScannerConfigurer</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">builder</span><span class="p">.</span><span class="na">addPropertyValue</span><span class="p">(</span><span class="s">&quot;processPropertyPlaceHolders&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p>ËôΩÁÑ∂ÂæàÈïøÂæàÂ§öÔºå‰ΩÜÊòØËøô‰∫õ‰ª£Á†ÅÈÉΩÊòØÂú®Ê∑ªÂä†‰∏Ä‰∫õBeanÂÆö‰πâÁöÑÂ±ûÊÄßÔºåËÄåÊúÄÂÖ≥ÈîÆÁöÑÂàôÊòØÊúÄ‰∏äÊñπÁöÑ<code>MapperScannerConfigurer</code>ÔºåMybatisÂ∞ÜÂÖ∂Bean‰ø°ÊÅØÊ≥®ÂÜåÂà∞‰∫ÜÂÆπÂô®‰∏≠ÔºåÈÇ£‰πàËøô‰∏™Á±ªÂèàÊòØÂπ≤ÂòõÁöÑÂë¢Ôºü</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MapperScannerConfigurer</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">BeanDefinitionRegistryPostProcessor</span><span class="p">,</span><span class="w"> </span><span class="n">InitializingBean</span><span class="p">,</span><span class="w"> </span><span class="n">ApplicationContextAware</span><span class="p">,</span><span class="w"> </span><span class="n">BeanNameAware</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">basePackage</span><span class="p">;</span>
</code></pre></div>
<p>ÂÆÉÂÆûÁé∞‰∫ÜBeanDefinitionRegistryPostProcessorÔºå‰πüÂ∞±ÊòØËØ¥ÂÆÉ‰∏∫Bean‰ø°ÊÅØÂä†ËΩΩÊèê‰æõ‰∫ÜÂêéÁΩÆÂ§ÑÁêÜÔºåÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÁúãÂÆÉÂú®Bean‰ø°ÊÅØÂêéÁΩÆÂ§ÑÁêÜ‰∏≠ÂÅö‰∫Ü‰ªÄ‰πàÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">postProcessBeanDefinitionRegistry</span><span class="p">(</span><span class="n">BeanDefinitionRegistry</span><span class="w"> </span><span class="n">registry</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">processPropertyPlaceHolders</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">processPropertyPlaceHolders</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//ÂàùÂßãÂåñÁ±ªË∑ØÂæÑMapperÊâ´ÊèèÂô®ÔºåÂÆÉÁõ∏ÂΩì‰∫éÊòØ‰∏Ä‰∏™Â∑•ÂÖ∑Á±ªÔºåÂèØ‰ª•Âø´ÈÄüÊâ´ÊèèÂá∫Êï¥‰∏™ÂåÖ‰∏ãÁöÑÁ±ªÂÆö‰πâ‰ø°ÊÅØ</span>
<span class="w">    </span><span class="c1">//ClassPathMapperScannerÊòØMybatisËá™Â∑±ÂÆûÁé∞ÁöÑ‰∏Ä‰∏™Êâ´ÊèèÂô®Ôºå‰øÆÊîπ‰∫Ü‰∏Ä‰∫õÊâ´ÊèèËßÑÂàô</span>
<span class="w">    </span><span class="n">ClassPathMapperScanner</span><span class="w"> </span><span class="n">scanner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClassPathMapperScanner</span><span class="p">(</span><span class="n">registry</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setAddToConfig</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">addToConfig</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setAnnotationClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">annotationClass</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setMarkerInterface</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">markerInterface</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setSqlSessionFactory</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">sqlSessionFactory</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setSqlSessionTemplate</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">sqlSessionTemplate</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setSqlSessionFactoryBeanName</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">sqlSessionFactoryBeanName</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setSqlSessionTemplateBeanName</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">sqlSessionTemplateBeanName</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setResourceLoader</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">applicationContext</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setBeanNameGenerator</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">nameGenerator</span><span class="p">);</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">setMapperFactoryBeanClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">mapperFactoryBeanClass</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">hasText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">lazyInitialization</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">scanner</span><span class="p">.</span><span class="na">setLazyInitialization</span><span class="p">(</span><span class="n">Boolean</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">lazyInitialization</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">hasText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">defaultScope</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">scanner</span><span class="p">.</span><span class="na">setDefaultScope</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">defaultScope</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//Ê∑ªÂä†ËøáÊª§Âô®ÔºåËøôÈáå‰ºöÈÖçÁΩÆ‰∏∫ÊâÄÊúâÁöÑÊé•Âè£ÈÉΩËÉΩË¢´Êâ´ÊèèÔºàÂõ†Ê≠§Âç≥‰Ωø‰Ω†‰∏çÊ∑ªÂä†@MapperÊ≥®Ëß£ÈÉΩËÉΩÂ§üË¢´Êâ´ÊèèÂπ∂Âä†ËΩΩÔºâ</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">registerFilters</span><span class="p">();</span>
<span class="w">    </span><span class="c1">//ÂºÄÂßãÊâ´Êèè</span>
<span class="w">    </span><span class="n">scanner</span><span class="p">.</span><span class="na">scan</span><span class="p">(</span><span class="n">StringUtils</span><span class="p">.</span><span class="na">tokenizeToStringArray</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">basePackage</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;,; \t\n&quot;</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<p>ÂºÄÂßãÊâ´ÊèèÂêéÔºå‰ºöË∞ÉÁî®<code>doScan()</code>ÊñπÊ≥ïÔºåÊàë‰ª¨Êé•ÁùÄÊù•ÁúãÔºàËøôÊòØ<code>ClassPathMapperScanner</code>‰∏≠ÁöÑÊâ´ÊèèÊñπÊ≥ïÔºâÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">BeanDefinitionHolder</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">doScan</span><span class="p">(</span><span class="n">String</span><span class="p">...</span><span class="w"> </span><span class="n">basePackages</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">BeanDefinitionHolder</span><span class="o">&gt;</span><span class="w"> </span><span class="n">beanDefinitions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">doScan</span><span class="p">(</span><span class="n">basePackages</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//È¶ñÂÖà‰ªéÂåÖ‰∏≠Êâ´ÊèèÊâÄÊúâÁöÑBeanÂÆö‰πâ</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">beanDefinitions</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">LOGGER</span><span class="p">.</span><span class="na">warn</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;No MyBatis mapper was found in &#39;&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">toString</span><span class="p">(</span><span class="n">basePackages</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;&#39; package. Please check your configuration.&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">//Â§ÑÁêÜÊâÄÊúâÁöÑBeanÂÆö‰πâÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØÁîüÊàêÂØπÂ∫îMapperÁöÑ‰ª£ÁêÜÂØπË±°ÔºåÂπ∂Ê≥®ÂÜåÂà∞ÂÆπÂô®‰∏≠</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">processBeanDefinitions</span><span class="p">(</span><span class="n">beanDefinitions</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">//ÊúÄÂêéËøîÂõûÊâÄÊúâÁöÑBeanÂÆö‰πâÈõÜÂêà</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">beanDefinitions</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÄöËøáÊñ≠ÁÇπÊàë‰ª¨ÂèëÁé∞ÔºåÊúÄÂêéÂ§ÑÁêÜÂæóÂà∞ÁöÑBeanÂÆö‰πâÂèëÁé∞Ê≠§BeanÊòØ‰∏Ä‰∏™MapperFactoryBeanÔºåÂÆÉ‰∏çÂêå‰∫éÊôÆÈÄöÁöÑBeanÔºåFactoryBeanÁõ∏ÂΩì‰∫é‰∏∫ÊôÆÈÄöÁöÑBeanÊ∑ªÂä†‰∫Ü‰∏ÄÂ±ÇÂ§ñÂ£≥ÔºåÂÆÉÂπ∂‰∏çÊòØ‰æùÈù†SpringÁõ¥Êé•ÈÄöËøáÂèçÂ∞ÑÂàõÂª∫ÔºåËÄåÊòØ‰ΩøÁî®Êé•Âè£‰∏≠ÁöÑÊñπÊ≥ïÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">FactoryBean</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">OBJECT_TYPE_ATTRIBUTE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;factoryBeanObjectType&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Nullable</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">getObject</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@Nullable</span>
<span class="w">    </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="nf">getObjectType</span><span class="p">();</span>

<span class="w">    </span><span class="k">default</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isSingleton</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>ÈÄöËøá<code>getObject()</code>ÊñπÊ≥ïÔºåÂ∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞BeanÁöÑÂÆû‰æã‰∫Ü„ÄÇ</p>
<p>Ê≥®ÊÑèËøôÈáå‰∏ÄÂÆöË¶ÅÂå∫ÂàÜFactoryBeanÂíåBeanFactoryÁöÑÊ¶ÇÂøµÔºö</p>
<ul>
<li>BeanFactoryÊòØ‰∏™FactoryÔºå‰πüÂ∞±ÊòØ IOC ÂÆπÂô®ÊàñÂØπË±°Â∑•ÂéÇÔºåÊâÄÊúâÁöÑ Bean ÈÉΩÊòØÁî± BeanFactory( ‰πüÂ∞±ÊòØ IOC ÂÆπÂô® ) Êù•ËøõË°åÁÆ°ÁêÜ„ÄÇ</li>
<li>FactoryBeanÊòØ‰∏Ä‰∏™ËÉΩÁîü‰∫ßÊàñËÄÖ‰øÆÈ•∞ÁîüÊàêÂØπË±°ÁöÑÂ∑•ÂéÇBean(Êú¨Ë¥®‰∏ä‰πüÊòØ‰∏Ä‰∏™Bean)ÔºåÂèØ‰ª•Âú®BeanFactoryÔºàIOCÂÆπÂô®Ôºâ‰∏≠Ë¢´ÁÆ°ÁêÜÔºåÊâÄ‰ª•ÂÆÉÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑBean„ÄÇÂΩì‰ΩøÁî®ÂÆπÂô®‰∏≠factory beanÁöÑÊó∂ÂÄôÔºåËØ•ÂÆπÂô®‰∏ç‰ºöËøîÂõûfactory beanÊú¨Ë∫´ÔºåËÄåÊòØËøîÂõûÂÖ∂ÁîüÊàêÁöÑÂØπË±°„ÄÇË¶ÅÊÉ≥Ëé∑ÂèñFactoryBeanÁöÑÂÆûÁé∞Á±ªÊú¨Ë∫´ÔºåÂæóÂú®getBean(String BeanName)‰∏≠ÁöÑBeanName‰πãÂâçÂä†‰∏ä&amp;,ÂÜôÊàêgetBean(String &amp;BeanName)„ÄÇ</li>
</ul>
<p>Êàë‰ª¨‰πüÂèØ‰ª•Ëá™Â∑±ÁºñÂÜô‰∏Ä‰∏™ÂÆûÁé∞Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nd">@Component</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">)</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TestFb</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">FactoryBean</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="nf">getObject</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Ëé∑Âèñ‰∫ÜÂ≠¶Áîü&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Student</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="nf">getObjectType</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Student</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">log</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;È°πÁõÆÊ≠£Âú®ÂêØÂä®...&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">ApplicationContext</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AnnotationConfigApplicationContext</span><span class="p">(</span><span class="n">TestConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;&amp;test&quot;</span><span class="p">));</span><span class="w">   </span><span class="c1">//ÂæóÂà∞FactoryBeanÊú¨Ë∫´ÔºàÂæóÂä†‰∏™&amp;ÊêûÂæóÂÉèCËØ≠Ë®ÄÊåáÈíà‰∏ÄÊ†∑Ôºâ</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="na">getBean</span><span class="p">(</span><span class="s">&quot;test&quot;</span><span class="p">));</span><span class="w">   </span><span class="c1">//ÂæóÂà∞FactoryBeanË∞ÉÁî®getObject()‰πãÂêéÁöÑÁªìÊûú</span>
<span class="p">}</span>
</code></pre></div>
<p>Âõ†Ê≠§ÔºåÂÆûÈôÖ‰∏äÊàë‰ª¨ÁöÑMapperÊúÄÁªàÂ∞±‰ª•FactoryBeanÁöÑÂΩ¢ÂºèÔºåË¢´Ê≥®ÂÜåÂà∞ÂÆπÂô®‰∏≠ËøõË°åÂä†ËΩΩ‰∫ÜÔºö</p>
<div class="highlight"><pre><span></span><code><span class="kd">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="nf">getObject</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getSqlSession</span><span class="p">().</span><span class="na">getMapper</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">mapperInterface</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>ËøôÊ†∑ÔºåÊï¥‰∏™MybatisÁöÑ<code>@MapperScan</code>ÁöÑÂéüÁêÜÂ∞±ÂÖ®ÈÉ®Ëß£ÈáäÂÆåÊØï‰∫Ü„ÄÇ</p>
<p>Âú®‰∫ÜËß£ÂÆå‰∫ÜSpringÁöÑÂ∫ïÂ±ÇÂéüÁêÜ‰πãÂêéÔºåÊàë‰ª¨ÂÖ∂ÂÆûÂ∑≤ÁªèÂÆåÂÖ®ÂèØ‰ª•Ê†πÊçÆËøô‰∫õÂÆûÁé∞ÂéüÁêÜÊù•ÊâãÂÜô‰∏Ä‰∏™SpringÊ°ÜÊû∂‰∫Ü„ÄÇ</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../Mybatis/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Mybatis">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Mybatis
              </div>
            </div>
          </a>
        
        
          
          <a href="../SSM%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89SpringSecurity%E5%9F%BA%E7%A1%80/" class="md-footer__link md-footer__link--next" aria-label="Next: SSMÁ¨îËÆ∞Ôºà‰∏âÔºâSpringSecurityÂü∫Á°Ä">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                SSMÁ¨îËÆ∞Ôºà‰∏âÔºâSpringSecurityÂü∫Á°Ä
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.footer", "navigation.instant", "navigation.instant.preview", "navigation.tabs", "navigation.top", "navigation.tracking", "navigation.tabs.sticky", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>